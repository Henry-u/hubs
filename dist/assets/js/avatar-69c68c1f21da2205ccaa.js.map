{"version":3,"file":"assets/js/avatar-69c68c1f21da2205ccaa.js","mappings":"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ACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,UACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,aAAc,MACd,IAAO,KACP,QAAS,MACT,QAAS,MACT,YAAa,iBACb,aAAc,mBACd,QAAS,MACT,YAAa,MACb,QAAS,KACT,UAAW,gBACX,WAAY,KACZ,QAAS,MACT,QAAS,MACT,QAAS,MACT,QAAS,MACT,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,GAAM,KACN,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,GAAM,KACN,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,SAAU,KACV,YAAa,KACb,SAAU,KACV,aAAc,KACd,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,QACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,YAAa,MACb,YAAa,MACb,SAAU,MACV,YAAa,MACb,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,GAAM,UACN,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,GAAM,MACN,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,QACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,aAAc,SACd,cAAe,MACf,cAAe,MACf,aAAc,MACd,YAAa,MACb,qBAAsB,cACtB,aAAc,MACd,cAAe,MACf,YAAa,MACb,YAAa,MACb,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,SAAU,KACV,cAAe,UACf,cAAe,UACf,SAAU,MACV,WAAY,KACZ,WAAY,MACZ,SAAU,eACV,aAAc,MACd,SAAU,MACV,WAAY,MACZ,SAAU,MACV,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MAEXjC,EAAQgC,eAAiB,CACrB,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,sCACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,cACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,+CACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,oBACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,UACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,WACN,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,QACN,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,QACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,GAAM,QACN,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,cACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,+CACN,IAAO,+CACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO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AO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,WAAY,cACZ,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,QAAS,aACT,QAAS,aACT,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,GAAM,aACN,GAAM,aACN,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,IAAO,cACP,IAAO,cACP,GAAM,cACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,QAAS,aACT,QAAS,aACT,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,IAAO,cACP,GAAM,aACN,GAAM,aACN,GAAM,cACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,cACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,GAAM,aACN,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,eACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,QAAS,aACT,UAAW,aACX,QAAS,aACT,QAAS,aACT,QAAS,aACT,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,UAAW,aACX,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,UAAW,aACX,QAAS,aACT,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,SAAU,cACV,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,QAAS,aACT,UAAW,aACX,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,QAAS,aACT,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,eACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,IAAO,cACP,IAAO,cACP,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,eACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,SAAU,cACV,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,UAAW,aACX,UAAW,aACX,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,QAAS,aACT,QAAS,aACT,QAAS,aACT,QAAS,aACT,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,UAAW,aACX,QAAS,aACT,QAAS,aACT,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,aACP,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,cACX,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,WAAY,cACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,cACV,SAAU,aACV,WAAY,aACZ,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,cACf,cAAe,cACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,cACf,cAAe,cACf,cAAe,aACf,cAAe,aACf,cAAe,cACf,WAAY,cACZ,WAAY,aACZ,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,WAAY,cACZ,WAAY,cACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,cACV,SAAU,aACV,WAAY,cACZ,WAAY,aACZ,SAAU,aACV,WAAY,cACZ,WAAY,cACZ,SAAU,cACV,SAAU,aACV,WAAY,cACZ,WAAY,aACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,WAAY,cACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,SAAU,cACV,WAAY,cACZ,cAAe,cACf,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,cACV,SAAU,aACV,WAAY,aACZ,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,cACf,cAAe,aACf,SAAU,aACV,SAAU,aACV,WAAY,aACZ,cAAe,aACf,cAAe,cACf,cAAe,cACf,cAAe,cACf,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,SAAU,aACV,WAAY,aACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,WAAY,cACZ,WAAY,cACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,WAAY,aACZ,cAAe,cACf,SAAU,cACV,SAAU,aACV,WAAY,aACZ,WAAY,aACZ,SAAU,aACV,WAAY,aACZ,WAAY,aACZ,WAAY,aACZ,WAAY,cACZ,WAAY,aACZ,WAAY,aACZ,WAAY,aACZ,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,cAAe,aACf,WAAY,aACZ,SAAU,aACV,WAAY,cACZ,SAAU,cACV,WAAY,cACZ,WAAY,cACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,SAAU,aACV,WAAY,cACZ,WAAY,aACZ,WAAY,aACZ,SAAU,aACV,SAAU,aACV,WAAY,aACZ,WAAY,cACZ,WAAY,aACZ,SAAU,aACV,SAAU,aACV,SA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AO,cACP,GAAM,aACN,QAAS,aACT,UAAW,aACX,QAAS,aACT,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,cACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,cACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,SAAU,cACV,WAAY,cACZ,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,IAAO,cACP,IAAO,cACP,IAAO,cACP,IAAO,cACP,GAAM,aACN,QAAS,aACT,QAAS,aACT,UAAW,aACX,QA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","sources":["webpack://hubs/webpack/runtime/chunk loaded","webpack://hubs/webpack/runtime/create fake namespace object","webpack://hubs/webpack/runtime/load script","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/index.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/aliases.generated.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/canonicalizer.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/emitter.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/likelySubtags.generated.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/parser.js","webpack://hubs/./node_modules/@formatjs/intl-getcanonicallocales/src/types.js","webpack://hubs/./node_modules/@formatjs/intl-locale/get_internal_slots.js","webpack://hubs/./node_modules/@formatjs/intl-locale/index.js","webpack://hubs/./node_modules/@formatjs/intl-locale/polyfill.js","webpack://hubs/./node_modules/@formatjs/intl-locale/should-polyfill.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/abstract/GetOperands.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/abstract/InitializePluralRules.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/abstract/ResolvePlural.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/get_internal_slots.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/index.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/locale-data/en.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/polyfill.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/should-polyfill.js","webpack://hubs/./node_modules/@formatjs/intl-pluralrules/supported-locales.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/get_internal_slots.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/index.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/locale-data/en.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/utils.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/utils.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/types/date-time.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/skeleton.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BestFitFormatMatcher.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeLocaleList.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeTimeZoneName.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/262.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/CoerceOptionsToObject.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BasicFormatMatcher.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/DateTimeStyleFormat.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToLocalTime.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimePattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/PartitionPattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimePattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTime.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimeRangePattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRange.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRangeToParts.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeToParts.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToDateTimeOptions.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/GetOption.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/BestAvailableLocale.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/UnicodeExtensionValue.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/ResolveLocale.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/LookupMatcher.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/BestFitMatcher.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/IsValidTimeZoneName.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DefaultNumberOption.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/GetNumberOption.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/InitializeDateTimeFormat.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedCurrencyCode.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/DisplayNames/CanonicalCodeForDisplayNames.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/GetOptionsObject.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/IsSanctionedSimpleUnitIdentifier.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedUnitIdentifier.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponentForMagnitude.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawPrecision.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawFixed.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToString.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponent.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/CurrencyDigits.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/format_to_parts.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/PartitionNumberPattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToParts.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatUnitOptions.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatDigitOptions.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/InitializeNumberFormat.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/GetOperands.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/InitializePluralRules.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/ResolvePlural.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/SingularRelativeTimeUnit.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/MakePartsList.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/PartitionRelativeTimePattern.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTime.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTimeToParts.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/InitializeRelativeTimeFormat.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/data.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/SupportedLocales.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/node_modules/@formatjs/ecma402-abstract/lib/LookupSupportedLocales.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/polyfill.js","webpack://hubs/./node_modules/@formatjs/intl-relativetimeformat/should-polyfill.js","webpack://hubs/./src/assets/locales/locale_config.js","webpack://hubs/./src/utils/i18n.js","webpack://hubs/./src/utils/configs.js","webpack://hubs/./node_modules/deepmerge/dist/es.js","webpack://hubs/./src/utils/qs_truthy.js","webpack://hubs/./src/utils/detect-touchscreen.js","webpack://hubs/./src/utils/is-mobile.js","webpack://hubs/./node_modules/axios/lib/helpers/bind.js","webpack://hubs/./node_modules/axios/lib/utils.js","webpack://hubs/./node_modules/axios/lib/core/AxiosError.js","webpack://hubs/./node_modules/axios/lib/helpers/toFormData.js","webpack://hubs/./node_modules/axios/lib/helpers/AxiosURLSearchParams.js","webpack://hubs/./node_modules/axios/lib/helpers/buildURL.js","webpack://hubs/./node_modules/axios/lib/core/InterceptorManager.js","webpack://hubs/./node_modules/axios/lib/defaults/transitional.js","webpack://hubs/./node_modules/axios/lib/platform/browser/index.js","webpack://hubs/./node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","webpack://hubs/./node_modules/axios/lib/platform/browser/classes/FormData.js","webpack://hubs/./node_modules/axios/lib/platform/browser/classes/Blob.js","webpack://hubs/./node_modules/axios/lib/helpers/formDataToJSON.js","webpack://hubs/./node_modules/axios/lib/defaults/index.js","webpack://hubs/./node_modules/axios/lib/helpers/toURLEncodedForm.js","webpack://hubs/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://hubs/./node_modules/axios/lib/core/AxiosHeaders.js","webpack://hubs/./node_modules/axios/lib/core/transformData.js","webpack://hubs/./node_modules/axios/lib/cancel/isCancel.js","webpack://hubs/./node_modules/axios/lib/cancel/CanceledError.js","webpack://hubs/./node_modules/axios/lib/helpers/cookies.js","webpack://hubs/./node_modules/axios/lib/core/buildFullPath.js","webpack://hubs/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://hubs/./node_modules/axios/lib/helpers/combineURLs.js","webpack://hubs/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://hubs/./node_modules/axios/lib/adapters/xhr.js","webpack://hubs/./node_modules/axios/lib/helpers/speedometer.js","webpack://hubs/./node_modules/axios/lib/core/settle.js","webpack://hubs/./node_modules/axios/lib/helpers/parseProtocol.js","webpack://hubs/./node_modules/axios/lib/adapters/adapters.js","webpack://hubs/./node_modules/axios/lib/helpers/null.js","webpack://hubs/./node_modules/axios/lib/core/dispatchRequest.js","webpack://hubs/./node_modules/axios/lib/core/mergeConfig.js","webpack://hubs/./node_modules/axios/lib/env/data.js","webpack://hubs/./node_modules/axios/lib/helpers/validator.js","webpack://hubs/./node_modules/axios/lib/core/Axios.js","webpack://hubs/./node_modules/axios/lib/cancel/CancelToken.js","webpack://hubs/./node_modules/axios/lib/helpers/HttpStatusCode.js","webpack://hubs/./node_modules/axios/lib/axios.js","webpack://hubs/./node_modules/axios/lib/helpers/spread.js","webpack://hubs/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://hubs/./src/api/request.js","webpack://hubs/./src/config/baseUrl.js","webpack://hubs/./src/utils/phoenix-utils.js","webpack://hubs/./src/utils/identity.js","webpack://hubs/./src/utils/media-devices-utils.js","webpack://hubs/./src/constants.ts","webpack://hubs/./src/storage/store.js","webpack://hubs/./src/utils/store-instance.ts","webpack://hubs/./src/utils/theme.js","webpack://hubs/./src/utils/async-utils.js","webpack://hubs/./src/utils/logging.js","webpack://hubs/./src/react-components/wrapped-intl-provider.js","webpack://hubs/./src/utils/disable-ios-zoom.js","webpack://hubs/./src/components/environment-map.js","webpack://hubs/./node_modules/three-gltf-extensions/loaders/GLB_range_requests/GLB_range_requests.js","webpack://hubs/./node_modules/three-gltf-extensions/loaders/MSFT_lod/MSFT_lod.js","webpack://hubs/./node_modules/three-mesh-bvh/src/MeshBVHNode.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/ArrayBoxUtilities.js","webpack://hubs/./node_modules/three-mesh-bvh/src/buildFunctions.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/SeparatingAxisBounds.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/MathUtilities.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/SeparatingAxisTriangle.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/OrientedBox.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/TriangleUtils.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/ThreeIntersectionUtilities.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Utils/RayIntersectTriUtlities.js","webpack://hubs/./node_modules/three-mesh-bvh/src/castFunctions.js","webpack://hubs/./node_modules/three-mesh-bvh/src/Constants.js","webpack://hubs/./node_modules/three-mesh-bvh/src/castFunctionsBuffer.js","webpack://hubs/./node_modules/three-mesh-bvh/src/MeshBVH.js","webpack://hubs/./node_modules/three-mesh-bvh/src/MeshBVHVisualizer.js","webpack://hubs/./node_modules/three-mesh-bvh/src/MeshBVHDebug.js","webpack://hubs/./node_modules/three-mesh-bvh/src/index.js","webpack://hubs/./src/loaders/HubsTextureLoader.js","webpack://hubs/./src/utils/material-utils.js","webpack://hubs/./src/utils/media-url-utils.js","webpack://hubs/./src/camera-layers.ts","webpack://hubs/./src/utils/three-utils.js","webpack://hubs/./src/components/gltf-model-plus.js","webpack://hubs/./src/utils/promisify-worker.js","webpack://hubs/./src/workers/sketchfab-zip.worker.js","webpack://hubs/./src/utils/next-tick.js","webpack://hubs/./src/utils/avatar-utils.js","webpack://hubs/./src/utils/image-bitmap-utils.js","webpack://hubs/./src/assets/stylesheets/avatar-preview.scss?8def","webpack://hubs/./src/react-components/avatar-preview.js","webpack://hubs/./src/assets/stylesheets/avatar.scss?a3e5","webpack://hubs/./src/react-components/styles/theme.js","webpack://hubs/./src/avatar.js","webpack://hubs/./node_modules/process/browser.js","webpack://hubs/./node_modules/url/node_modules/punycode/punycode.js","webpack://hubs/./node_modules/url/node_modules/querystring/decode.js","webpack://hubs/./node_modules/url/node_modules/querystring/encode.js","webpack://hubs/./node_modules/url/node_modules/querystring/index.js","webpack://hubs/./node_modules/url/url.js","webpack://hubs/./node_modules/url/util.js","webpack://hubs/./node_modules/worker-loader/dist/runtime/inline.js","webpack://hubs/./src/assets/locales/ lazy ^\\.\\/.*\\.json$ namespace object","webpack://hubs/./node_modules/bitecs/dist/index.mjs","webpack://hubs/webpack/bootstrap","webpack://hubs/webpack/runtime/compat get default export","webpack://hubs/webpack/runtime/define property getters","webpack://hubs/webpack/runtime/ensure chunk","webpack://hubs/webpack/runtime/get javascript chunk filename","webpack://hubs/webpack/runtime/get mini-css chunk filename","webpack://hubs/webpack/runtime/global","webpack://hubs/webpack/runtime/hasOwnProperty shorthand","webpack://hubs/webpack/runtime/make namespace object","webpack://hubs/webpack/runtime/node module decorator","webpack://hubs/webpack/runtime/runtimeId","webpack://hubs/webpack/runtime/publicPath","webpack://hubs/webpack/runtime/jsonp chunk loading","webpack://hubs/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"hubs:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isUnicodeLanguageSubtag = exports.isUnicodeScriptSubtag = exports.isUnicodeRegionSubtag = exports.isStructurallyValidLanguageTag = exports.parseUnicodeLanguageId = exports.parseUnicodeLocaleId = exports.getCanonicalLocales = void 0;\nvar tslib_1 = require(\"tslib\");\nvar parser_1 = require(\"./src/parser\");\nvar emitter_1 = require(\"./src/emitter\");\nvar canonicalizer_1 = require(\"./src/canonicalizer\");\n/**\n * https://tc39.es/ecma402/#sec-canonicalizelocalelist\n * @param locales\n */\nfunction CanonicalizeLocaleList(locales) {\n    if (locales === undefined) {\n        return [];\n    }\n    var seen = [];\n    if (typeof locales === 'string') {\n        locales = [locales];\n    }\n    for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\n        var locale = locales_1[_i];\n        var canonicalizedTag = (0, emitter_1.emitUnicodeLocaleId)((0, canonicalizer_1.canonicalizeUnicodeLocaleId)((0, parser_1.parseUnicodeLocaleId)(locale)));\n        if (seen.indexOf(canonicalizedTag) < 0) {\n            seen.push(canonicalizedTag);\n        }\n    }\n    return seen;\n}\nfunction getCanonicalLocales(locales) {\n    return CanonicalizeLocaleList(locales);\n}\nexports.getCanonicalLocales = getCanonicalLocales;\nvar parser_2 = require(\"./src/parser\");\nObject.defineProperty(exports, \"parseUnicodeLocaleId\", { enumerable: true, get: function () { return parser_2.parseUnicodeLocaleId; } });\nObject.defineProperty(exports, \"parseUnicodeLanguageId\", { enumerable: true, get: function () { return parser_2.parseUnicodeLanguageId; } });\nObject.defineProperty(exports, \"isStructurallyValidLanguageTag\", { enumerable: true, get: function () { return parser_2.isStructurallyValidLanguageTag; } });\nObject.defineProperty(exports, \"isUnicodeRegionSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeRegionSubtag; } });\nObject.defineProperty(exports, \"isUnicodeScriptSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeScriptSubtag; } });\nObject.defineProperty(exports, \"isUnicodeLanguageSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeLanguageSubtag; } });\n(0, tslib_1.__exportStar)(require(\"./src/types\"), exports);\n(0, tslib_1.__exportStar)(require(\"./src/emitter\"), exports);\n(0, tslib_1.__exportStar)(require(\"./src/likelySubtags.generated\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.variantAlias = exports.scriptAlias = exports.territoryAlias = exports.languageAlias = void 0;\n/* @generated */\n// prettier-ignore  \nexports.languageAlias = {\n    \"aa-saaho\": \"ssy\",\n    \"aam\": \"aas\",\n    \"aar\": \"aa\",\n    \"abk\": \"ab\",\n    \"adp\": \"dz\",\n    \"afr\": \"af\",\n    \"agp\": \"apf\",\n    \"ais\": \"ami\",\n    \"aju\": \"jrb\",\n    \"aka\": \"ak\",\n    \"alb\": \"sq\",\n    \"als\": \"sq\",\n    \"amh\": \"am\",\n    \"ara\": \"ar\",\n    \"arb\": \"ar\",\n    \"arg\": \"an\",\n    \"arm\": \"hy\",\n    \"art-lojban\": \"jbo\",\n    \"asd\": \"snz\",\n    \"asm\": \"as\",\n    \"aue\": \"ktz\",\n    \"ava\": \"av\",\n    \"ave\": \"ae\",\n    \"aym\": \"ay\",\n    \"ayr\": \"ay\",\n    \"ayx\": \"nun\",\n    \"aze\": \"az\",\n    \"azj\": \"az\",\n    \"bak\": \"ba\",\n    \"bam\": \"bm\",\n    \"baq\": \"eu\",\n    \"baz\": \"nvo\",\n    \"bcc\": \"bal\",\n    \"bcl\": \"bik\",\n    \"bel\": \"be\",\n    \"ben\": \"bn\",\n    \"bgm\": \"bcg\",\n    \"bh\": \"bho\",\n    \"bhk\": \"fbl\",\n    \"bic\": \"bir\",\n    \"bih\": \"bho\",\n    \"bis\": \"bi\",\n    \"bjd\": \"drl\",\n    \"bjq\": \"bzc\",\n    \"bkb\": \"ebk\",\n    \"blg\": \"iba\",\n    \"bod\": \"bo\",\n    \"bos\": \"bs\",\n    \"bre\": \"br\",\n    \"btb\": \"beb\",\n    \"bul\": \"bg\",\n    \"bur\": \"my\",\n    \"bxk\": \"luy\",\n    \"bxr\": \"bua\",\n    \"cat\": \"ca\",\n    \"ccq\": \"rki\",\n    \"cel-gaulish\": \"xtg\",\n    \"ces\": \"cs\",\n    \"cha\": \"ch\",\n    \"che\": \"ce\",\n    \"chi\": \"zh\",\n    \"chu\": \"cu\",\n    \"chv\": \"cv\",\n    \"cjr\": \"mom\",\n    \"cka\": \"cmr\",\n    \"cld\": \"syr\",\n    \"cmk\": \"xch\",\n    \"cmn\": \"zh\",\n    \"cnr\": \"sr-ME\",\n    \"cor\": \"kw\",\n    \"cos\": \"co\",\n    \"coy\": \"pij\",\n    \"cqu\": \"quh\",\n    \"cre\": \"cr\",\n    \"cwd\": \"cr\",\n    \"cym\": \"cy\",\n    \"cze\": \"cs\",\n    \"daf\": \"dnj\",\n    \"dan\": \"da\",\n    \"dap\": \"njz\",\n    \"deu\": \"de\",\n    \"dgo\": \"doi\",\n    \"dhd\": \"mwr\",\n    \"dik\": \"din\",\n    \"diq\": \"zza\",\n    \"dit\": \"dif\",\n    \"div\": \"dv\",\n    \"djl\": \"dze\",\n    \"dkl\": \"aqd\",\n    \"drh\": \"mn\",\n    \"drr\": \"kzk\",\n    \"drw\": \"fa-AF\",\n    \"dud\": \"uth\",\n    \"duj\": \"dwu\",\n    \"dut\": \"nl\",\n    \"dwl\": \"dbt\",\n    \"dzo\": \"dz\",\n    \"ekk\": \"et\",\n    \"ell\": \"el\",\n    \"elp\": \"amq\",\n    \"emk\": \"man\",\n    \"en-GB-oed\": \"en-GB-oxendict\",\n    \"eng\": \"en\",\n    \"epo\": \"eo\",\n    \"esk\": \"ik\",\n    \"est\": \"et\",\n    \"eus\": \"eu\",\n    \"ewe\": \"ee\",\n    \"fao\": \"fo\",\n    \"fas\": \"fa\",\n    \"fat\": \"ak\",\n    \"fij\": \"fj\",\n    \"fin\": \"fi\",\n    \"fra\": \"fr\",\n    \"fre\": \"fr\",\n    \"fry\": \"fy\",\n    \"fuc\": \"ff\",\n    \"ful\": \"ff\",\n    \"gav\": \"dev\",\n    \"gaz\": \"om\",\n    \"gbc\": \"wny\",\n    \"gbo\": \"grb\",\n    \"geo\": \"ka\",\n    \"ger\": \"de\",\n    \"gfx\": \"vaj\",\n    \"ggn\": \"gvr\",\n    \"ggo\": \"esg\",\n    \"ggr\": \"gtu\",\n    \"gio\": \"aou\",\n    \"gla\": \"gd\",\n    \"gle\": \"ga\",\n    \"glg\": \"gl\",\n    \"gli\": \"kzk\",\n    \"glv\": \"gv\",\n    \"gno\": \"gon\",\n    \"gre\": \"el\",\n    \"grn\": \"gn\",\n    \"gti\": \"nyc\",\n    \"gug\": \"gn\",\n    \"guj\": \"gu\",\n    \"guv\": \"duz\",\n    \"gya\": \"gba\",\n    \"hat\": \"ht\",\n    \"hau\": \"ha\",\n    \"hbs\": \"sr-Latn\",\n    \"hdn\": \"hai\",\n    \"hea\": \"hmn\",\n    \"heb\": \"he\",\n    \"her\": \"hz\",\n    \"him\": \"srx\",\n    \"hin\": \"hi\",\n    \"hmo\": \"ho\",\n    \"hrr\": \"jal\",\n    \"hrv\": \"hr\",\n    \"hun\": \"hu\",\n    \"hy-arevmda\": \"hyw\",\n    \"hye\": \"hy\",\n    \"i-ami\": \"ami\",\n    \"i-bnn\": \"bnn\",\n    \"i-default\": \"en-x-i-default\",\n    \"i-enochian\": \"und-x-i-enochian\",\n    \"i-hak\": \"hak\",\n    \"i-klingon\": \"tlh\",\n    \"i-lux\": \"lb\",\n    \"i-mingo\": \"see-x-i-mingo\",\n    \"i-navajo\": \"nv\",\n    \"i-pwn\": \"pwn\",\n    \"i-tao\": \"tao\",\n    \"i-tay\": \"tay\",\n    \"i-tsu\": \"tsu\",\n    \"ibi\": \"opa\",\n    \"ibo\": \"ig\",\n    \"ice\": \"is\",\n    \"ido\": \"io\",\n    \"iii\": \"ii\",\n    \"ike\": \"iu\",\n    \"iku\": \"iu\",\n    \"ile\": \"ie\",\n    \"ill\": \"ilm\",\n    \"ilw\": \"gal\",\n    \"in\": \"id\",\n    \"ina\": \"ia\",\n    \"ind\": \"id\",\n    \"ipk\": \"ik\",\n    \"isl\": \"is\",\n    \"ita\": \"it\",\n    \"iw\": \"he\",\n    \"izi\": \"eza\",\n    \"jar\": \"jgk\",\n    \"jav\": \"jv\",\n    \"jeg\": \"oyb\",\n    \"ji\": \"yi\",\n    \"jpn\": \"ja\",\n    \"jw\": \"jv\",\n    \"kal\": \"kl\",\n    \"kan\": \"kn\",\n    \"kas\": \"ks\",\n    \"kat\": \"ka\",\n    \"kau\": \"kr\",\n    \"kaz\": \"kk\",\n    \"kdv\": \"zkd\",\n    \"kgc\": \"tdf\",\n    \"kgd\": \"ncq\",\n    \"kgh\": \"kml\",\n    \"khk\": \"mn\",\n    \"khm\": \"km\",\n    \"kik\": \"ki\",\n    \"kin\": \"rw\",\n    \"kir\": \"ky\",\n    \"kmr\": \"ku\",\n    \"knc\": \"kr\",\n    \"kng\": \"kg\",\n    \"knn\": \"kok\",\n    \"koj\": \"kwv\",\n    \"kom\": \"kv\",\n    \"kon\": \"kg\",\n    \"kor\": \"ko\",\n    \"kpp\": \"jkm\",\n    \"kpv\": \"kv\",\n    \"krm\": \"bmf\",\n    \"ktr\": \"dtp\",\n    \"kua\": \"kj\",\n    \"kur\": \"ku\",\n    \"kvs\": \"gdj\",\n    \"kwq\": \"yam\",\n    \"kxe\": \"tvd\",\n    \"kxl\": \"kru\",\n    \"kzh\": \"dgl\",\n    \"kzj\": \"dtp\",\n    \"kzt\": \"dtp\",\n    \"lao\": \"lo\",\n    \"lat\": \"la\",\n    \"lav\": \"lv\",\n    \"lbk\": \"bnc\",\n    \"leg\": \"enl\",\n    \"lii\": \"raq\",\n    \"lim\": \"li\",\n    \"lin\": \"ln\",\n    \"lit\": \"lt\",\n    \"llo\": \"ngt\",\n    \"lmm\": \"rmx\",\n    \"ltz\": \"lb\",\n    \"lub\": \"lu\",\n    \"lug\": \"lg\",\n    \"lvs\": \"lv\",\n    \"mac\": \"mk\",\n    \"mah\": \"mh\",\n    \"mal\": \"ml\",\n    \"mao\": \"mi\",\n    \"mar\": \"mr\",\n    \"may\": \"ms\",\n    \"meg\": \"cir\",\n    \"mgx\": \"jbk\",\n    \"mhr\": \"chm\",\n    \"mkd\": \"mk\",\n    \"mlg\": \"mg\",\n    \"mlt\": \"mt\",\n    \"mnk\": \"man\",\n    \"mnt\": \"wnn\",\n    \"mo\": \"ro\",\n    \"mof\": \"xnt\",\n    \"mol\": \"ro\",\n    \"mon\": \"mn\",\n    \"mri\": \"mi\",\n    \"msa\": \"ms\",\n    \"mst\": \"mry\",\n    \"mup\": \"raj\",\n    \"mwd\": \"dmw\",\n    \"mwj\": \"vaj\",\n    \"mya\": \"my\",\n    \"myd\": \"aog\",\n    \"myt\": \"mry\",\n    \"nad\": \"xny\",\n    \"nau\": \"na\",\n    \"nav\": \"nv\",\n    \"nbf\": \"nru\",\n    \"nbl\": \"nr\",\n    \"nbx\": \"ekc\",\n    \"ncp\": \"kdz\",\n    \"nde\": \"nd\",\n    \"ndo\": \"ng\",\n    \"nep\": \"ne\",\n    \"nld\": \"nl\",\n    \"nln\": \"azd\",\n    \"nlr\": \"nrk\",\n    \"nno\": \"nn\",\n    \"nns\": \"nbr\",\n    \"nnx\": \"ngv\",\n    \"no-bok\": \"nb\",\n    \"no-bokmal\": \"nb\",\n    \"no-nyn\": \"nn\",\n    \"no-nynorsk\": \"nn\",\n    \"nob\": \"nb\",\n    \"noo\": \"dtd\",\n    \"nor\": \"no\",\n    \"npi\": \"ne\",\n    \"nts\": \"pij\",\n    \"nxu\": \"bpp\",\n    \"nya\": \"ny\",\n    \"oci\": \"oc\",\n    \"ojg\": \"oj\",\n    \"oji\": \"oj\",\n    \"ori\": \"or\",\n    \"orm\": \"om\",\n    \"ory\": \"or\",\n    \"oss\": \"os\",\n    \"oun\": \"vaj\",\n    \"pan\": \"pa\",\n    \"pat\": \"kxr\",\n    \"pbu\": \"ps\",\n    \"pcr\": \"adx\",\n    \"per\": \"fa\",\n    \"pes\": \"fa\",\n    \"pli\": \"pi\",\n    \"plt\": \"mg\",\n    \"pmc\": \"huw\",\n    \"pmu\": \"phr\",\n    \"pnb\": \"lah\",\n    \"pol\": \"pl\",\n    \"por\": \"pt\",\n    \"ppa\": \"bfy\",\n    \"ppr\": \"lcq\",\n    \"prs\": \"fa-AF\",\n    \"pry\": \"prt\",\n    \"pus\": \"ps\",\n    \"puz\": \"pub\",\n    \"que\": \"qu\",\n    \"quz\": \"qu\",\n    \"rmr\": \"emx\",\n    \"rmy\": \"rom\",\n    \"roh\": \"rm\",\n    \"ron\": \"ro\",\n    \"rum\": \"ro\",\n    \"run\": \"rn\",\n    \"rus\": \"ru\",\n    \"sag\": \"sg\",\n    \"san\": \"sa\",\n    \"sap\": \"aqt\",\n    \"sca\": \"hle\",\n    \"scc\": \"sr\",\n    \"scr\": \"hr\",\n    \"sgl\": \"isk\",\n    \"sgn-BE-FR\": \"sfb\",\n    \"sgn-BE-NL\": \"vgt\",\n    \"sgn-BR\": \"bzs\",\n    \"sgn-CH-DE\": \"sgg\",\n    \"sgn-CO\": \"csn\",\n    \"sgn-DE\": \"gsg\",\n    \"sgn-DK\": \"dsl\",\n    \"sgn-ES\": \"ssp\",\n    \"sgn-FR\": \"fsl\",\n    \"sgn-GB\": \"bfi\",\n    \"sgn-GR\": \"gss\",\n    \"sgn-IE\": \"isg\",\n    \"sgn-IT\": \"ise\",\n    \"sgn-JP\": \"jsl\",\n    \"sgn-MX\": \"mfs\",\n    \"sgn-NI\": \"ncs\",\n    \"sgn-NL\": \"dse\",\n    \"sgn-NO\": \"nsi\",\n    \"sgn-PT\": \"psr\",\n    \"sgn-SE\": \"swl\",\n    \"sgn-US\": \"ase\",\n    \"sgn-ZA\": \"sfs\",\n    \"sh\": \"sr-Latn\",\n    \"sin\": \"si\",\n    \"skk\": \"oyb\",\n    \"slk\": \"sk\",\n    \"slo\": \"sk\",\n    \"slv\": \"sl\",\n    \"sme\": \"se\",\n    \"smo\": \"sm\",\n    \"sna\": \"sn\",\n    \"snd\": \"sd\",\n    \"som\": \"so\",\n    \"sot\": \"st\",\n    \"spa\": \"es\",\n    \"spy\": \"kln\",\n    \"sqi\": \"sq\",\n    \"src\": \"sc\",\n    \"srd\": \"sc\",\n    \"srp\": \"sr\",\n    \"ssw\": \"ss\",\n    \"sul\": \"sgd\",\n    \"sum\": \"ulw\",\n    \"sun\": \"su\",\n    \"swa\": \"sw\",\n    \"swc\": \"sw-CD\",\n    \"swe\": \"sv\",\n    \"swh\": \"sw\",\n    \"tah\": \"ty\",\n    \"tam\": \"ta\",\n    \"tat\": \"tt\",\n    \"tdu\": \"dtp\",\n    \"tel\": \"te\",\n    \"tgg\": \"bjp\",\n    \"tgk\": \"tg\",\n    \"tgl\": \"fil\",\n    \"tha\": \"th\",\n    \"thc\": \"tpo\",\n    \"thw\": \"ola\",\n    \"thx\": \"oyb\",\n    \"tib\": \"bo\",\n    \"tid\": \"itd\",\n    \"tie\": \"ras\",\n    \"tir\": \"ti\",\n    \"tkk\": \"twm\",\n    \"tl\": \"fil\",\n    \"tlw\": \"weo\",\n    \"tmp\": \"tyj\",\n    \"tne\": \"kak\",\n    \"tnf\": \"fa-AF\",\n    \"ton\": \"to\",\n    \"tsf\": \"taj\",\n    \"tsn\": \"tn\",\n    \"tso\": \"ts\",\n    \"ttq\": \"tmh\",\n    \"tuk\": \"tk\",\n    \"tur\": \"tr\",\n    \"tw\": \"ak\",\n    \"twi\": \"ak\",\n    \"uig\": \"ug\",\n    \"ukr\": \"uk\",\n    \"umu\": \"del\",\n    \"und-aaland\": \"und-AX\",\n    \"und-arevela\": \"und\",\n    \"und-arevmda\": \"und\",\n    \"und-bokmal\": \"und\",\n    \"und-hakka\": \"und\",\n    \"und-hepburn-heploc\": \"und-alalc97\",\n    \"und-lojban\": \"und\",\n    \"und-nynorsk\": \"und\",\n    \"und-saaho\": \"und\",\n    \"und-xiang\": \"und\",\n    \"unp\": \"wro\",\n    \"uok\": \"ema\",\n    \"urd\": \"ur\",\n    \"uzb\": \"uz\",\n    \"uzn\": \"uz\",\n    \"ven\": \"ve\",\n    \"vie\": \"vi\",\n    \"vol\": \"vo\",\n    \"wel\": \"cy\",\n    \"wgw\": \"wgb\",\n    \"wit\": \"nol\",\n    \"wiw\": \"nwo\",\n    \"wln\": \"wa\",\n    \"wol\": \"wo\",\n    \"xba\": \"cax\",\n    \"xho\": \"xh\",\n    \"xia\": \"acn\",\n    \"xkh\": \"waw\",\n    \"xpe\": \"kpe\",\n    \"xrq\": \"dmw\",\n    \"xsj\": \"suj\",\n    \"xsl\": \"den\",\n    \"ybd\": \"rki\",\n    \"ydd\": \"yi\",\n    \"yen\": \"ynq\",\n    \"yid\": \"yi\",\n    \"yiy\": \"yrm\",\n    \"yma\": \"lrr\",\n    \"ymt\": \"mtm\",\n    \"yor\": \"yo\",\n    \"yos\": \"zom\",\n    \"yuu\": \"yug\",\n    \"zai\": \"zap\",\n    \"zh-cmn\": \"zh\",\n    \"zh-cmn-Hans\": \"zh-Hans\",\n    \"zh-cmn-Hant\": \"zh-Hant\",\n    \"zh-gan\": \"gan\",\n    \"zh-guoyu\": \"zh\",\n    \"zh-hakka\": \"hak\",\n    \"zh-min\": \"nan-x-zh-min\",\n    \"zh-min-nan\": \"nan\",\n    \"zh-wuu\": \"wuu\",\n    \"zh-xiang\": \"hsn\",\n    \"zh-yue\": \"yue\",\n    \"zha\": \"za\",\n    \"zho\": \"zh\",\n    \"zir\": \"scv\",\n    \"zsm\": \"ms\",\n    \"zul\": \"zu\",\n    \"zyb\": \"za\"\n};\nexports.territoryAlias = {\n    \"100\": \"BG\",\n    \"104\": \"MM\",\n    \"108\": \"BI\",\n    \"112\": \"BY\",\n    \"116\": \"KH\",\n    \"120\": \"CM\",\n    \"124\": \"CA\",\n    \"132\": \"CV\",\n    \"136\": \"KY\",\n    \"140\": \"CF\",\n    \"144\": \"LK\",\n    \"148\": \"TD\",\n    \"152\": \"CL\",\n    \"156\": \"CN\",\n    \"158\": \"TW\",\n    \"162\": \"CX\",\n    \"166\": \"CC\",\n    \"170\": \"CO\",\n    \"172\": \"RU AM AZ BY GE KG KZ MD TJ TM UA UZ\",\n    \"174\": \"KM\",\n    \"175\": \"YT\",\n    \"178\": \"CG\",\n    \"180\": \"CD\",\n    \"184\": \"CK\",\n    \"188\": \"CR\",\n    \"191\": \"HR\",\n    \"192\": \"CU\",\n    \"196\": \"CY\",\n    \"200\": \"CZ SK\",\n    \"203\": \"CZ\",\n    \"204\": \"BJ\",\n    \"208\": \"DK\",\n    \"212\": \"DM\",\n    \"214\": \"DO\",\n    \"218\": \"EC\",\n    \"222\": \"SV\",\n    \"226\": \"GQ\",\n    \"230\": \"ET\",\n    \"231\": \"ET\",\n    \"232\": \"ER\",\n    \"233\": \"EE\",\n    \"234\": \"FO\",\n    \"238\": \"FK\",\n    \"239\": \"GS\",\n    \"242\": \"FJ\",\n    \"246\": \"FI\",\n    \"248\": \"AX\",\n    \"249\": \"FR\",\n    \"250\": \"FR\",\n    \"254\": \"GF\",\n    \"258\": \"PF\",\n    \"260\": \"TF\",\n    \"262\": \"DJ\",\n    \"266\": \"GA\",\n    \"268\": \"GE\",\n    \"270\": \"GM\",\n    \"275\": \"PS\",\n    \"276\": \"DE\",\n    \"278\": \"DE\",\n    \"280\": \"DE\",\n    \"288\": \"GH\",\n    \"292\": \"GI\",\n    \"296\": \"KI\",\n    \"300\": \"GR\",\n    \"304\": \"GL\",\n    \"308\": \"GD\",\n    \"312\": \"GP\",\n    \"316\": \"GU\",\n    \"320\": \"GT\",\n    \"324\": \"GN\",\n    \"328\": \"GY\",\n    \"332\": \"HT\",\n    \"334\": \"HM\",\n    \"336\": \"VA\",\n    \"340\": \"HN\",\n    \"344\": \"HK\",\n    \"348\": \"HU\",\n    \"352\": \"IS\",\n    \"356\": \"IN\",\n    \"360\": \"ID\",\n    \"364\": \"IR\",\n    \"368\": \"IQ\",\n    \"372\": \"IE\",\n    \"376\": \"IL\",\n    \"380\": \"IT\",\n    \"384\": \"CI\",\n    \"388\": \"JM\",\n    \"392\": \"JP\",\n    \"398\": \"KZ\",\n    \"400\": \"JO\",\n    \"404\": \"KE\",\n    \"408\": \"KP\",\n    \"410\": \"KR\",\n    \"414\": \"KW\",\n    \"417\": \"KG\",\n    \"418\": \"LA\",\n    \"422\": \"LB\",\n    \"426\": \"LS\",\n    \"428\": \"LV\",\n    \"430\": \"LR\",\n    \"434\": \"LY\",\n    \"438\": \"LI\",\n    \"440\": \"LT\",\n    \"442\": \"LU\",\n    \"446\": \"MO\",\n    \"450\": \"MG\",\n    \"454\": \"MW\",\n    \"458\": \"MY\",\n    \"462\": \"MV\",\n    \"466\": \"ML\",\n    \"470\": \"MT\",\n    \"474\": \"MQ\",\n    \"478\": \"MR\",\n    \"480\": \"MU\",\n    \"484\": \"MX\",\n    \"492\": \"MC\",\n    \"496\": \"MN\",\n    \"498\": \"MD\",\n    \"499\": \"ME\",\n    \"500\": \"MS\",\n    \"504\": \"MA\",\n    \"508\": \"MZ\",\n    \"512\": \"OM\",\n    \"516\": \"NA\",\n    \"520\": \"NR\",\n    \"524\": \"NP\",\n    \"528\": \"NL\",\n    \"530\": \"CW SX BQ\",\n    \"531\": \"CW\",\n    \"532\": \"CW SX BQ\",\n    \"533\": \"AW\",\n    \"534\": \"SX\",\n    \"535\": \"BQ\",\n    \"536\": \"SA IQ\",\n    \"540\": \"NC\",\n    \"548\": \"VU\",\n    \"554\": \"NZ\",\n    \"558\": \"NI\",\n    \"562\": \"NE\",\n    \"566\": \"NG\",\n    \"570\": \"NU\",\n    \"574\": \"NF\",\n    \"578\": \"NO\",\n    \"580\": \"MP\",\n    \"581\": \"UM\",\n    \"582\": \"FM MH MP PW\",\n    \"583\": \"FM\",\n    \"584\": \"MH\",\n    \"585\": \"PW\",\n    \"586\": \"PK\",\n    \"591\": \"PA\",\n    \"598\": \"PG\",\n    \"600\": \"PY\",\n    \"604\": \"PE\",\n    \"608\": \"PH\",\n    \"612\": \"PN\",\n    \"616\": \"PL\",\n    \"620\": \"PT\",\n    \"624\": \"GW\",\n    \"626\": \"TL\",\n    \"630\": \"PR\",\n    \"634\": \"QA\",\n    \"638\": \"RE\",\n    \"642\": \"RO\",\n    \"643\": \"RU\",\n    \"646\": \"RW\",\n    \"652\": \"BL\",\n    \"654\": \"SH\",\n    \"659\": \"KN\",\n    \"660\": \"AI\",\n    \"662\": \"LC\",\n    \"663\": \"MF\",\n    \"666\": \"PM\",\n    \"670\": \"VC\",\n    \"674\": \"SM\",\n    \"678\": \"ST\",\n    \"682\": \"SA\",\n    \"686\": \"SN\",\n    \"688\": \"RS\",\n    \"690\": \"SC\",\n    \"694\": \"SL\",\n    \"702\": \"SG\",\n    \"703\": \"SK\",\n    \"704\": \"VN\",\n    \"705\": \"SI\",\n    \"706\": \"SO\",\n    \"710\": \"ZA\",\n    \"716\": \"ZW\",\n    \"720\": \"YE\",\n    \"724\": \"ES\",\n    \"728\": \"SS\",\n    \"729\": \"SD\",\n    \"732\": \"EH\",\n    \"736\": \"SD\",\n    \"740\": \"SR\",\n    \"744\": \"SJ\",\n    \"748\": \"SZ\",\n    \"752\": \"SE\",\n    \"756\": \"CH\",\n    \"760\": \"SY\",\n    \"762\": \"TJ\",\n    \"764\": \"TH\",\n    \"768\": \"TG\",\n    \"772\": \"TK\",\n    \"776\": \"TO\",\n    \"780\": \"TT\",\n    \"784\": \"AE\",\n    \"788\": \"TN\",\n    \"792\": \"TR\",\n    \"795\": \"TM\",\n    \"796\": \"TC\",\n    \"798\": \"TV\",\n    \"800\": \"UG\",\n    \"804\": \"UA\",\n    \"807\": \"MK\",\n    \"810\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"818\": \"EG\",\n    \"826\": \"GB\",\n    \"830\": \"JE GG\",\n    \"831\": \"GG\",\n    \"832\": \"JE\",\n    \"833\": \"IM\",\n    \"834\": \"TZ\",\n    \"840\": \"US\",\n    \"850\": \"VI\",\n    \"854\": \"BF\",\n    \"858\": \"UY\",\n    \"860\": \"UZ\",\n    \"862\": \"VE\",\n    \"876\": \"WF\",\n    \"882\": \"WS\",\n    \"886\": \"YE\",\n    \"887\": \"YE\",\n    \"890\": \"RS ME SI HR MK BA\",\n    \"891\": \"RS ME\",\n    \"894\": \"ZM\",\n    \"958\": \"AA\",\n    \"959\": \"QM\",\n    \"960\": \"QN\",\n    \"962\": \"QP\",\n    \"963\": \"QQ\",\n    \"964\": \"QR\",\n    \"965\": \"QS\",\n    \"966\": \"QT\",\n    \"967\": \"EU\",\n    \"968\": \"QV\",\n    \"969\": \"QW\",\n    \"970\": \"QX\",\n    \"971\": \"QY\",\n    \"972\": \"QZ\",\n    \"973\": \"XA\",\n    \"974\": \"XB\",\n    \"975\": \"XC\",\n    \"976\": \"XD\",\n    \"977\": \"XE\",\n    \"978\": \"XF\",\n    \"979\": \"XG\",\n    \"980\": \"XH\",\n    \"981\": \"XI\",\n    \"982\": \"XJ\",\n    \"983\": \"XK\",\n    \"984\": \"XL\",\n    \"985\": \"XM\",\n    \"986\": \"XN\",\n    \"987\": \"XO\",\n    \"988\": \"XP\",\n    \"989\": \"XQ\",\n    \"990\": \"XR\",\n    \"991\": \"XS\",\n    \"992\": \"XT\",\n    \"993\": \"XU\",\n    \"994\": \"XV\",\n    \"995\": \"XW\",\n    \"996\": \"XX\",\n    \"997\": \"XY\",\n    \"998\": \"XZ\",\n    \"999\": \"ZZ\",\n    \"004\": \"AF\",\n    \"008\": \"AL\",\n    \"010\": \"AQ\",\n    \"012\": \"DZ\",\n    \"016\": \"AS\",\n    \"020\": \"AD\",\n    \"024\": \"AO\",\n    \"028\": \"AG\",\n    \"031\": \"AZ\",\n    \"032\": \"AR\",\n    \"036\": \"AU\",\n    \"040\": \"AT\",\n    \"044\": \"BS\",\n    \"048\": \"BH\",\n    \"050\": \"BD\",\n    \"051\": \"AM\",\n    \"052\": \"BB\",\n    \"056\": \"BE\",\n    \"060\": \"BM\",\n    \"062\": \"034 143\",\n    \"064\": \"BT\",\n    \"068\": \"BO\",\n    \"070\": \"BA\",\n    \"072\": \"BW\",\n    \"074\": \"BV\",\n    \"076\": \"BR\",\n    \"084\": \"BZ\",\n    \"086\": \"IO\",\n    \"090\": \"SB\",\n    \"092\": \"VG\",\n    \"096\": \"BN\",\n    \"AAA\": \"AA\",\n    \"ABW\": \"AW\",\n    \"AFG\": \"AF\",\n    \"AGO\": \"AO\",\n    \"AIA\": \"AI\",\n    \"ALA\": \"AX\",\n    \"ALB\": \"AL\",\n    \"AN\": \"CW SX BQ\",\n    \"AND\": \"AD\",\n    \"ANT\": \"CW SX BQ\",\n    \"ARE\": \"AE\",\n    \"ARG\": \"AR\",\n    \"ARM\": \"AM\",\n    \"ASC\": \"AC\",\n    \"ASM\": \"AS\",\n    \"ATA\": \"AQ\",\n    \"ATF\": \"TF\",\n    \"ATG\": \"AG\",\n    \"AUS\": \"AU\",\n    \"AUT\": \"AT\",\n    \"AZE\": \"AZ\",\n    \"BDI\": \"BI\",\n    \"BEL\": \"BE\",\n    \"BEN\": \"BJ\",\n    \"BES\": \"BQ\",\n    \"BFA\": \"BF\",\n    \"BGD\": \"BD\",\n    \"BGR\": \"BG\",\n    \"BHR\": \"BH\",\n    \"BHS\": \"BS\",\n    \"BIH\": \"BA\",\n    \"BLM\": \"BL\",\n    \"BLR\": \"BY\",\n    \"BLZ\": \"BZ\",\n    \"BMU\": \"BM\",\n    \"BOL\": \"BO\",\n    \"BRA\": \"BR\",\n    \"BRB\": \"BB\",\n    \"BRN\": \"BN\",\n    \"BTN\": \"BT\",\n    \"BU\": \"MM\",\n    \"BUR\": \"MM\",\n    \"BVT\": \"BV\",\n    \"BWA\": \"BW\",\n    \"CAF\": \"CF\",\n    \"CAN\": \"CA\",\n    \"CCK\": \"CC\",\n    \"CHE\": \"CH\",\n    \"CHL\": \"CL\",\n    \"CHN\": \"CN\",\n    \"CIV\": \"CI\",\n    \"CMR\": \"CM\",\n    \"COD\": \"CD\",\n    \"COG\": \"CG\",\n    \"COK\": \"CK\",\n    \"COL\": \"CO\",\n    \"COM\": \"KM\",\n    \"CPT\": \"CP\",\n    \"CPV\": \"CV\",\n    \"CRI\": \"CR\",\n    \"CS\": \"RS ME\",\n    \"CT\": \"KI\",\n    \"CUB\": \"CU\",\n    \"CUW\": \"CW\",\n    \"CXR\": \"CX\",\n    \"CYM\": \"KY\",\n    \"CYP\": \"CY\",\n    \"CZE\": \"CZ\",\n    \"DD\": \"DE\",\n    \"DDR\": \"DE\",\n    \"DEU\": \"DE\",\n    \"DGA\": \"DG\",\n    \"DJI\": \"DJ\",\n    \"DMA\": \"DM\",\n    \"DNK\": \"DK\",\n    \"DOM\": \"DO\",\n    \"DY\": \"BJ\",\n    \"DZA\": \"DZ\",\n    \"ECU\": \"EC\",\n    \"EGY\": \"EG\",\n    \"ERI\": \"ER\",\n    \"ESH\": \"EH\",\n    \"ESP\": \"ES\",\n    \"EST\": \"EE\",\n    \"ETH\": \"ET\",\n    \"FIN\": \"FI\",\n    \"FJI\": \"FJ\",\n    \"FLK\": \"FK\",\n    \"FQ\": \"AQ TF\",\n    \"FRA\": \"FR\",\n    \"FRO\": \"FO\",\n    \"FSM\": \"FM\",\n    \"FX\": \"FR\",\n    \"FXX\": \"FR\",\n    \"GAB\": \"GA\",\n    \"GBR\": \"GB\",\n    \"GEO\": \"GE\",\n    \"GGY\": \"GG\",\n    \"GHA\": \"GH\",\n    \"GIB\": \"GI\",\n    \"GIN\": \"GN\",\n    \"GLP\": \"GP\",\n    \"GMB\": \"GM\",\n    \"GNB\": \"GW\",\n    \"GNQ\": \"GQ\",\n    \"GRC\": \"GR\",\n    \"GRD\": \"GD\",\n    \"GRL\": \"GL\",\n    \"GTM\": \"GT\",\n    \"GUF\": \"GF\",\n    \"GUM\": \"GU\",\n    \"GUY\": \"GY\",\n    \"HKG\": \"HK\",\n    \"HMD\": \"HM\",\n    \"HND\": \"HN\",\n    \"HRV\": \"HR\",\n    \"HTI\": \"HT\",\n    \"HUN\": \"HU\",\n    \"HV\": \"BF\",\n    \"IDN\": \"ID\",\n    \"IMN\": \"IM\",\n    \"IND\": \"IN\",\n    \"IOT\": \"IO\",\n    \"IRL\": \"IE\",\n    \"IRN\": \"IR\",\n    \"IRQ\": \"IQ\",\n    \"ISL\": \"IS\",\n    \"ISR\": \"IL\",\n    \"ITA\": \"IT\",\n    \"JAM\": \"JM\",\n    \"JEY\": \"JE\",\n    \"JOR\": \"JO\",\n    \"JPN\": \"JP\",\n    \"JT\": \"UM\",\n    \"KAZ\": \"KZ\",\n    \"KEN\": \"KE\",\n    \"KGZ\": \"KG\",\n    \"KHM\": \"KH\",\n    \"KIR\": \"KI\",\n    \"KNA\": \"KN\",\n    \"KOR\": \"KR\",\n    \"KWT\": \"KW\",\n    \"LAO\": \"LA\",\n    \"LBN\": \"LB\",\n    \"LBR\": \"LR\",\n    \"LBY\": \"LY\",\n    \"LCA\": \"LC\",\n    \"LIE\": \"LI\",\n    \"LKA\": \"LK\",\n    \"LSO\": \"LS\",\n    \"LTU\": \"LT\",\n    \"LUX\": \"LU\",\n    \"LVA\": \"LV\",\n    \"MAC\": \"MO\",\n    \"MAF\": \"MF\",\n    \"MAR\": \"MA\",\n    \"MCO\": \"MC\",\n    \"MDA\": \"MD\",\n    \"MDG\": \"MG\",\n    \"MDV\": \"MV\",\n    \"MEX\": \"MX\",\n    \"MHL\": \"MH\",\n    \"MI\": \"UM\",\n    \"MKD\": \"MK\",\n    \"MLI\": \"ML\",\n    \"MLT\": \"MT\",\n    \"MMR\": \"MM\",\n    \"MNE\": \"ME\",\n    \"MNG\": \"MN\",\n    \"MNP\": \"MP\",\n    \"MOZ\": \"MZ\",\n    \"MRT\": \"MR\",\n    \"MSR\": \"MS\",\n    \"MTQ\": \"MQ\",\n    \"MUS\": \"MU\",\n    \"MWI\": \"MW\",\n    \"MYS\": \"MY\",\n    \"MYT\": \"YT\",\n    \"NAM\": \"NA\",\n    \"NCL\": \"NC\",\n    \"NER\": \"NE\",\n    \"NFK\": \"NF\",\n    \"NGA\": \"NG\",\n    \"NH\": \"VU\",\n    \"NIC\": \"NI\",\n    \"NIU\": \"NU\",\n    \"NLD\": \"NL\",\n    \"NOR\": \"NO\",\n    \"NPL\": \"NP\",\n    \"NQ\": \"AQ\",\n    \"NRU\": \"NR\",\n    \"NT\": \"SA IQ\",\n    \"NTZ\": \"SA IQ\",\n    \"NZL\": \"NZ\",\n    \"OMN\": \"OM\",\n    \"PAK\": \"PK\",\n    \"PAN\": \"PA\",\n    \"PC\": \"FM MH MP PW\",\n    \"PCN\": \"PN\",\n    \"PER\": \"PE\",\n    \"PHL\": \"PH\",\n    \"PLW\": \"PW\",\n    \"PNG\": \"PG\",\n    \"POL\": \"PL\",\n    \"PRI\": \"PR\",\n    \"PRK\": \"KP\",\n    \"PRT\": \"PT\",\n    \"PRY\": \"PY\",\n    \"PSE\": \"PS\",\n    \"PU\": \"UM\",\n    \"PYF\": \"PF\",\n    \"PZ\": \"PA\",\n    \"QAT\": \"QA\",\n    \"QMM\": \"QM\",\n    \"QNN\": \"QN\",\n    \"QPP\": \"QP\",\n    \"QQQ\": \"QQ\",\n    \"QRR\": \"QR\",\n    \"QSS\": \"QS\",\n    \"QTT\": \"QT\",\n    \"QU\": \"EU\",\n    \"QUU\": \"EU\",\n    \"QVV\": \"QV\",\n    \"QWW\": \"QW\",\n    \"QXX\": \"QX\",\n    \"QYY\": \"QY\",\n    \"QZZ\": \"QZ\",\n    \"REU\": \"RE\",\n    \"RH\": \"ZW\",\n    \"ROU\": \"RO\",\n    \"RUS\": \"RU\",\n    \"RWA\": \"RW\",\n    \"SAU\": \"SA\",\n    \"SCG\": \"RS ME\",\n    \"SDN\": \"SD\",\n    \"SEN\": \"SN\",\n    \"SGP\": \"SG\",\n    \"SGS\": \"GS\",\n    \"SHN\": \"SH\",\n    \"SJM\": \"SJ\",\n    \"SLB\": \"SB\",\n    \"SLE\": \"SL\",\n    \"SLV\": \"SV\",\n    \"SMR\": \"SM\",\n    \"SOM\": \"SO\",\n    \"SPM\": \"PM\",\n    \"SRB\": \"RS\",\n    \"SSD\": \"SS\",\n    \"STP\": \"ST\",\n    \"SU\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"SUN\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"SUR\": \"SR\",\n    \"SVK\": \"SK\",\n    \"SVN\": \"SI\",\n    \"SWE\": \"SE\",\n    \"SWZ\": \"SZ\",\n    \"SXM\": \"SX\",\n    \"SYC\": \"SC\",\n    \"SYR\": \"SY\",\n    \"TAA\": \"TA\",\n    \"TCA\": \"TC\",\n    \"TCD\": \"TD\",\n    \"TGO\": \"TG\",\n    \"THA\": \"TH\",\n    \"TJK\": \"TJ\",\n    \"TKL\": \"TK\",\n    \"TKM\": \"TM\",\n    \"TLS\": \"TL\",\n    \"TMP\": \"TL\",\n    \"TON\": \"TO\",\n    \"TP\": \"TL\",\n    \"TTO\": \"TT\",\n    \"TUN\": \"TN\",\n    \"TUR\": \"TR\",\n    \"TUV\": \"TV\",\n    \"TWN\": \"TW\",\n    \"TZA\": \"TZ\",\n    \"UGA\": \"UG\",\n    \"UK\": \"GB\",\n    \"UKR\": \"UA\",\n    \"UMI\": \"UM\",\n    \"URY\": \"UY\",\n    \"USA\": \"US\",\n    \"UZB\": \"UZ\",\n    \"VAT\": \"VA\",\n    \"VCT\": \"VC\",\n    \"VD\": \"VN\",\n    \"VEN\": \"VE\",\n    \"VGB\": \"VG\",\n    \"VIR\": \"VI\",\n    \"VNM\": \"VN\",\n    \"VUT\": \"VU\",\n    \"WK\": \"UM\",\n    \"WLF\": \"WF\",\n    \"WSM\": \"WS\",\n    \"XAA\": \"XA\",\n    \"XBB\": \"XB\",\n    \"XCC\": \"XC\",\n    \"XDD\": \"XD\",\n    \"XEE\": \"XE\",\n    \"XFF\": \"XF\",\n    \"XGG\": \"XG\",\n    \"XHH\": \"XH\",\n    \"XII\": \"XI\",\n    \"XJJ\": \"XJ\",\n    \"XKK\": \"XK\",\n    \"XLL\": \"XL\",\n    \"XMM\": \"XM\",\n    \"XNN\": \"XN\",\n    \"XOO\": \"XO\",\n    \"XPP\": \"XP\",\n    \"XQQ\": \"XQ\",\n    \"XRR\": \"XR\",\n    \"XSS\": \"XS\",\n    \"XTT\": \"XT\",\n    \"XUU\": \"XU\",\n    \"XVV\": \"XV\",\n    \"XWW\": \"XW\",\n    \"XXX\": \"XX\",\n    \"XYY\": \"XY\",\n    \"XZZ\": \"XZ\",\n    \"YD\": \"YE\",\n    \"YEM\": \"YE\",\n    \"YMD\": \"YE\",\n    \"YU\": \"RS ME\",\n    \"YUG\": \"RS ME\",\n    \"ZAF\": \"ZA\",\n    \"ZAR\": \"CD\",\n    \"ZMB\": \"ZM\",\n    \"ZR\": \"CD\",\n    \"ZWE\": \"ZW\",\n    \"ZZZ\": \"ZZ\"\n};\nexports.scriptAlias = {\n    \"Qaai\": \"Zinh\"\n};\nexports.variantAlias = {\n    \"heploc\": \"alalc97\",\n    \"polytoni\": \"polyton\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canonicalizeUnicodeLocaleId = exports.canonicalizeUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nvar aliases_generated_1 = require(\"./aliases.generated\");\nvar parser_1 = require(\"./parser\");\nvar likelySubtags_generated_1 = require(\"./likelySubtags.generated\");\nvar emitter_1 = require(\"./emitter\");\nfunction canonicalizeAttrs(strs) {\n    return Object.keys(strs.reduce(function (all, str) {\n        all[str.toLowerCase()] = 1;\n        return all;\n    }, {})).sort();\n}\nfunction canonicalizeKVs(arr) {\n    var all = {};\n    var result = [];\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var kv = arr_1[_i];\n        if (kv[0] in all) {\n            continue;\n        }\n        all[kv[0]] = 1;\n        if (!kv[1] || kv[1] === 'true') {\n            result.push([kv[0].toLowerCase()]);\n        }\n        else {\n            result.push([kv[0].toLowerCase(), kv[1].toLowerCase()]);\n        }\n    }\n    return result.sort(compareKV);\n}\nfunction compareKV(t1, t2) {\n    return t1[0] < t2[0] ? -1 : t1[0] > t2[0] ? 1 : 0;\n}\nfunction compareExtension(e1, e2) {\n    return e1.type < e2.type ? -1 : e1.type > e2.type ? 1 : 0;\n}\nfunction mergeVariants(v1, v2) {\n    var result = (0, tslib_1.__spreadArray)([], v1, true);\n    for (var _i = 0, v2_1 = v2; _i < v2_1.length; _i++) {\n        var v = v2_1[_i];\n        if (v1.indexOf(v) < 0) {\n            result.push(v);\n        }\n    }\n    return result;\n}\n/**\n * CAVEAT: We don't do this section in the spec bc they have no JSON data\n * Use the bcp47 data to replace keys, types, tfields, and tvalues by their canonical forms. See Section 3.6.4 U Extension Data Files) and Section 3.7.1 T Extension Data Files. The aliases are in the alias attribute value, while the canonical is in the name attribute value. For example,\nBecause of the following bcp47 data:\n<key name=\"ms\"><type name=\"uksystem\"  alias=\"imperial\"  /></key>\nWe get the following transformation:\nen-u-ms-imperial  en-u-ms-uksystem\n * @param lang\n */\nfunction canonicalizeUnicodeLanguageId(unicodeLanguageId) {\n    /**\n     * If the language subtag matches the type attribute of a languageAlias element in Supplemental Data, replace the language subtag with the replacement value.\n     *  1. If there are additional subtags in the replacement value, add them to the result, but only if there is no corresponding subtag already in the tag.\n     *  2. Five special deprecated grandfathered codes (such as i-default) are in type attributes, and are also replaced.\n     */\n    // From https://github.com/unicode-org/icu/blob/master/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L1246\n    // Try language _ variant\n    var finalLangAst = unicodeLanguageId;\n    if (unicodeLanguageId.variants.length) {\n        var replacedLang_1 = '';\n        for (var _i = 0, _a = unicodeLanguageId.variants; _i < _a.length; _i++) {\n            var variant = _a[_i];\n            if ((replacedLang_1 =\n                aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n                    lang: unicodeLanguageId.lang,\n                    variants: [variant],\n                })])) {\n                var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_1.split(parser_1.SEPARATOR));\n                finalLangAst = {\n                    lang: replacedLangAst.lang,\n                    script: finalLangAst.script || replacedLangAst.script,\n                    region: finalLangAst.region || replacedLangAst.region,\n                    variants: mergeVariants(finalLangAst.variants, replacedLangAst.variants),\n                };\n                break;\n            }\n        }\n    }\n    // language _ script _ country\n    // ug-Arab-CN -> ug-CN\n    if (finalLangAst.script && finalLangAst.region) {\n        var replacedLang_2 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n            lang: finalLangAst.lang,\n            script: finalLangAst.script,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_2) {\n            var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_2.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // language _ country\n    // eg. az_AZ -> az_Latn_A\n    if (finalLangAst.region) {\n        var replacedLang_3 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n            lang: finalLangAst.lang,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_3) {\n            var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_3.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: finalLangAst.script || replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // only language\n    // e.g. twi -> ak\n    var replacedLang = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n        lang: finalLangAst.lang,\n        variants: [],\n    })];\n    if (replacedLang) {\n        var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang.split(parser_1.SEPARATOR));\n        finalLangAst = {\n            lang: replacedLangAst.lang,\n            script: finalLangAst.script || replacedLangAst.script,\n            region: finalLangAst.region || replacedLangAst.region,\n            variants: finalLangAst.variants,\n        };\n    }\n    if (finalLangAst.region) {\n        var region = finalLangAst.region.toUpperCase();\n        var regionAlias = aliases_generated_1.territoryAlias[region];\n        var replacedRegion = void 0;\n        if (regionAlias) {\n            var regions = regionAlias.split(' ');\n            replacedRegion = regions[0];\n            var likelySubtag = likelySubtags_generated_1.likelySubtags[(0, emitter_1.emitUnicodeLanguageId)({\n                lang: finalLangAst.lang,\n                script: finalLangAst.script,\n                variants: [],\n            })];\n            if (likelySubtag) {\n                var likelyRegion = (0, parser_1.parseUnicodeLanguageId)(likelySubtag.split(parser_1.SEPARATOR)).region;\n                if (likelyRegion && regions.indexOf(likelyRegion) > -1) {\n                    replacedRegion = likelyRegion;\n                }\n            }\n        }\n        if (replacedRegion) {\n            finalLangAst.region = replacedRegion;\n        }\n        finalLangAst.region = finalLangAst.region.toUpperCase();\n    }\n    if (finalLangAst.script) {\n        finalLangAst.script =\n            finalLangAst.script[0].toUpperCase() +\n                finalLangAst.script.slice(1).toLowerCase();\n        if (aliases_generated_1.scriptAlias[finalLangAst.script]) {\n            finalLangAst.script = aliases_generated_1.scriptAlias[finalLangAst.script];\n        }\n    }\n    if (finalLangAst.variants.length) {\n        for (var i = 0; i < finalLangAst.variants.length; i++) {\n            var variant = finalLangAst.variants[i].toLowerCase();\n            if (aliases_generated_1.variantAlias[variant]) {\n                var alias = aliases_generated_1.variantAlias[variant];\n                if ((0, parser_1.isUnicodeVariantSubtag)(alias)) {\n                    finalLangAst.variants[i] = alias;\n                }\n                else if ((0, parser_1.isUnicodeLanguageSubtag)(alias)) {\n                    // Yes this can happen per the spec\n                    finalLangAst.lang = alias;\n                }\n            }\n        }\n        finalLangAst.variants.sort();\n    }\n    return finalLangAst;\n}\nexports.canonicalizeUnicodeLanguageId = canonicalizeUnicodeLanguageId;\n/**\n * Canonicalize based on\n * https://www.unicode.org/reports/tr35/tr35.html#Canonical_Unicode_Locale_Identifiers\n * https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid\n * IMPORTANT: This modifies the object inline\n * @param locale\n */\nfunction canonicalizeUnicodeLocaleId(locale) {\n    locale.lang = canonicalizeUnicodeLanguageId(locale.lang);\n    if (locale.extensions) {\n        for (var _i = 0, _a = locale.extensions; _i < _a.length; _i++) {\n            var extension = _a[_i];\n            switch (extension.type) {\n                case 'u':\n                    extension.keywords = canonicalizeKVs(extension.keywords);\n                    if (extension.attributes) {\n                        extension.attributes = canonicalizeAttrs(extension.attributes);\n                    }\n                    break;\n                case 't':\n                    if (extension.lang) {\n                        extension.lang = canonicalizeUnicodeLanguageId(extension.lang);\n                    }\n                    extension.fields = canonicalizeKVs(extension.fields);\n                    break;\n                default:\n                    extension.value = extension.value.toLowerCase();\n                    break;\n            }\n        }\n        locale.extensions.sort(compareExtension);\n    }\n    return locale;\n}\nexports.canonicalizeUnicodeLocaleId = canonicalizeUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.emitUnicodeLocaleId = exports.emitUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nfunction emitUnicodeLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    return (0, tslib_1.__spreadArray)([lang.lang, lang.script, lang.region], (lang.variants || []), true).filter(Boolean)\n        .join('-');\n}\nexports.emitUnicodeLanguageId = emitUnicodeLanguageId;\nfunction emitUnicodeLocaleId(_a) {\n    var lang = _a.lang, extensions = _a.extensions;\n    var chunks = [emitUnicodeLanguageId(lang)];\n    for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n        var ext = extensions_1[_i];\n        chunks.push(ext.type);\n        switch (ext.type) {\n            case 'u':\n                chunks.push.apply(chunks, (0, tslib_1.__spreadArray)((0, tslib_1.__spreadArray)([], ext.attributes, false), ext.keywords.reduce(function (all, kv) { return all.concat(kv); }, []), false));\n                break;\n            case 't':\n                chunks.push.apply(chunks, (0, tslib_1.__spreadArray)([emitUnicodeLanguageId(ext.lang)], ext.fields.reduce(function (all, kv) { return all.concat(kv); }, []), false));\n                break;\n            default:\n                chunks.push(ext.value);\n                break;\n        }\n    }\n    return chunks.filter(Boolean).join('-');\n}\nexports.emitUnicodeLocaleId = emitUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.likelySubtags = void 0;\n/* @generated */\n// prettier-ignore  \nexports.likelySubtags = {\n    \"aa\": \"aa-Latn-ET\",\n    \"aai\": \"aai-Latn-ZZ\",\n    \"aak\": \"aak-Latn-ZZ\",\n    \"aau\": \"aau-Latn-ZZ\",\n    \"ab\": \"ab-Cyrl-GE\",\n    \"abi\": \"abi-Latn-ZZ\",\n    \"abq\": \"abq-Cyrl-ZZ\",\n    \"abr\": \"abr-Latn-GH\",\n    \"abt\": \"abt-Latn-ZZ\",\n    \"aby\": \"aby-Latn-ZZ\",\n    \"acd\": \"acd-Latn-ZZ\",\n    \"ace\": \"ace-Latn-ID\",\n    \"ach\": \"ach-Latn-UG\",\n    \"ada\": \"ada-Latn-GH\",\n    \"ade\": \"ade-Latn-ZZ\",\n    \"adj\": \"adj-Latn-ZZ\",\n    \"adp\": \"adp-Tibt-BT\",\n    \"ady\": \"ady-Cyrl-RU\",\n    \"adz\": \"adz-Latn-ZZ\",\n    \"ae\": \"ae-Avst-IR\",\n    \"aeb\": \"aeb-Arab-TN\",\n    \"aey\": \"aey-Latn-ZZ\",\n    \"af\": \"af-Latn-ZA\",\n    \"agc\": \"agc-Latn-ZZ\",\n    \"agd\": \"agd-Latn-ZZ\",\n    \"agg\": \"agg-Latn-ZZ\",\n    \"agm\": \"agm-Latn-ZZ\",\n    \"ago\": \"ago-Latn-ZZ\",\n    \"agq\": \"agq-Latn-CM\",\n    \"aha\": \"aha-Latn-ZZ\",\n    \"ahl\": \"ahl-Latn-ZZ\",\n    \"aho\": \"aho-Ahom-IN\",\n    \"ajg\": \"ajg-Latn-ZZ\",\n    \"ak\": \"ak-Latn-GH\",\n    \"akk\": \"akk-Xsux-IQ\",\n    \"ala\": \"ala-Latn-ZZ\",\n    \"ali\": \"ali-Latn-ZZ\",\n    \"aln\": \"aln-Latn-XK\",\n    \"alt\": \"alt-Cyrl-RU\",\n    \"am\": \"am-Ethi-ET\",\n    \"amm\": \"amm-Latn-ZZ\",\n    \"amn\": \"amn-Latn-ZZ\",\n    \"amo\": \"amo-Latn-NG\",\n    \"amp\": \"amp-Latn-ZZ\",\n    \"an\": \"an-Latn-ES\",\n    \"anc\": \"anc-Latn-ZZ\",\n    \"ank\": \"ank-Latn-ZZ\",\n    \"ann\": \"ann-Latn-ZZ\",\n    \"any\": \"any-Latn-ZZ\",\n    \"aoj\": \"aoj-Latn-ZZ\",\n    \"aom\": \"aom-Latn-ZZ\",\n    \"aoz\": \"aoz-Latn-ID\",\n    \"apc\": \"apc-Arab-ZZ\",\n    \"apd\": \"apd-Arab-TG\",\n    \"ape\": \"ape-Latn-ZZ\",\n    \"apr\": \"apr-Latn-ZZ\",\n    \"aps\": \"aps-Latn-ZZ\",\n    \"apz\": \"apz-Latn-ZZ\",\n    \"ar\": \"ar-Arab-EG\",\n    \"arc\": \"arc-Armi-IR\",\n    \"arc-Nbat\": \"arc-Nbat-JO\",\n    \"arc-Palm\": \"arc-Palm-SY\",\n    \"arh\": \"arh-Latn-ZZ\",\n    \"arn\": \"arn-Latn-CL\",\n    \"aro\": \"aro-Latn-BO\",\n    \"arq\": \"arq-Arab-DZ\",\n    \"ars\": \"ars-Arab-SA\",\n    \"ary\": \"ary-Arab-MA\",\n    \"arz\": \"arz-Arab-EG\",\n    \"as\": \"as-Beng-IN\",\n    \"asa\": \"asa-Latn-TZ\",\n    \"ase\": \"ase-Sgnw-US\",\n    \"asg\": \"asg-Latn-ZZ\",\n    \"aso\": \"aso-Latn-ZZ\",\n    \"ast\": \"ast-Latn-ES\",\n    \"ata\": \"ata-Latn-ZZ\",\n    \"atg\": \"atg-Latn-ZZ\",\n    \"atj\": \"atj-Latn-CA\",\n    \"auy\": \"auy-Latn-ZZ\",\n    \"av\": \"av-Cyrl-RU\",\n    \"avl\": \"avl-Arab-ZZ\",\n    \"avn\": \"avn-Latn-ZZ\",\n    \"avt\": \"avt-Latn-ZZ\",\n    \"avu\": \"avu-Latn-ZZ\",\n    \"awa\": \"awa-Deva-IN\",\n    \"awb\": \"awb-Latn-ZZ\",\n    \"awo\": \"awo-Latn-ZZ\",\n    \"awx\": \"awx-Latn-ZZ\",\n    \"ay\": \"ay-Latn-BO\",\n    \"ayb\": \"ayb-Latn-ZZ\",\n    \"az\": \"az-Latn-AZ\",\n    \"az-Arab\": \"az-Arab-IR\",\n    \"az-IQ\": \"az-Arab-IQ\",\n    \"az-IR\": \"az-Arab-IR\",\n    \"az-RU\": \"az-Cyrl-RU\",\n    \"ba\": \"ba-Cyrl-RU\",\n    \"bal\": \"bal-Arab-PK\",\n    \"ban\": \"ban-Latn-ID\",\n    \"bap\": \"bap-Deva-NP\",\n    \"bar\": \"bar-Latn-AT\",\n    \"bas\": \"bas-Latn-CM\",\n    \"bav\": \"bav-Latn-ZZ\",\n    \"bax\": \"bax-Bamu-CM\",\n    \"bba\": \"bba-Latn-ZZ\",\n    \"bbb\": \"bbb-Latn-ZZ\",\n    \"bbc\": \"bbc-Latn-ID\",\n    \"bbd\": \"bbd-Latn-ZZ\",\n    \"bbj\": \"bbj-Latn-CM\",\n    \"bbp\": \"bbp-Latn-ZZ\",\n    \"bbr\": \"bbr-Latn-ZZ\",\n    \"bcf\": \"bcf-Latn-ZZ\",\n    \"bch\": \"bch-Latn-ZZ\",\n    \"bci\": \"bci-Latn-CI\",\n    \"bcm\": \"bcm-Latn-ZZ\",\n    \"bcn\": \"bcn-Latn-ZZ\",\n    \"bco\": \"bco-Latn-ZZ\",\n    \"bcq\": \"bcq-Ethi-ZZ\",\n    \"bcu\": \"bcu-Latn-ZZ\",\n    \"bdd\": \"bdd-Latn-ZZ\",\n    \"be\": \"be-Cyrl-BY\",\n    \"bef\": \"bef-Latn-ZZ\",\n    \"beh\": \"beh-Latn-ZZ\",\n    \"bej\": \"bej-Arab-SD\",\n    \"bem\": \"bem-Latn-ZM\",\n    \"bet\": \"bet-Latn-ZZ\",\n    \"bew\": \"bew-Latn-ID\",\n    \"bex\": \"bex-Latn-ZZ\",\n    \"bez\": \"bez-Latn-TZ\",\n    \"bfd\": \"bfd-Latn-CM\",\n    \"bfq\": \"bfq-Taml-IN\",\n    \"bft\": \"bft-Arab-PK\",\n    \"bfy\": \"bfy-Deva-IN\",\n    \"bg\": \"bg-Cyrl-BG\",\n    \"bgc\": \"bgc-Deva-IN\",\n    \"bgn\": \"bgn-Arab-PK\",\n    \"bgx\": \"bgx-Grek-TR\",\n    \"bhb\": \"bhb-Deva-IN\",\n    \"bhg\": \"bhg-Latn-ZZ\",\n    \"bhi\": \"bhi-Deva-IN\",\n    \"bhl\": \"bhl-Latn-ZZ\",\n    \"bho\": \"bho-Deva-IN\",\n    \"bhy\": \"bhy-Latn-ZZ\",\n    \"bi\": \"bi-Latn-VU\",\n    \"bib\": \"bib-Latn-ZZ\",\n    \"big\": \"big-Latn-ZZ\",\n    \"bik\": \"bik-Latn-PH\",\n    \"bim\": \"bim-Latn-ZZ\",\n    \"bin\": \"bin-Latn-NG\",\n    \"bio\": \"bio-Latn-ZZ\",\n    \"biq\": \"biq-Latn-ZZ\",\n    \"bjh\": \"bjh-Latn-ZZ\",\n    \"bji\": \"bji-Ethi-ZZ\",\n    \"bjj\": \"bjj-Deva-IN\",\n    \"bjn\": \"bjn-Latn-ID\",\n    \"bjo\": \"bjo-Latn-ZZ\",\n    \"bjr\": \"bjr-Latn-ZZ\",\n    \"bjt\": \"bjt-Latn-SN\",\n    \"bjz\": \"bjz-Latn-ZZ\",\n    \"bkc\": \"bkc-Latn-ZZ\",\n    \"bkm\": \"bkm-Latn-CM\",\n    \"bkq\": \"bkq-Latn-ZZ\",\n    \"bku\": \"bku-Latn-PH\",\n    \"bkv\": \"bkv-Latn-ZZ\",\n    \"blg\": \"blg-Latn-MY\",\n    \"blt\": \"blt-Tavt-VN\",\n    \"bm\": \"bm-Latn-ML\",\n    \"bmh\": \"bmh-Latn-ZZ\",\n    \"bmk\": \"bmk-Latn-ZZ\",\n    \"bmq\": \"bmq-Latn-ML\",\n    \"bmu\": \"bmu-Latn-ZZ\",\n    \"bn\": \"bn-Beng-BD\",\n    \"bng\": \"bng-Latn-ZZ\",\n    \"bnm\": \"bnm-Latn-ZZ\",\n    \"bnp\": \"bnp-Latn-ZZ\",\n    \"bo\": \"bo-Tibt-CN\",\n    \"boj\": \"boj-Latn-ZZ\",\n    \"bom\": \"bom-Latn-ZZ\",\n    \"bon\": \"bon-Latn-ZZ\",\n    \"bpy\": \"bpy-Beng-IN\",\n    \"bqc\": \"bqc-Latn-ZZ\",\n    \"bqi\": \"bqi-Arab-IR\",\n    \"bqp\": \"bqp-Latn-ZZ\",\n    \"bqv\": \"bqv-Latn-CI\",\n    \"br\": \"br-Latn-FR\",\n    \"bra\": \"bra-Deva-IN\",\n    \"brh\": \"brh-Arab-PK\",\n    \"brx\": \"brx-Deva-IN\",\n    \"brz\": \"brz-Latn-ZZ\",\n    \"bs\": \"bs-Latn-BA\",\n    \"bsj\": \"bsj-Latn-ZZ\",\n    \"bsq\": \"bsq-Bass-LR\",\n    \"bss\": \"bss-Latn-CM\",\n    \"bst\": \"bst-Ethi-ZZ\",\n    \"bto\": \"bto-Latn-PH\",\n    \"btt\": \"btt-Latn-ZZ\",\n    \"btv\": \"btv-Deva-PK\",\n    \"bua\": \"bua-Cyrl-RU\",\n    \"buc\": \"buc-Latn-YT\",\n    \"bud\": \"bud-Latn-ZZ\",\n    \"bug\": \"bug-Latn-ID\",\n    \"buk\": \"buk-Latn-ZZ\",\n    \"bum\": \"bum-Latn-CM\",\n    \"buo\": \"buo-Latn-ZZ\",\n    \"bus\": \"bus-Latn-ZZ\",\n    \"buu\": \"buu-Latn-ZZ\",\n    \"bvb\": \"bvb-Latn-GQ\",\n    \"bwd\": \"bwd-Latn-ZZ\",\n    \"bwr\": \"bwr-Latn-ZZ\",\n    \"bxh\": \"bxh-Latn-ZZ\",\n    \"bye\": \"bye-Latn-ZZ\",\n    \"byn\": \"byn-Ethi-ER\",\n    \"byr\": \"byr-Latn-ZZ\",\n    \"bys\": \"bys-Latn-ZZ\",\n    \"byv\": \"byv-Latn-CM\",\n    \"byx\": \"byx-Latn-ZZ\",\n    \"bza\": \"bza-Latn-ZZ\",\n    \"bze\": \"bze-Latn-ML\",\n    \"bzf\": \"bzf-Latn-ZZ\",\n    \"bzh\": \"bzh-Latn-ZZ\",\n    \"bzw\": \"bzw-Latn-ZZ\",\n    \"ca\": \"ca-Latn-ES\",\n    \"cad\": \"cad-Latn-US\",\n    \"can\": \"can-Latn-ZZ\",\n    \"cbj\": \"cbj-Latn-ZZ\",\n    \"cch\": \"cch-Latn-NG\",\n    \"ccp\": \"ccp-Cakm-BD\",\n    \"ce\": \"ce-Cyrl-RU\",\n    \"ceb\": \"ceb-Latn-PH\",\n    \"cfa\": \"cfa-Latn-ZZ\",\n    \"cgg\": \"cgg-Latn-UG\",\n    \"ch\": \"ch-Latn-GU\",\n    \"chk\": \"chk-Latn-FM\",\n    \"chm\": \"chm-Cyrl-RU\",\n    \"cho\": \"cho-Latn-US\",\n    \"chp\": \"chp-Latn-CA\",\n    \"chr\": \"chr-Cher-US\",\n    \"cic\": \"cic-Latn-US\",\n    \"cja\": \"cja-Arab-KH\",\n    \"cjm\": \"cjm-Cham-VN\",\n    \"cjv\": \"cjv-Latn-ZZ\",\n    \"ckb\": \"ckb-Arab-IQ\",\n    \"ckl\": \"ckl-Latn-ZZ\",\n    \"cko\": \"cko-Latn-ZZ\",\n    \"cky\": \"cky-Latn-ZZ\",\n    \"cla\": \"cla-Latn-ZZ\",\n    \"cme\": \"cme-Latn-ZZ\",\n    \"cmg\": \"cmg-Soyo-MN\",\n    \"co\": \"co-Latn-FR\",\n    \"cop\": \"cop-Copt-EG\",\n    \"cps\": \"cps-Latn-PH\",\n    \"cr\": \"cr-Cans-CA\",\n    \"crh\": \"crh-Cyrl-UA\",\n    \"crj\": \"crj-Cans-CA\",\n    \"crk\": \"crk-Cans-CA\",\n    \"crl\": \"crl-Cans-CA\",\n    \"crm\": \"crm-Cans-CA\",\n    \"crs\": \"crs-Latn-SC\",\n    \"cs\": \"cs-Latn-CZ\",\n    \"csb\": \"csb-Latn-PL\",\n    \"csw\": \"csw-Cans-CA\",\n    \"ctd\": \"ctd-Pauc-MM\",\n    \"cu\": \"cu-Cyrl-RU\",\n    \"cu-Glag\": \"cu-Glag-BG\",\n    \"cv\": \"cv-Cyrl-RU\",\n    \"cy\": \"cy-Latn-GB\",\n    \"da\": \"da-Latn-DK\",\n    \"dad\": \"dad-Latn-ZZ\",\n    \"daf\": \"daf-Latn-CI\",\n    \"dag\": \"dag-Latn-ZZ\",\n    \"dah\": \"dah-Latn-ZZ\",\n    \"dak\": \"dak-Latn-US\",\n    \"dar\": \"dar-Cyrl-RU\",\n    \"dav\": \"dav-Latn-KE\",\n    \"dbd\": \"dbd-Latn-ZZ\",\n    \"dbq\": \"dbq-Latn-ZZ\",\n    \"dcc\": \"dcc-Arab-IN\",\n    \"ddn\": \"ddn-Latn-ZZ\",\n    \"de\": \"de-Latn-DE\",\n    \"ded\": \"ded-Latn-ZZ\",\n    \"den\": \"den-Latn-CA\",\n    \"dga\": \"dga-Latn-ZZ\",\n    \"dgh\": \"dgh-Latn-ZZ\",\n    \"dgi\": \"dgi-Latn-ZZ\",\n    \"dgl\": \"dgl-Arab-ZZ\",\n    \"dgr\": \"dgr-Latn-CA\",\n    \"dgz\": \"dgz-Latn-ZZ\",\n    \"dia\": \"dia-Latn-ZZ\",\n    \"dje\": \"dje-Latn-NE\",\n    \"dmf\": \"dmf-Medf-NG\",\n    \"dnj\": \"dnj-Latn-CI\",\n    \"dob\": \"dob-Latn-ZZ\",\n    \"doi\": \"doi-Deva-IN\",\n    \"dop\": \"dop-Latn-ZZ\",\n    \"dow\": \"dow-Latn-ZZ\",\n    \"drh\": \"drh-Mong-CN\",\n    \"dri\": \"dri-Latn-ZZ\",\n    \"drs\": \"drs-Ethi-ZZ\",\n    \"dsb\": \"dsb-Latn-DE\",\n    \"dtm\": \"dtm-Latn-ML\",\n    \"dtp\": \"dtp-Latn-MY\",\n    \"dts\": \"dts-Latn-ZZ\",\n    \"dty\": \"dty-Deva-NP\",\n    \"dua\": \"dua-Latn-CM\",\n    \"duc\": \"duc-Latn-ZZ\",\n    \"dud\": \"dud-Latn-ZZ\",\n    \"dug\": \"dug-Latn-ZZ\",\n    \"dv\": \"dv-Thaa-MV\",\n    \"dva\": \"dva-Latn-ZZ\",\n    \"dww\": \"dww-Latn-ZZ\",\n    \"dyo\": \"dyo-Latn-SN\",\n    \"dyu\": \"dyu-Latn-BF\",\n    \"dz\": \"dz-Tibt-BT\",\n    \"dzg\": \"dzg-Latn-ZZ\",\n    \"ebu\": \"ebu-Latn-KE\",\n    \"ee\": \"ee-Latn-GH\",\n    \"efi\": \"efi-Latn-NG\",\n    \"egl\": \"egl-Latn-IT\",\n    \"egy\": \"egy-Egyp-EG\",\n    \"eka\": \"eka-Latn-ZZ\",\n    \"eky\": \"eky-Kali-MM\",\n    \"el\": \"el-Grek-GR\",\n    \"ema\": \"ema-Latn-ZZ\",\n    \"emi\": \"emi-Latn-ZZ\",\n    \"en\": \"en-Latn-US\",\n    \"en-Shaw\": \"en-Shaw-GB\",\n    \"enn\": \"enn-Latn-ZZ\",\n    \"enq\": \"enq-Latn-ZZ\",\n    \"eo\": \"eo-Latn-001\",\n    \"eri\": \"eri-Latn-ZZ\",\n    \"es\": \"es-Latn-ES\",\n    \"esg\": \"esg-Gonm-IN\",\n    \"esu\": \"esu-Latn-US\",\n    \"et\": \"et-Latn-EE\",\n    \"etr\": \"etr-Latn-ZZ\",\n    \"ett\": \"ett-Ital-IT\",\n    \"etu\": \"etu-Latn-ZZ\",\n    \"etx\": \"etx-Latn-ZZ\",\n    \"eu\": \"eu-Latn-ES\",\n    \"ewo\": \"ewo-Latn-CM\",\n    \"ext\": \"ext-Latn-ES\",\n    \"eza\": \"eza-Latn-ZZ\",\n    \"fa\": \"fa-Arab-IR\",\n    \"faa\": \"faa-Latn-ZZ\",\n    \"fab\": \"fab-Latn-ZZ\",\n    \"fag\": \"fag-Latn-ZZ\",\n    \"fai\": \"fai-Latn-ZZ\",\n    \"fan\": \"fan-Latn-GQ\",\n    \"ff\": \"ff-Latn-SN\",\n    \"ff-Adlm\": \"ff-Adlm-GN\",\n    \"ffi\": \"ffi-Latn-ZZ\",\n    \"ffm\": \"ffm-Latn-ML\",\n    \"fi\": \"fi-Latn-FI\",\n    \"fia\": \"fia-Arab-SD\",\n    \"fil\": \"fil-Latn-PH\",\n    \"fit\": \"fit-Latn-SE\",\n    \"fj\": \"fj-Latn-FJ\",\n    \"flr\": \"flr-Latn-ZZ\",\n    \"fmp\": \"fmp-Latn-ZZ\",\n    \"fo\": \"fo-Latn-FO\",\n    \"fod\": \"fod-Latn-ZZ\",\n    \"fon\": \"fon-Latn-BJ\",\n    \"for\": \"for-Latn-ZZ\",\n    \"fpe\": \"fpe-Latn-ZZ\",\n    \"fqs\": \"fqs-Latn-ZZ\",\n    \"fr\": \"fr-Latn-FR\",\n    \"frc\": \"frc-Latn-US\",\n    \"frp\": \"frp-Latn-FR\",\n    \"frr\": \"frr-Latn-DE\",\n    \"frs\": \"frs-Latn-DE\",\n    \"fub\": \"fub-Arab-CM\",\n    \"fud\": \"fud-Latn-WF\",\n    \"fue\": \"fue-Latn-ZZ\",\n    \"fuf\": \"fuf-Latn-GN\",\n    \"fuh\": \"fuh-Latn-ZZ\",\n    \"fuq\": \"fuq-Latn-NE\",\n    \"fur\": \"fur-Latn-IT\",\n    \"fuv\": \"fuv-Latn-NG\",\n    \"fuy\": \"fuy-Latn-ZZ\",\n    \"fvr\": \"fvr-Latn-SD\",\n    \"fy\": \"fy-Latn-NL\",\n    \"ga\": \"ga-Latn-IE\",\n    \"gaa\": \"gaa-Latn-GH\",\n    \"gaf\": \"gaf-Latn-ZZ\",\n    \"gag\": \"gag-Latn-MD\",\n    \"gah\": \"gah-Latn-ZZ\",\n    \"gaj\": \"gaj-Latn-ZZ\",\n    \"gam\": \"gam-Latn-ZZ\",\n    \"gan\": \"gan-Hans-CN\",\n    \"gaw\": \"gaw-Latn-ZZ\",\n    \"gay\": \"gay-Latn-ID\",\n    \"gba\": \"gba-Latn-ZZ\",\n    \"gbf\": \"gbf-Latn-ZZ\",\n    \"gbm\": \"gbm-Deva-IN\",\n    \"gby\": \"gby-Latn-ZZ\",\n    \"gbz\": \"gbz-Arab-IR\",\n    \"gcr\": \"gcr-Latn-GF\",\n    \"gd\": \"gd-Latn-GB\",\n    \"gde\": \"gde-Latn-ZZ\",\n    \"gdn\": \"gdn-Latn-ZZ\",\n    \"gdr\": \"gdr-Latn-ZZ\",\n    \"geb\": \"geb-Latn-ZZ\",\n    \"gej\": \"gej-Latn-ZZ\",\n    \"gel\": \"gel-Latn-ZZ\",\n    \"gez\": \"gez-Ethi-ET\",\n    \"gfk\": \"gfk-Latn-ZZ\",\n    \"ggn\": \"ggn-Deva-NP\",\n    \"ghs\": \"ghs-Latn-ZZ\",\n    \"gil\": \"gil-Latn-KI\",\n    \"gim\": \"gim-Latn-ZZ\",\n    \"gjk\": \"gjk-Arab-PK\",\n    \"gjn\": \"gjn-Latn-ZZ\",\n    \"gju\": \"gju-Arab-PK\",\n    \"gkn\": \"gkn-Latn-ZZ\",\n    \"gkp\": \"gkp-Latn-ZZ\",\n    \"gl\": \"gl-Latn-ES\",\n    \"glk\": \"glk-Arab-IR\",\n    \"gmm\": \"gmm-Latn-ZZ\",\n    \"gmv\": \"gmv-Ethi-ZZ\",\n    \"gn\": \"gn-Latn-PY\",\n    \"gnd\": \"gnd-Latn-ZZ\",\n    \"gng\": \"gng-Latn-ZZ\",\n    \"god\": \"god-Latn-ZZ\",\n    \"gof\": \"gof-Ethi-ZZ\",\n    \"goi\": \"goi-Latn-ZZ\",\n    \"gom\": \"gom-Deva-IN\",\n    \"gon\": \"gon-Telu-IN\",\n    \"gor\": \"gor-Latn-ID\",\n    \"gos\": \"gos-Latn-NL\",\n    \"got\": \"got-Goth-UA\",\n    \"grb\": \"grb-Latn-ZZ\",\n    \"grc\": \"grc-Cprt-CY\",\n    \"grc-Linb\": \"grc-Linb-GR\",\n    \"grt\": \"grt-Beng-IN\",\n    \"grw\": \"grw-Latn-ZZ\",\n    \"gsw\": \"gsw-Latn-CH\",\n    \"gu\": \"gu-Gujr-IN\",\n    \"gub\": \"gub-Latn-BR\",\n    \"guc\": \"guc-Latn-CO\",\n    \"gud\": \"gud-Latn-ZZ\",\n    \"gur\": \"gur-Latn-GH\",\n    \"guw\": \"guw-Latn-ZZ\",\n    \"gux\": \"gux-Latn-ZZ\",\n    \"guz\": \"guz-Latn-KE\",\n    \"gv\": \"gv-Latn-IM\",\n    \"gvf\": \"gvf-Latn-ZZ\",\n    \"gvr\": \"gvr-Deva-NP\",\n    \"gvs\": \"gvs-Latn-ZZ\",\n    \"gwc\": \"gwc-Arab-ZZ\",\n    \"gwi\": \"gwi-Latn-CA\",\n    \"gwt\": \"gwt-Arab-ZZ\",\n    \"gyi\": \"gyi-Latn-ZZ\",\n    \"ha\": \"ha-Latn-NG\",\n    \"ha-CM\": \"ha-Arab-CM\",\n    \"ha-SD\": \"ha-Arab-SD\",\n    \"hag\": \"hag-Latn-ZZ\",\n    \"hak\": \"hak-Hans-CN\",\n    \"ham\": \"ham-Latn-ZZ\",\n    \"haw\": \"haw-Latn-US\",\n    \"haz\": \"haz-Arab-AF\",\n    \"hbb\": \"hbb-Latn-ZZ\",\n    \"hdy\": \"hdy-Ethi-ZZ\",\n    \"he\": \"he-Hebr-IL\",\n    \"hhy\": \"hhy-Latn-ZZ\",\n    \"hi\": \"hi-Deva-IN\",\n    \"hia\": \"hia-Latn-ZZ\",\n    \"hif\": \"hif-Latn-FJ\",\n    \"hig\": \"hig-Latn-ZZ\",\n    \"hih\": \"hih-Latn-ZZ\",\n    \"hil\": \"hil-Latn-PH\",\n    \"hla\": \"hla-Latn-ZZ\",\n    \"hlu\": \"hlu-Hluw-TR\",\n    \"hmd\": \"hmd-Plrd-CN\",\n    \"hmt\": \"hmt-Latn-ZZ\",\n    \"hnd\": \"hnd-Arab-PK\",\n    \"hne\": \"hne-Deva-IN\",\n    \"hnj\": \"hnj-Hmnp-US\",\n    \"hnn\": \"hnn-Latn-PH\",\n    \"hno\": \"hno-Arab-PK\",\n    \"ho\": \"ho-Latn-PG\",\n    \"hoc\": \"hoc-Deva-IN\",\n    \"hoj\": \"hoj-Deva-IN\",\n    \"hot\": \"hot-Latn-ZZ\",\n    \"hr\": \"hr-Latn-HR\",\n    \"hsb\": \"hsb-Latn-DE\",\n    \"hsn\": \"hsn-Hans-CN\",\n    \"ht\": \"ht-Latn-HT\",\n    \"hu\": \"hu-Latn-HU\",\n    \"hui\": \"hui-Latn-ZZ\",\n    \"hy\": \"hy-Armn-AM\",\n    \"hz\": \"hz-Latn-NA\",\n    \"ia\": \"ia-Latn-001\",\n    \"ian\": \"ian-Latn-ZZ\",\n    \"iar\": \"iar-Latn-ZZ\",\n    \"iba\": \"iba-Latn-MY\",\n    \"ibb\": \"ibb-Latn-NG\",\n    \"iby\": \"iby-Latn-ZZ\",\n    \"ica\": \"ica-Latn-ZZ\",\n    \"ich\": \"ich-Latn-ZZ\",\n    \"id\": \"id-Latn-ID\",\n    \"idd\": \"idd-Latn-ZZ\",\n    \"idi\": \"idi-Latn-ZZ\",\n    \"idu\": \"idu-Latn-ZZ\",\n    \"ife\": \"ife-Latn-TG\",\n    \"ig\": \"ig-Latn-NG\",\n    \"igb\": \"igb-Latn-ZZ\",\n    \"ige\": \"ige-Latn-ZZ\",\n    \"ii\": \"ii-Yiii-CN\",\n    \"ijj\": \"ijj-Latn-ZZ\",\n    \"ik\": \"ik-Latn-US\",\n    \"ikk\": \"ikk-Latn-ZZ\",\n    \"ikt\": \"ikt-Latn-CA\",\n    \"ikw\": \"ikw-Latn-ZZ\",\n    \"ikx\": \"ikx-Latn-ZZ\",\n    \"ilo\": \"ilo-Latn-PH\",\n    \"imo\": \"imo-Latn-ZZ\",\n    \"in\": \"in-Latn-ID\",\n    \"inh\": \"inh-Cyrl-RU\",\n    \"io\": \"io-Latn-001\",\n    \"iou\": \"iou-Latn-ZZ\",\n    \"iri\": \"iri-Latn-ZZ\",\n    \"is\": \"is-Latn-IS\",\n    \"it\": \"it-Latn-IT\",\n    \"iu\": \"iu-Cans-CA\",\n    \"iw\": \"iw-Hebr-IL\",\n    \"iwm\": \"iwm-Latn-ZZ\",\n    \"iws\": \"iws-Latn-ZZ\",\n    \"izh\": \"izh-Latn-RU\",\n    \"izi\": \"izi-Latn-ZZ\",\n    \"ja\": \"ja-Jpan-JP\",\n    \"jab\": \"jab-Latn-ZZ\",\n    \"jam\": \"jam-Latn-JM\",\n    \"jar\": \"jar-Latn-ZZ\",\n    \"jbo\": \"jbo-Latn-001\",\n    \"jbu\": \"jbu-Latn-ZZ\",\n    \"jen\": \"jen-Latn-ZZ\",\n    \"jgk\": \"jgk-Latn-ZZ\",\n    \"jgo\": \"jgo-Latn-CM\",\n    \"ji\": \"ji-Hebr-UA\",\n    \"jib\": \"jib-Latn-ZZ\",\n    \"jmc\": \"jmc-Latn-TZ\",\n    \"jml\": \"jml-Deva-NP\",\n    \"jra\": \"jra-Latn-ZZ\",\n    \"jut\": \"jut-Latn-DK\",\n    \"jv\": \"jv-Latn-ID\",\n    \"jw\": \"jw-Latn-ID\",\n    \"ka\": \"ka-Geor-GE\",\n    \"kaa\": \"kaa-Cyrl-UZ\",\n    \"kab\": \"kab-Latn-DZ\",\n    \"kac\": \"kac-Latn-MM\",\n    \"kad\": \"kad-Latn-ZZ\",\n    \"kai\": \"kai-Latn-ZZ\",\n    \"kaj\": \"kaj-Latn-NG\",\n    \"kam\": \"kam-Latn-KE\",\n    \"kao\": \"kao-Latn-ML\",\n    \"kbd\": \"kbd-Cyrl-RU\",\n    \"kbm\": \"kbm-Latn-ZZ\",\n    \"kbp\": \"kbp-Latn-ZZ\",\n    \"kbq\": \"kbq-Latn-ZZ\",\n    \"kbx\": \"kbx-Latn-ZZ\",\n    \"kby\": \"kby-Arab-NE\",\n    \"kcg\": \"kcg-Latn-NG\",\n    \"kck\": \"kck-Latn-ZW\",\n    \"kcl\": \"kcl-Latn-ZZ\",\n    \"kct\": \"kct-Latn-ZZ\",\n    \"kde\": \"kde-Latn-TZ\",\n    \"kdh\": \"kdh-Latn-TG\",\n    \"kdl\": \"kdl-Latn-ZZ\",\n    \"kdt\": \"kdt-Thai-TH\",\n    \"kea\": \"kea-Latn-CV\",\n    \"ken\": \"ken-Latn-CM\",\n    \"kez\": \"kez-Latn-ZZ\",\n    \"kfo\": \"kfo-Latn-CI\",\n    \"kfr\": \"kfr-Deva-IN\",\n    \"kfy\": \"kfy-Deva-IN\",\n    \"kg\": \"kg-Latn-CD\",\n    \"kge\": \"kge-Latn-ID\",\n    \"kgf\": \"kgf-Latn-ZZ\",\n    \"kgp\": \"kgp-Latn-BR\",\n    \"kha\": \"kha-Latn-IN\",\n    \"khb\": \"khb-Talu-CN\",\n    \"khn\": \"khn-Deva-IN\",\n    \"khq\": \"khq-Latn-ML\",\n    \"khs\": \"khs-Latn-ZZ\",\n    \"kht\": \"kht-Mymr-IN\",\n    \"khw\": \"khw-Arab-PK\",\n    \"khz\": \"khz-Latn-ZZ\",\n    \"ki\": \"ki-Latn-KE\",\n    \"kij\": \"kij-Latn-ZZ\",\n    \"kiu\": \"kiu-Latn-TR\",\n    \"kiw\": \"kiw-Latn-ZZ\",\n    \"kj\": \"kj-Latn-NA\",\n    \"kjd\": \"kjd-Latn-ZZ\",\n    \"kjg\": \"kjg-Laoo-LA\",\n    \"kjs\": \"kjs-Latn-ZZ\",\n    \"kjy\": \"kjy-Latn-ZZ\",\n    \"kk\": \"kk-Cyrl-KZ\",\n    \"kk-AF\": \"kk-Arab-AF\",\n    \"kk-Arab\": \"kk-Arab-CN\",\n    \"kk-CN\": \"kk-Arab-CN\",\n    \"kk-IR\": \"kk-Arab-IR\",\n    \"kk-MN\": \"kk-Arab-MN\",\n    \"kkc\": \"kkc-Latn-ZZ\",\n    \"kkj\": \"kkj-Latn-CM\",\n    \"kl\": \"kl-Latn-GL\",\n    \"kln\": \"kln-Latn-KE\",\n    \"klq\": \"klq-Latn-ZZ\",\n    \"klt\": \"klt-Latn-ZZ\",\n    \"klx\": \"klx-Latn-ZZ\",\n    \"km\": \"km-Khmr-KH\",\n    \"kmb\": \"kmb-Latn-AO\",\n    \"kmh\": \"kmh-Latn-ZZ\",\n    \"kmo\": \"kmo-Latn-ZZ\",\n    \"kms\": \"kms-Latn-ZZ\",\n    \"kmu\": \"kmu-Latn-ZZ\",\n    \"kmw\": \"kmw-Latn-ZZ\",\n    \"kn\": \"kn-Knda-IN\",\n    \"knf\": \"knf-Latn-GW\",\n    \"knp\": \"knp-Latn-ZZ\",\n    \"ko\": \"ko-Kore-KR\",\n    \"koi\": \"koi-Cyrl-RU\",\n    \"kok\": \"kok-Deva-IN\",\n    \"kol\": \"kol-Latn-ZZ\",\n    \"kos\": \"kos-Latn-FM\",\n    \"koz\": \"koz-Latn-ZZ\",\n    \"kpe\": \"kpe-Latn-LR\",\n    \"kpf\": \"kpf-Latn-ZZ\",\n    \"kpo\": \"kpo-Latn-ZZ\",\n    \"kpr\": \"kpr-Latn-ZZ\",\n    \"kpx\": \"kpx-Latn-ZZ\",\n    \"kqb\": \"kqb-Latn-ZZ\",\n    \"kqf\": \"kqf-Latn-ZZ\",\n    \"kqs\": \"kqs-Latn-ZZ\",\n    \"kqy\": \"kqy-Ethi-ZZ\",\n    \"kr\": \"kr-Latn-ZZ\",\n    \"krc\": \"krc-Cyrl-RU\",\n    \"kri\": \"kri-Latn-SL\",\n    \"krj\": \"krj-Latn-PH\",\n    \"krl\": \"krl-Latn-RU\",\n    \"krs\": \"krs-Latn-ZZ\",\n    \"kru\": \"kru-Deva-IN\",\n    \"ks\": \"ks-Arab-IN\",\n    \"ksb\": \"ksb-Latn-TZ\",\n    \"ksd\": \"ksd-Latn-ZZ\",\n    \"ksf\": \"ksf-Latn-CM\",\n    \"ksh\": \"ksh-Latn-DE\",\n    \"ksj\": \"ksj-Latn-ZZ\",\n    \"ksr\": \"ksr-Latn-ZZ\",\n    \"ktb\": \"ktb-Ethi-ZZ\",\n    \"ktm\": \"ktm-Latn-ZZ\",\n    \"kto\": \"kto-Latn-ZZ\",\n    \"ktr\": \"ktr-Latn-MY\",\n    \"ku\": \"ku-Latn-TR\",\n    \"ku-Arab\": \"ku-Arab-IQ\",\n    \"ku-LB\": \"ku-Arab-LB\",\n    \"ku-Yezi\": \"ku-Yezi-GE\",\n    \"kub\": \"kub-Latn-ZZ\",\n    \"kud\": \"kud-Latn-ZZ\",\n    \"kue\": \"kue-Latn-ZZ\",\n    \"kuj\": \"kuj-Latn-ZZ\",\n    \"kum\": \"kum-Cyrl-RU\",\n    \"kun\": \"kun-Latn-ZZ\",\n    \"kup\": \"kup-Latn-ZZ\",\n    \"kus\": \"kus-Latn-ZZ\",\n    \"kv\": \"kv-Cyrl-RU\",\n    \"kvg\": \"kvg-Latn-ZZ\",\n    \"kvr\": \"kvr-Latn-ID\",\n    \"kvx\": \"kvx-Arab-PK\",\n    \"kw\": \"kw-Latn-GB\",\n    \"kwj\": \"kwj-Latn-ZZ\",\n    \"kwo\": \"kwo-Latn-ZZ\",\n    \"kwq\": \"kwq-Latn-ZZ\",\n    \"kxa\": \"kxa-Latn-ZZ\",\n    \"kxc\": \"kxc-Ethi-ZZ\",\n    \"kxe\": \"kxe-Latn-ZZ\",\n    \"kxl\": \"kxl-Deva-IN\",\n    \"kxm\": \"kxm-Thai-TH\",\n    \"kxp\": \"kxp-Arab-PK\",\n    \"kxw\": \"kxw-Latn-ZZ\",\n    \"kxz\": \"kxz-Latn-ZZ\",\n    \"ky\": \"ky-Cyrl-KG\",\n    \"ky-Arab\": \"ky-Arab-CN\",\n    \"ky-CN\": \"ky-Arab-CN\",\n    \"ky-Latn\": \"ky-Latn-TR\",\n    \"ky-TR\": \"ky-Latn-TR\",\n    \"kye\": \"kye-Latn-ZZ\",\n    \"kyx\": \"kyx-Latn-ZZ\",\n    \"kzh\": \"kzh-Arab-ZZ\",\n    \"kzj\": \"kzj-Latn-MY\",\n    \"kzr\": \"kzr-Latn-ZZ\",\n    \"kzt\": \"kzt-Latn-MY\",\n    \"la\": \"la-Latn-VA\",\n    \"lab\": \"lab-Lina-GR\",\n    \"lad\": \"lad-Hebr-IL\",\n    \"lag\": \"lag-Latn-TZ\",\n    \"lah\": \"lah-Arab-PK\",\n    \"laj\": \"laj-Latn-UG\",\n    \"las\": \"las-Latn-ZZ\",\n    \"lb\": \"lb-Latn-LU\",\n    \"lbe\": \"lbe-Cyrl-RU\",\n    \"lbu\": \"lbu-Latn-ZZ\",\n    \"lbw\": \"lbw-Latn-ID\",\n    \"lcm\": \"lcm-Latn-ZZ\",\n    \"lcp\": \"lcp-Thai-CN\",\n    \"ldb\": \"ldb-Latn-ZZ\",\n    \"led\": \"led-Latn-ZZ\",\n    \"lee\": \"lee-Latn-ZZ\",\n    \"lem\": \"lem-Latn-ZZ\",\n    \"lep\": \"lep-Lepc-IN\",\n    \"leq\": \"leq-Latn-ZZ\",\n    \"leu\": \"leu-Latn-ZZ\",\n    \"lez\": \"lez-Cyrl-RU\",\n    \"lg\": \"lg-Latn-UG\",\n    \"lgg\": \"lgg-Latn-ZZ\",\n    \"li\": \"li-Latn-NL\",\n    \"lia\": \"lia-Latn-ZZ\",\n    \"lid\": \"lid-Latn-ZZ\",\n    \"lif\": \"lif-Deva-NP\",\n    \"lif-Limb\": \"lif-Limb-IN\",\n    \"lig\": \"lig-Latn-ZZ\",\n    \"lih\": \"lih-Latn-ZZ\",\n    \"lij\": \"lij-Latn-IT\",\n    \"lis\": \"lis-Lisu-CN\",\n    \"ljp\": \"ljp-Latn-ID\",\n    \"lki\": \"lki-Arab-IR\",\n    \"lkt\": \"lkt-Latn-US\",\n    \"lle\": \"lle-Latn-ZZ\",\n    \"lln\": \"lln-Latn-ZZ\",\n    \"lmn\": \"lmn-Telu-IN\",\n    \"lmo\": \"lmo-Latn-IT\",\n    \"lmp\": \"lmp-Latn-ZZ\",\n    \"ln\": \"ln-Latn-CD\",\n    \"lns\": \"lns-Latn-ZZ\",\n    \"lnu\": \"lnu-Latn-ZZ\",\n    \"lo\": \"lo-Laoo-LA\",\n    \"loj\": \"loj-Latn-ZZ\",\n    \"lok\": \"lok-Latn-ZZ\",\n    \"lol\": \"lol-Latn-CD\",\n    \"lor\": \"lor-Latn-ZZ\",\n    \"los\": \"los-Latn-ZZ\",\n    \"loz\": \"loz-Latn-ZM\",\n    \"lrc\": \"lrc-Arab-IR\",\n    \"lt\": \"lt-Latn-LT\",\n    \"ltg\": \"ltg-Latn-LV\",\n    \"lu\": \"lu-Latn-CD\",\n    \"lua\": \"lua-Latn-CD\",\n    \"luo\": \"luo-Latn-KE\",\n    \"luy\": \"luy-Latn-KE\",\n    \"luz\": \"luz-Arab-IR\",\n    \"lv\": \"lv-Latn-LV\",\n    \"lwl\": \"lwl-Thai-TH\",\n    \"lzh\": \"lzh-Hans-CN\",\n    \"lzz\": \"lzz-Latn-TR\",\n    \"mad\": \"mad-Latn-ID\",\n    \"maf\": \"maf-Latn-CM\",\n    \"mag\": \"mag-Deva-IN\",\n    \"mai\": \"mai-Deva-IN\",\n    \"mak\": \"mak-Latn-ID\",\n    \"man\": \"man-Latn-GM\",\n    \"man-GN\": \"man-Nkoo-GN\",\n    \"man-Nkoo\": \"man-Nkoo-GN\",\n    \"mas\": \"mas-Latn-KE\",\n    \"maw\": \"maw-Latn-ZZ\",\n    \"maz\": \"maz-Latn-MX\",\n    \"mbh\": \"mbh-Latn-ZZ\",\n    \"mbo\": \"mbo-Latn-ZZ\",\n    \"mbq\": \"mbq-Latn-ZZ\",\n    \"mbu\": \"mbu-Latn-ZZ\",\n    \"mbw\": \"mbw-Latn-ZZ\",\n    \"mci\": \"mci-Latn-ZZ\",\n    \"mcp\": \"mcp-Latn-ZZ\",\n    \"mcq\": \"mcq-Latn-ZZ\",\n    \"mcr\": \"mcr-Latn-ZZ\",\n    \"mcu\": \"mcu-Latn-ZZ\",\n    \"mda\": \"mda-Latn-ZZ\",\n    \"mde\": \"mde-Arab-ZZ\",\n    \"mdf\": \"mdf-Cyrl-RU\",\n    \"mdh\": \"mdh-Latn-PH\",\n    \"mdj\": \"mdj-Latn-ZZ\",\n    \"mdr\": \"mdr-Latn-ID\",\n    \"mdx\": \"mdx-Ethi-ZZ\",\n    \"med\": \"med-Latn-ZZ\",\n    \"mee\": \"mee-Latn-ZZ\",\n    \"mek\": \"mek-Latn-ZZ\",\n    \"men\": \"men-Latn-SL\",\n    \"mer\": \"mer-Latn-KE\",\n    \"met\": \"met-Latn-ZZ\",\n    \"meu\": \"meu-Latn-ZZ\",\n    \"mfa\": \"mfa-Arab-TH\",\n    \"mfe\": \"mfe-Latn-MU\",\n    \"mfn\": \"mfn-Latn-ZZ\",\n    \"mfo\": \"mfo-Latn-ZZ\",\n    \"mfq\": \"mfq-Latn-ZZ\",\n    \"mg\": \"mg-Latn-MG\",\n    \"mgh\": \"mgh-Latn-MZ\",\n    \"mgl\": \"mgl-Latn-ZZ\",\n    \"mgo\": \"mgo-Latn-CM\",\n    \"mgp\": \"mgp-Deva-NP\",\n    \"mgy\": \"mgy-Latn-TZ\",\n    \"mh\": \"mh-Latn-MH\",\n    \"mhi\": \"mhi-Latn-ZZ\",\n    \"mhl\": \"mhl-Latn-ZZ\",\n    \"mi\": \"mi-Latn-NZ\",\n    \"mif\": \"mif-Latn-ZZ\",\n    \"min\": \"min-Latn-ID\",\n    \"miw\": \"miw-Latn-ZZ\",\n    \"mk\": \"mk-Cyrl-MK\",\n    \"mki\": \"mki-Arab-ZZ\",\n    \"mkl\": \"mkl-Latn-ZZ\",\n    \"mkp\": \"mkp-Latn-ZZ\",\n    \"mkw\": \"mkw-Latn-ZZ\",\n    \"ml\": \"ml-Mlym-IN\",\n    \"mle\": \"mle-Latn-ZZ\",\n    \"mlp\": \"mlp-Latn-ZZ\",\n    \"mls\": \"mls-Latn-SD\",\n    \"mmo\": \"mmo-Latn-ZZ\",\n    \"mmu\": \"mmu-Latn-ZZ\",\n    \"mmx\": \"mmx-Latn-ZZ\",\n    \"mn\": \"mn-Cyrl-MN\",\n    \"mn-CN\": \"mn-Mong-CN\",\n    \"mn-Mong\": \"mn-Mong-CN\",\n    \"mna\": \"mna-Latn-ZZ\",\n    \"mnf\": \"mnf-Latn-ZZ\",\n    \"mni\": \"mni-Beng-IN\",\n    \"mnw\": \"mnw-Mymr-MM\",\n    \"mo\": \"mo-Latn-RO\",\n    \"moa\": \"moa-Latn-ZZ\",\n    \"moe\": \"moe-Latn-CA\",\n    \"moh\": \"moh-Latn-CA\",\n    \"mos\": \"mos-Latn-BF\",\n    \"mox\": \"mox-Latn-ZZ\",\n    \"mpp\": \"mpp-Latn-ZZ\",\n    \"mps\": \"mps-Latn-ZZ\",\n    \"mpt\": \"mpt-Latn-ZZ\",\n    \"mpx\": \"mpx-Latn-ZZ\",\n    \"mql\": \"mql-Latn-ZZ\",\n    \"mr\": \"mr-Deva-IN\",\n    \"mrd\": \"mrd-Deva-NP\",\n    \"mrj\": \"mrj-Cyrl-RU\",\n    \"mro\": \"mro-Mroo-BD\",\n    \"ms\": \"ms-Latn-MY\",\n    \"ms-CC\": \"ms-Arab-CC\",\n    \"mt\": \"mt-Latn-MT\",\n    \"mtc\": \"mtc-Latn-ZZ\",\n    \"mtf\": \"mtf-Latn-ZZ\",\n    \"mti\": \"mti-Latn-ZZ\",\n    \"mtr\": \"mtr-Deva-IN\",\n    \"mua\": \"mua-Latn-CM\",\n    \"mur\": \"mur-Latn-ZZ\",\n    \"mus\": \"mus-Latn-US\",\n    \"mva\": \"mva-Latn-ZZ\",\n    \"mvn\": \"mvn-Latn-ZZ\",\n    \"mvy\": \"mvy-Arab-PK\",\n    \"mwk\": \"mwk-Latn-ML\",\n    \"mwr\": \"mwr-Deva-IN\",\n    \"mwv\": \"mwv-Latn-ID\",\n    \"mww\": \"mww-Hmnp-US\",\n    \"mxc\": \"mxc-Latn-ZW\",\n    \"mxm\": \"mxm-Latn-ZZ\",\n    \"my\": \"my-Mymr-MM\",\n    \"myk\": \"myk-Latn-ZZ\",\n    \"mym\": \"mym-Ethi-ZZ\",\n    \"myv\": \"myv-Cyrl-RU\",\n    \"myw\": \"myw-Latn-ZZ\",\n    \"myx\": \"myx-Latn-UG\",\n    \"myz\": \"myz-Mand-IR\",\n    \"mzk\": \"mzk-Latn-ZZ\",\n    \"mzm\": \"mzm-Latn-ZZ\",\n    \"mzn\": \"mzn-Arab-IR\",\n    \"mzp\": \"mzp-Latn-ZZ\",\n    \"mzw\": \"mzw-Latn-ZZ\",\n    \"mzz\": \"mzz-Latn-ZZ\",\n    \"na\": \"na-Latn-NR\",\n    \"nac\": \"nac-Latn-ZZ\",\n    \"naf\": \"naf-Latn-ZZ\",\n    \"nak\": \"nak-Latn-ZZ\",\n    \"nan\": \"nan-Hans-CN\",\n    \"nap\": \"nap-Latn-IT\",\n    \"naq\": \"naq-Latn-NA\",\n    \"nas\": \"nas-Latn-ZZ\",\n    \"nb\": \"nb-Latn-NO\",\n    \"nca\": \"nca-Latn-ZZ\",\n    \"nce\": \"nce-Latn-ZZ\",\n    \"ncf\": \"ncf-Latn-ZZ\",\n    \"nch\": \"nch-Latn-MX\",\n    \"nco\": \"nco-Latn-ZZ\",\n    \"ncu\": \"ncu-Latn-ZZ\",\n    \"nd\": \"nd-Latn-ZW\",\n    \"ndc\": \"ndc-Latn-MZ\",\n    \"nds\": \"nds-Latn-DE\",\n    \"ne\": \"ne-Deva-NP\",\n    \"neb\": \"neb-Latn-ZZ\",\n    \"new\": \"new-Deva-NP\",\n    \"nex\": \"nex-Latn-ZZ\",\n    \"nfr\": \"nfr-Latn-ZZ\",\n    \"ng\": \"ng-Latn-NA\",\n    \"nga\": \"nga-Latn-ZZ\",\n    \"ngb\": \"ngb-Latn-ZZ\",\n    \"ngl\": \"ngl-Latn-MZ\",\n    \"nhb\": \"nhb-Latn-ZZ\",\n    \"nhe\": \"nhe-Latn-MX\",\n    \"nhw\": \"nhw-Latn-MX\",\n    \"nif\": \"nif-Latn-ZZ\",\n    \"nii\": \"nii-Latn-ZZ\",\n    \"nij\": \"nij-Latn-ID\",\n    \"nin\": \"nin-Latn-ZZ\",\n    \"niu\": \"niu-Latn-NU\",\n    \"niy\": \"niy-Latn-ZZ\",\n    \"niz\": \"niz-Latn-ZZ\",\n    \"njo\": \"njo-Latn-IN\",\n    \"nkg\": \"nkg-Latn-ZZ\",\n    \"nko\": \"nko-Latn-ZZ\",\n    \"nl\": \"nl-Latn-NL\",\n    \"nmg\": \"nmg-Latn-CM\",\n    \"nmz\": \"nmz-Latn-ZZ\",\n    \"nn\": \"nn-Latn-NO\",\n    \"nnf\": \"nnf-Latn-ZZ\",\n    \"nnh\": \"nnh-Latn-CM\",\n    \"nnk\": \"nnk-Latn-ZZ\",\n    \"nnm\": \"nnm-Latn-ZZ\",\n    \"nnp\": \"nnp-Wcho-IN\",\n    \"no\": \"no-Latn-NO\",\n    \"nod\": \"nod-Lana-TH\",\n    \"noe\": \"noe-Deva-IN\",\n    \"non\": \"non-Runr-SE\",\n    \"nop\": \"nop-Latn-ZZ\",\n    \"nou\": \"nou-Latn-ZZ\",\n    \"nqo\": \"nqo-Nkoo-GN\",\n    \"nr\": \"nr-Latn-ZA\",\n    \"nrb\": \"nrb-Latn-ZZ\",\n    \"nsk\": \"nsk-Cans-CA\",\n    \"nsn\": \"nsn-Latn-ZZ\",\n    \"nso\": \"nso-Latn-ZA\",\n    \"nss\": \"nss-Latn-ZZ\",\n    \"nst\": \"nst-Tnsa-IN\",\n    \"ntm\": \"ntm-Latn-ZZ\",\n    \"ntr\": \"ntr-Latn-ZZ\",\n    \"nui\": \"nui-Latn-ZZ\",\n    \"nup\": \"nup-Latn-ZZ\",\n    \"nus\": \"nus-Latn-SS\",\n    \"nuv\": \"nuv-Latn-ZZ\",\n    \"nux\": \"nux-Latn-ZZ\",\n    \"nv\": \"nv-Latn-US\",\n    \"nwb\": \"nwb-Latn-ZZ\",\n    \"nxq\": \"nxq-Latn-CN\",\n    \"nxr\": \"nxr-Latn-ZZ\",\n    \"ny\": \"ny-Latn-MW\",\n    \"nym\": \"nym-Latn-TZ\",\n    \"nyn\": \"nyn-Latn-UG\",\n    \"nzi\": \"nzi-Latn-GH\",\n    \"oc\": \"oc-Latn-FR\",\n    \"ogc\": \"ogc-Latn-ZZ\",\n    \"okr\": \"okr-Latn-ZZ\",\n    \"okv\": \"okv-Latn-ZZ\",\n    \"om\": \"om-Latn-ET\",\n    \"ong\": \"ong-Latn-ZZ\",\n    \"onn\": \"onn-Latn-ZZ\",\n    \"ons\": \"ons-Latn-ZZ\",\n    \"opm\": \"opm-Latn-ZZ\",\n    \"or\": \"or-Orya-IN\",\n    \"oro\": \"oro-Latn-ZZ\",\n    \"oru\": \"oru-Arab-ZZ\",\n    \"os\": \"os-Cyrl-GE\",\n    \"osa\": \"osa-Osge-US\",\n    \"ota\": \"ota-Arab-ZZ\",\n    \"otk\": \"otk-Orkh-MN\",\n    \"oui\": \"oui-Ougr-143\",\n    \"ozm\": \"ozm-Latn-ZZ\",\n    \"pa\": \"pa-Guru-IN\",\n    \"pa-Arab\": \"pa-Arab-PK\",\n    \"pa-PK\": \"pa-Arab-PK\",\n    \"pag\": \"pag-Latn-PH\",\n    \"pal\": \"pal-Phli-IR\",\n    \"pal-Phlp\": \"pal-Phlp-CN\",\n    \"pam\": \"pam-Latn-PH\",\n    \"pap\": \"pap-Latn-AW\",\n    \"pau\": \"pau-Latn-PW\",\n    \"pbi\": \"pbi-Latn-ZZ\",\n    \"pcd\": \"pcd-Latn-FR\",\n    \"pcm\": \"pcm-Latn-NG\",\n    \"pdc\": \"pdc-Latn-US\",\n    \"pdt\": \"pdt-Latn-CA\",\n    \"ped\": \"ped-Latn-ZZ\",\n    \"peo\": \"peo-Xpeo-IR\",\n    \"pex\": \"pex-Latn-ZZ\",\n    \"pfl\": \"pfl-Latn-DE\",\n    \"phl\": \"phl-Arab-ZZ\",\n    \"phn\": \"phn-Phnx-LB\",\n    \"pil\": \"pil-Latn-ZZ\",\n    \"pip\": \"pip-Latn-ZZ\",\n    \"pka\": \"pka-Brah-IN\",\n    \"pko\": \"pko-Latn-KE\",\n    \"pl\": \"pl-Latn-PL\",\n    \"pla\": \"pla-Latn-ZZ\",\n    \"pms\": \"pms-Latn-IT\",\n    \"png\": \"png-Latn-ZZ\",\n    \"pnn\": \"pnn-Latn-ZZ\",\n    \"pnt\": \"pnt-Grek-GR\",\n    \"pon\": \"pon-Latn-FM\",\n    \"ppa\": \"ppa-Deva-IN\",\n    \"ppo\": \"ppo-Latn-ZZ\",\n    \"pra\": \"pra-Khar-PK\",\n    \"prd\": \"prd-Arab-IR\",\n    \"prg\": \"prg-Latn-001\",\n    \"ps\": \"ps-Arab-AF\",\n    \"pss\": \"pss-Latn-ZZ\",\n    \"pt\": \"pt-Latn-BR\",\n    \"ptp\": \"ptp-Latn-ZZ\",\n    \"puu\": \"puu-Latn-GA\",\n    \"pwa\": \"pwa-Latn-ZZ\",\n    \"qu\": \"qu-Latn-PE\",\n    \"quc\": \"quc-Latn-GT\",\n    \"qug\": \"qug-Latn-EC\",\n    \"rai\": \"rai-Latn-ZZ\",\n    \"raj\": \"raj-Deva-IN\",\n    \"rao\": \"rao-Latn-ZZ\",\n    \"rcf\": \"rcf-Latn-RE\",\n    \"rej\": \"rej-Latn-ID\",\n    \"rel\": \"rel-Latn-ZZ\",\n    \"res\": \"res-Latn-ZZ\",\n    \"rgn\": \"rgn-Latn-IT\",\n    \"rhg\": \"rhg-Rohg-MM\",\n    \"ria\": \"ria-Latn-IN\",\n    \"rif\": \"rif-Tfng-MA\",\n    \"rif-NL\": \"rif-Latn-NL\",\n    \"rjs\": \"rjs-Deva-NP\",\n    \"rkt\": \"rkt-Beng-BD\",\n    \"rm\": \"rm-Latn-CH\",\n    \"rmf\": \"rmf-Latn-FI\",\n    \"rmo\": \"rmo-Latn-CH\",\n    \"rmt\": \"rmt-Arab-IR\",\n    \"rmu\": \"rmu-Latn-SE\",\n    \"rn\": \"rn-Latn-BI\",\n    \"rna\": \"rna-Latn-ZZ\",\n    \"rng\": \"rng-Latn-MZ\",\n    \"ro\": \"ro-Latn-RO\",\n    \"rob\": \"rob-Latn-ID\",\n    \"rof\": \"rof-Latn-TZ\",\n    \"roo\": \"roo-Latn-ZZ\",\n    \"rro\": \"rro-Latn-ZZ\",\n    \"rtm\": \"rtm-Latn-FJ\",\n    \"ru\": \"ru-Cyrl-RU\",\n    \"rue\": \"rue-Cyrl-UA\",\n    \"rug\": \"rug-Latn-SB\",\n    \"rw\": \"rw-Latn-RW\",\n    \"rwk\": \"rwk-Latn-TZ\",\n    \"rwo\": \"rwo-Latn-ZZ\",\n    \"ryu\": \"ryu-Kana-JP\",\n    \"sa\": \"sa-Deva-IN\",\n    \"saf\": \"saf-Latn-GH\",\n    \"sah\": \"sah-Cyrl-RU\",\n    \"saq\": \"saq-Latn-KE\",\n    \"sas\": \"sas-Latn-ID\",\n    \"sat\": \"sat-Olck-IN\",\n    \"sav\": \"sav-Latn-SN\",\n    \"saz\": \"saz-Saur-IN\",\n    \"sba\": \"sba-Latn-ZZ\",\n    \"sbe\": \"sbe-Latn-ZZ\",\n    \"sbp\": \"sbp-Latn-TZ\",\n    \"sc\": \"sc-Latn-IT\",\n    \"sck\": \"sck-Deva-IN\",\n    \"scl\": \"scl-Arab-ZZ\",\n    \"scn\": \"scn-Latn-IT\",\n    \"sco\": \"sco-Latn-GB\",\n    \"scs\": \"scs-Latn-CA\",\n    \"sd\": \"sd-Arab-PK\",\n    \"sd-Deva\": \"sd-Deva-IN\",\n    \"sd-Khoj\": \"sd-Khoj-IN\",\n    \"sd-Sind\": \"sd-Sind-IN\",\n    \"sdc\": \"sdc-Latn-IT\",\n    \"sdh\": \"sdh-Arab-IR\",\n    \"se\": \"se-Latn-NO\",\n    \"sef\": \"sef-Latn-CI\",\n    \"seh\": \"seh-Latn-MZ\",\n    \"sei\": \"sei-Latn-MX\",\n    \"ses\": \"ses-Latn-ML\",\n    \"sg\": \"sg-Latn-CF\",\n    \"sga\": \"sga-Ogam-IE\",\n    \"sgs\": \"sgs-Latn-LT\",\n    \"sgw\": \"sgw-Ethi-ZZ\",\n    \"sgz\": \"sgz-Latn-ZZ\",\n    \"shi\": \"shi-Tfng-MA\",\n    \"shk\": \"shk-Latn-ZZ\",\n    \"shn\": \"shn-Mymr-MM\",\n    \"shu\": \"shu-Arab-ZZ\",\n    \"si\": \"si-Sinh-LK\",\n    \"sid\": \"sid-Latn-ET\",\n    \"sig\": \"sig-Latn-ZZ\",\n    \"sil\": \"sil-Latn-ZZ\",\n    \"sim\": \"sim-Latn-ZZ\",\n    \"sjr\": \"sjr-Latn-ZZ\",\n    \"sk\": \"sk-Latn-SK\",\n    \"skc\": \"skc-Latn-ZZ\",\n    \"skr\": \"skr-Arab-PK\",\n    \"sks\": \"sks-Latn-ZZ\",\n    \"sl\": \"sl-Latn-SI\",\n    \"sld\": \"sld-Latn-ZZ\",\n    \"sli\": \"sli-Latn-PL\",\n    \"sll\": \"sll-Latn-ZZ\",\n    \"sly\": \"sly-Latn-ID\",\n    \"sm\": \"sm-Latn-WS\",\n    \"sma\": \"sma-Latn-SE\",\n    \"smj\": \"smj-Latn-SE\",\n    \"smn\": \"smn-Latn-FI\",\n    \"smp\": \"smp-Samr-IL\",\n    \"smq\": \"smq-Latn-ZZ\",\n    \"sms\": \"sms-Latn-FI\",\n    \"sn\": \"sn-Latn-ZW\",\n    \"snc\": \"snc-Latn-ZZ\",\n    \"snk\": \"snk-Latn-ML\",\n    \"snp\": \"snp-Latn-ZZ\",\n    \"snx\": \"snx-Latn-ZZ\",\n    \"sny\": \"sny-Latn-ZZ\",\n    \"so\": \"so-Latn-SO\",\n    \"sog\": \"sog-Sogd-UZ\",\n    \"sok\": \"sok-Latn-ZZ\",\n    \"soq\": \"soq-Latn-ZZ\",\n    \"sou\": \"sou-Thai-TH\",\n    \"soy\": \"soy-Latn-ZZ\",\n    \"spd\": \"spd-Latn-ZZ\",\n    \"spl\": \"spl-Latn-ZZ\",\n    \"sps\": \"sps-Latn-ZZ\",\n    \"sq\": \"sq-Latn-AL\",\n    \"sr\": \"sr-Cyrl-RS\",\n    \"sr-ME\": \"sr-Latn-ME\",\n    \"sr-RO\": \"sr-Latn-RO\",\n    \"sr-RU\": \"sr-Latn-RU\",\n    \"sr-TR\": \"sr-Latn-TR\",\n    \"srb\": \"srb-Sora-IN\",\n    \"srn\": \"srn-Latn-SR\",\n    \"srr\": \"srr-Latn-SN\",\n    \"srx\": \"srx-Deva-IN\",\n    \"ss\": \"ss-Latn-ZA\",\n    \"ssd\": \"ssd-Latn-ZZ\",\n    \"ssg\": \"ssg-Latn-ZZ\",\n    \"ssy\": \"ssy-Latn-ER\",\n    \"st\": \"st-Latn-ZA\",\n    \"stk\": \"stk-Latn-ZZ\",\n    \"stq\": \"stq-Latn-DE\",\n    \"su\": \"su-Latn-ID\",\n    \"sua\": \"sua-Latn-ZZ\",\n    \"sue\": \"sue-Latn-ZZ\",\n    \"suk\": \"suk-Latn-TZ\",\n    \"sur\": \"sur-Latn-ZZ\",\n    \"sus\": \"sus-Latn-GN\",\n    \"sv\": \"sv-Latn-SE\",\n    \"sw\": \"sw-Latn-TZ\",\n    \"swb\": \"swb-Arab-YT\",\n    \"swc\": \"swc-Latn-CD\",\n    \"swg\": \"swg-Latn-DE\",\n    \"swp\": \"swp-Latn-ZZ\",\n    \"swv\": \"swv-Deva-IN\",\n    \"sxn\": \"sxn-Latn-ID\",\n    \"sxw\": \"sxw-Latn-ZZ\",\n    \"syl\": \"syl-Beng-BD\",\n    \"syr\": \"syr-Syrc-IQ\",\n    \"szl\": \"szl-Latn-PL\",\n    \"ta\": \"ta-Taml-IN\",\n    \"taj\": \"taj-Deva-NP\",\n    \"tal\": \"tal-Latn-ZZ\",\n    \"tan\": \"tan-Latn-ZZ\",\n    \"taq\": \"taq-Latn-ZZ\",\n    \"tbc\": \"tbc-Latn-ZZ\",\n    \"tbd\": \"tbd-Latn-ZZ\",\n    \"tbf\": \"tbf-Latn-ZZ\",\n    \"tbg\": \"tbg-Latn-ZZ\",\n    \"tbo\": \"tbo-Latn-ZZ\",\n    \"tbw\": \"tbw-Latn-PH\",\n    \"tbz\": \"tbz-Latn-ZZ\",\n    \"tci\": \"tci-Latn-ZZ\",\n    \"tcy\": \"tcy-Knda-IN\",\n    \"tdd\": \"tdd-Tale-CN\",\n    \"tdg\": \"tdg-Deva-NP\",\n    \"tdh\": \"tdh-Deva-NP\",\n    \"tdu\": \"tdu-Latn-MY\",\n    \"te\": \"te-Telu-IN\",\n    \"ted\": \"ted-Latn-ZZ\",\n    \"tem\": \"tem-Latn-SL\",\n    \"teo\": \"teo-Latn-UG\",\n    \"tet\": \"tet-Latn-TL\",\n    \"tfi\": \"tfi-Latn-ZZ\",\n    \"tg\": \"tg-Cyrl-TJ\",\n    \"tg-Arab\": \"tg-Arab-PK\",\n    \"tg-PK\": \"tg-Arab-PK\",\n    \"tgc\": \"tgc-Latn-ZZ\",\n    \"tgo\": \"tgo-Latn-ZZ\",\n    \"tgu\": \"tgu-Latn-ZZ\",\n    \"th\": \"th-Thai-TH\",\n    \"thl\": \"thl-Deva-NP\",\n    \"thq\": \"thq-Deva-NP\",\n    \"thr\": \"thr-Deva-NP\",\n    \"ti\": \"ti-Ethi-ET\",\n    \"tif\": \"tif-Latn-ZZ\",\n    \"tig\": \"tig-Ethi-ER\",\n    \"tik\": \"tik-Latn-ZZ\",\n    \"tim\": \"tim-Latn-ZZ\",\n    \"tio\": \"tio-Latn-ZZ\",\n    \"tiv\": \"tiv-Latn-NG\",\n    \"tk\": \"tk-Latn-TM\",\n    \"tkl\": \"tkl-Latn-TK\",\n    \"tkr\": \"tkr-Latn-AZ\",\n    \"tkt\": \"tkt-Deva-NP\",\n    \"tl\": \"tl-Latn-PH\",\n    \"tlf\": \"tlf-Latn-ZZ\",\n    \"tlx\": \"tlx-Latn-ZZ\",\n    \"tly\": \"tly-Latn-AZ\",\n    \"tmh\": \"tmh-Latn-NE\",\n    \"tmy\": \"tmy-Latn-ZZ\",\n    \"tn\": \"tn-Latn-ZA\",\n    \"tnh\": \"tnh-Latn-ZZ\",\n    \"to\": \"to-Latn-TO\",\n    \"tof\": \"tof-Latn-ZZ\",\n    \"tog\": \"tog-Latn-MW\",\n    \"toq\": \"toq-Latn-ZZ\",\n    \"tpi\": \"tpi-Latn-PG\",\n    \"tpm\": \"tpm-Latn-ZZ\",\n    \"tpz\": \"tpz-Latn-ZZ\",\n    \"tqo\": \"tqo-Latn-ZZ\",\n    \"tr\": \"tr-Latn-TR\",\n    \"tru\": \"tru-Latn-TR\",\n    \"trv\": \"trv-Latn-TW\",\n    \"trw\": \"trw-Arab-PK\",\n    \"ts\": \"ts-Latn-ZA\",\n    \"tsd\": \"tsd-Grek-GR\",\n    \"tsf\": \"tsf-Deva-NP\",\n    \"tsg\": \"tsg-Latn-PH\",\n    \"tsj\": \"tsj-Tibt-BT\",\n    \"tsw\": \"tsw-Latn-ZZ\",\n    \"tt\": \"tt-Cyrl-RU\",\n    \"ttd\": \"ttd-Latn-ZZ\",\n    \"tte\": \"tte-Latn-ZZ\",\n    \"ttj\": \"ttj-Latn-UG\",\n    \"ttr\": \"ttr-Latn-ZZ\",\n    \"tts\": \"tts-Thai-TH\",\n    \"ttt\": \"ttt-Latn-AZ\",\n    \"tuh\": \"tuh-Latn-ZZ\",\n    \"tul\": \"tul-Latn-ZZ\",\n    \"tum\": \"tum-Latn-MW\",\n    \"tuq\": \"tuq-Latn-ZZ\",\n    \"tvd\": \"tvd-Latn-ZZ\",\n    \"tvl\": \"tvl-Latn-TV\",\n    \"tvu\": \"tvu-Latn-ZZ\",\n    \"twh\": \"twh-Latn-ZZ\",\n    \"twq\": \"twq-Latn-NE\",\n    \"txg\": \"txg-Tang-CN\",\n    \"txo\": \"txo-Toto-IN\",\n    \"ty\": \"ty-Latn-PF\",\n    \"tya\": \"tya-Latn-ZZ\",\n    \"tyv\": \"tyv-Cyrl-RU\",\n    \"tzm\": \"tzm-Latn-MA\",\n    \"ubu\": \"ubu-Latn-ZZ\",\n    \"udi\": \"udi-Aghb-RU\",\n    \"udm\": \"udm-Cyrl-RU\",\n    \"ug\": \"ug-Arab-CN\",\n    \"ug-Cyrl\": \"ug-Cyrl-KZ\",\n    \"ug-KZ\": \"ug-Cyrl-KZ\",\n    \"ug-MN\": \"ug-Cyrl-MN\",\n    \"uga\": \"uga-Ugar-SY\",\n    \"uk\": \"uk-Cyrl-UA\",\n    \"uli\": \"uli-Latn-FM\",\n    \"umb\": \"umb-Latn-AO\",\n    \"und\": \"en-Latn-US\",\n    \"und-002\": \"en-Latn-NG\",\n    \"und-003\": \"en-Latn-US\",\n    \"und-005\": \"pt-Latn-BR\",\n    \"und-009\": \"en-Latn-AU\",\n    \"und-011\": \"en-Latn-NG\",\n    \"und-013\": \"es-Latn-MX\",\n    \"und-014\": \"sw-Latn-TZ\",\n    \"und-015\": \"ar-Arab-EG\",\n    \"und-017\": \"sw-Latn-CD\",\n    \"und-018\": \"en-Latn-ZA\",\n    \"und-019\": \"en-Latn-US\",\n    \"und-021\": \"en-Latn-US\",\n    \"und-029\": \"es-Latn-CU\",\n    \"und-030\": \"zh-Hans-CN\",\n    \"und-034\": \"hi-Deva-IN\",\n    \"und-035\": \"id-Latn-ID\",\n    \"und-039\": \"it-Latn-IT\",\n    \"und-053\": \"en-Latn-AU\",\n    \"und-054\": \"en-Latn-PG\",\n    \"und-057\": \"en-Latn-GU\",\n    \"und-061\": \"sm-Latn-WS\",\n    \"und-142\": \"zh-Hans-CN\",\n    \"und-143\": \"uz-Latn-UZ\",\n    \"und-145\": \"ar-Arab-SA\",\n    \"und-150\": \"ru-Cyrl-RU\",\n    \"und-151\": \"ru-Cyrl-RU\",\n    \"und-154\": \"en-Latn-GB\",\n    \"und-155\": \"de-Latn-DE\",\n    \"und-202\": \"en-Latn-NG\",\n    \"und-419\": \"es-Latn-419\",\n    \"und-AD\": \"ca-Latn-AD\",\n    \"und-Adlm\": \"ff-Adlm-GN\",\n    \"und-AE\": \"ar-Arab-AE\",\n    \"und-AF\": \"fa-Arab-AF\",\n    \"und-Aghb\": \"udi-Aghb-RU\",\n    \"und-Ahom\": \"aho-Ahom-IN\",\n    \"und-AL\": \"sq-Latn-AL\",\n    \"und-AM\": \"hy-Armn-AM\",\n    \"und-AO\": \"pt-Latn-AO\",\n    \"und-AQ\": \"und-Latn-AQ\",\n    \"und-AR\": \"es-Latn-AR\",\n    \"und-Arab\": \"ar-Arab-EG\",\n    \"und-Arab-CC\": \"ms-Arab-CC\",\n    \"und-Arab-CN\": \"ug-Arab-CN\",\n    \"und-Arab-GB\": \"ks-Arab-GB\",\n    \"und-Arab-ID\": \"ms-Arab-ID\",\n    \"und-Arab-IN\": \"ur-Arab-IN\",\n    \"und-Arab-KH\": \"cja-Arab-KH\",\n    \"und-Arab-MM\": \"rhg-Arab-MM\",\n    \"und-Arab-MN\": \"kk-Arab-MN\",\n    \"und-Arab-MU\": \"ur-Arab-MU\",\n    \"und-Arab-NG\": \"ha-Arab-NG\",\n    \"und-Arab-PK\": \"ur-Arab-PK\",\n    \"und-Arab-TG\": \"apd-Arab-TG\",\n    \"und-Arab-TH\": \"mfa-Arab-TH\",\n    \"und-Arab-TJ\": \"fa-Arab-TJ\",\n    \"und-Arab-TR\": \"az-Arab-TR\",\n    \"und-Arab-YT\": \"swb-Arab-YT\",\n    \"und-Armi\": \"arc-Armi-IR\",\n    \"und-Armn\": \"hy-Armn-AM\",\n    \"und-AS\": \"sm-Latn-AS\",\n    \"und-AT\": \"de-Latn-AT\",\n    \"und-Avst\": \"ae-Avst-IR\",\n    \"und-AW\": \"nl-Latn-AW\",\n    \"und-AX\": \"sv-Latn-AX\",\n    \"und-AZ\": \"az-Latn-AZ\",\n    \"und-BA\": \"bs-Latn-BA\",\n    \"und-Bali\": \"ban-Bali-ID\",\n    \"und-Bamu\": \"bax-Bamu-CM\",\n    \"und-Bass\": \"bsq-Bass-LR\",\n    \"und-Batk\": \"bbc-Batk-ID\",\n    \"und-BD\": \"bn-Beng-BD\",\n    \"und-BE\": \"nl-Latn-BE\",\n    \"und-Beng\": \"bn-Beng-BD\",\n    \"und-BF\": \"fr-Latn-BF\",\n    \"und-BG\": \"bg-Cyrl-BG\",\n    \"und-BH\": \"ar-Arab-BH\",\n    \"und-Bhks\": \"sa-Bhks-IN\",\n    \"und-BI\": \"rn-Latn-BI\",\n    \"und-BJ\": \"fr-Latn-BJ\",\n    \"und-BL\": \"fr-Latn-BL\",\n    \"und-BN\": \"ms-Latn-BN\",\n    \"und-BO\": \"es-Latn-BO\",\n    \"und-Bopo\": \"zh-Bopo-TW\",\n    \"und-BQ\": \"pap-Latn-BQ\",\n    \"und-BR\": \"pt-Latn-BR\",\n    \"und-Brah\": \"pka-Brah-IN\",\n    \"und-Brai\": \"fr-Brai-FR\",\n    \"und-BT\": \"dz-Tibt-BT\",\n    \"und-Bugi\": \"bug-Bugi-ID\",\n    \"und-Buhd\": \"bku-Buhd-PH\",\n    \"und-BV\": \"und-Latn-BV\",\n    \"und-BY\": \"be-Cyrl-BY\",\n    \"und-Cakm\": \"ccp-Cakm-BD\",\n    \"und-Cans\": \"cr-Cans-CA\",\n    \"und-Cari\": \"xcr-Cari-TR\",\n    \"und-CD\": \"sw-Latn-CD\",\n    \"und-CF\": \"fr-Latn-CF\",\n    \"und-CG\": \"fr-Latn-CG\",\n    \"und-CH\": \"de-Latn-CH\",\n    \"und-Cham\": \"cjm-Cham-VN\",\n    \"und-Cher\": \"chr-Cher-US\",\n    \"und-Chrs\": \"xco-Chrs-UZ\",\n    \"und-CI\": \"fr-Latn-CI\",\n    \"und-CL\": \"es-Latn-CL\",\n    \"und-CM\": \"fr-Latn-CM\",\n    \"und-CN\": \"zh-Hans-CN\",\n    \"und-CO\": \"es-Latn-CO\",\n    \"und-Copt\": \"cop-Copt-EG\",\n    \"und-CP\": \"und-Latn-CP\",\n    \"und-Cpmn\": \"und-Cpmn-CY\",\n    \"und-Cpmn-CY\": \"und-Cpmn-CY\",\n    \"und-Cprt\": \"grc-Cprt-CY\",\n    \"und-CR\": \"es-Latn-CR\",\n    \"und-CU\": \"es-Latn-CU\",\n    \"und-CV\": \"pt-Latn-CV\",\n    \"und-CW\": \"pap-Latn-CW\",\n    \"und-CY\": \"el-Grek-CY\",\n    \"und-Cyrl\": \"ru-Cyrl-RU\",\n    \"und-Cyrl-AL\": \"mk-Cyrl-AL\",\n    \"und-Cyrl-BA\": \"sr-Cyrl-BA\",\n    \"und-Cyrl-GE\": \"os-Cyrl-GE\",\n    \"und-Cyrl-GR\": \"mk-Cyrl-GR\",\n    \"und-Cyrl-MD\": \"uk-Cyrl-MD\",\n    \"und-Cyrl-RO\": \"bg-Cyrl-RO\",\n    \"und-Cyrl-SK\": \"uk-Cyrl-SK\",\n    \"und-Cyrl-TR\": \"kbd-Cyrl-TR\",\n    \"und-Cyrl-XK\": \"sr-Cyrl-XK\",\n    \"und-CZ\": \"cs-Latn-CZ\",\n    \"und-DE\": \"de-Latn-DE\",\n    \"und-Deva\": \"hi-Deva-IN\",\n    \"und-Deva-BT\": \"ne-Deva-BT\",\n    \"und-Deva-FJ\": \"hif-Deva-FJ\",\n    \"und-Deva-MU\": \"bho-Deva-MU\",\n    \"und-Deva-PK\": \"btv-Deva-PK\",\n    \"und-Diak\": \"dv-Diak-MV\",\n    \"und-DJ\": \"aa-Latn-DJ\",\n    \"und-DK\": \"da-Latn-DK\",\n    \"und-DO\": \"es-Latn-DO\",\n    \"und-Dogr\": \"doi-Dogr-IN\",\n    \"und-Dupl\": \"fr-Dupl-FR\",\n    \"und-DZ\": \"ar-Arab-DZ\",\n    \"und-EA\": \"es-Latn-EA\",\n    \"und-EC\": \"es-Latn-EC\",\n    \"und-EE\": \"et-Latn-EE\",\n    \"und-EG\": \"ar-Arab-EG\",\n    \"und-Egyp\": \"egy-Egyp-EG\",\n    \"und-EH\": \"ar-Arab-EH\",\n    \"und-Elba\": \"sq-Elba-AL\",\n    \"und-Elym\": \"arc-Elym-IR\",\n    \"und-ER\": \"ti-Ethi-ER\",\n    \"und-ES\": \"es-Latn-ES\",\n    \"und-ET\": \"am-Ethi-ET\",\n    \"und-Ethi\": \"am-Ethi-ET\",\n    \"und-EU\": \"en-Latn-IE\",\n    \"und-EZ\": \"de-Latn-EZ\",\n    \"und-FI\": \"fi-Latn-FI\",\n    \"und-FO\": \"fo-Latn-FO\",\n    \"und-FR\": \"fr-Latn-FR\",\n    \"und-GA\": \"fr-Latn-GA\",\n    \"und-GE\": \"ka-Geor-GE\",\n    \"und-Geor\": \"ka-Geor-GE\",\n    \"und-GF\": \"fr-Latn-GF\",\n    \"und-GH\": \"ak-Latn-GH\",\n    \"und-GL\": \"kl-Latn-GL\",\n    \"und-Glag\": \"cu-Glag-BG\",\n    \"und-GN\": \"fr-Latn-GN\",\n    \"und-Gong\": \"wsg-Gong-IN\",\n    \"und-Gonm\": \"esg-Gonm-IN\",\n    \"und-Goth\": \"got-Goth-UA\",\n    \"und-GP\": \"fr-Latn-GP\",\n    \"und-GQ\": \"es-Latn-GQ\",\n    \"und-GR\": \"el-Grek-GR\",\n    \"und-Gran\": \"sa-Gran-IN\",\n    \"und-Grek\": \"el-Grek-GR\",\n    \"und-Grek-TR\": \"bgx-Grek-TR\",\n    \"und-GS\": \"und-Latn-GS\",\n    \"und-GT\": \"es-Latn-GT\",\n    \"und-Gujr\": \"gu-Gujr-IN\",\n    \"und-Guru\": \"pa-Guru-IN\",\n    \"und-GW\": \"pt-Latn-GW\",\n    \"und-Hanb\": \"zh-Hanb-TW\",\n    \"und-Hang\": \"ko-Hang-KR\",\n    \"und-Hani\": \"zh-Hani-CN\",\n    \"und-Hano\": \"hnn-Hano-PH\",\n    \"und-Hans\": \"zh-Hans-CN\",\n    \"und-Hant\": \"zh-Hant-TW\",\n    \"und-Hebr\": \"he-Hebr-IL\",\n    \"und-Hebr-CA\": \"yi-Hebr-CA\",\n    \"und-Hebr-GB\": \"yi-Hebr-GB\",\n    \"und-Hebr-SE\": \"yi-Hebr-SE\",\n    \"und-Hebr-UA\": \"yi-Hebr-UA\",\n    \"und-Hebr-US\": \"yi-Hebr-US\",\n    \"und-Hira\": \"ja-Hira-JP\",\n    \"und-HK\": \"zh-Hant-HK\",\n    \"und-Hluw\": \"hlu-Hluw-TR\",\n    \"und-HM\": \"und-Latn-HM\",\n    \"und-Hmng\": \"hnj-Hmng-LA\",\n    \"und-Hmnp\": \"hnj-Hmnp-US\",\n    \"und-HN\": \"es-Latn-HN\",\n    \"und-HR\": \"hr-Latn-HR\",\n    \"und-HT\": \"ht-Latn-HT\",\n    \"und-HU\": \"hu-Latn-HU\",\n    \"und-Hung\": \"hu-Hung-HU\",\n    \"und-IC\": \"es-Latn-IC\",\n    \"und-ID\": \"id-Latn-ID\",\n    \"und-IL\": \"he-Hebr-IL\",\n    \"und-IN\": \"hi-Deva-IN\",\n    \"und-IQ\": \"ar-Arab-IQ\",\n    \"und-IR\": \"fa-Arab-IR\",\n    \"und-IS\": \"is-Latn-IS\",\n    \"und-IT\": \"it-Latn-IT\",\n    \"und-Ital\": \"ett-Ital-IT\",\n    \"und-Jamo\": \"ko-Jamo-KR\",\n    \"und-Java\": \"jv-Java-ID\",\n    \"und-JO\": \"ar-Arab-JO\",\n    \"und-JP\": \"ja-Jpan-JP\",\n    \"und-Jpan\": \"ja-Jpan-JP\",\n    \"und-Kali\": \"eky-Kali-MM\",\n    \"und-Kana\": \"ja-Kana-JP\",\n    \"und-KE\": \"sw-Latn-KE\",\n    \"und-KG\": \"ky-Cyrl-KG\",\n    \"und-KH\": \"km-Khmr-KH\",\n    \"und-Khar\": \"pra-Khar-PK\",\n    \"und-Khmr\": \"km-Khmr-KH\",\n    \"und-Khoj\": \"sd-Khoj-IN\",\n    \"und-Kits\": \"zkt-Kits-CN\",\n    \"und-KM\": \"ar-Arab-KM\",\n    \"und-Knda\": \"kn-Knda-IN\",\n    \"und-Kore\": \"ko-Kore-KR\",\n    \"und-KP\": \"ko-Kore-KP\",\n    \"und-KR\": \"ko-Kore-KR\",\n    \"und-Kthi\": \"bho-Kthi-IN\",\n    \"und-KW\": \"ar-Arab-KW\",\n    \"und-KZ\": \"ru-Cyrl-KZ\",\n    \"und-LA\": \"lo-Laoo-LA\",\n    \"und-Lana\": \"nod-Lana-TH\",\n    \"und-Laoo\": \"lo-Laoo-LA\",\n    \"und-Latn-AF\": \"tk-Latn-AF\",\n    \"und-Latn-AM\": \"ku-Latn-AM\",\n    \"und-Latn-CN\": \"za-Latn-CN\",\n    \"und-Latn-CY\": \"tr-Latn-CY\",\n    \"und-Latn-DZ\": \"fr-Latn-DZ\",\n    \"und-Latn-ET\": \"en-Latn-ET\",\n    \"und-Latn-GE\": \"ku-Latn-GE\",\n    \"und-Latn-IR\": \"tk-Latn-IR\",\n    \"und-Latn-KM\": \"fr-Latn-KM\",\n    \"und-Latn-MA\": \"fr-Latn-MA\",\n    \"und-Latn-MK\": \"sq-Latn-MK\",\n    \"und-Latn-MM\": \"kac-Latn-MM\",\n    \"und-Latn-MO\": \"pt-Latn-MO\",\n    \"und-Latn-MR\": \"fr-Latn-MR\",\n    \"und-Latn-RU\": \"krl-Latn-RU\",\n    \"und-Latn-SY\": \"fr-Latn-SY\",\n    \"und-Latn-TN\": \"fr-Latn-TN\",\n    \"und-Latn-TW\": \"trv-Latn-TW\",\n    \"und-Latn-UA\": \"pl-Latn-UA\",\n    \"und-LB\": \"ar-Arab-LB\",\n    \"und-Lepc\": \"lep-Lepc-IN\",\n    \"und-LI\": \"de-Latn-LI\",\n    \"und-Limb\": \"lif-Limb-IN\",\n    \"und-Lina\": \"lab-Lina-GR\",\n    \"und-Linb\": \"grc-Linb-GR\",\n    \"und-Lisu\": \"lis-Lisu-CN\",\n    \"und-LK\": \"si-Sinh-LK\",\n    \"und-LS\": \"st-Latn-LS\",\n    \"und-LT\": \"lt-Latn-LT\",\n    \"und-LU\": \"fr-Latn-LU\",\n    \"und-LV\": \"lv-Latn-LV\",\n    \"und-LY\": \"ar-Arab-LY\",\n    \"und-Lyci\": \"xlc-Lyci-TR\",\n    \"und-Lydi\": \"xld-Lydi-TR\",\n    \"und-MA\": \"ar-Arab-MA\",\n    \"und-Mahj\": \"hi-Mahj-IN\",\n    \"und-Maka\": \"mak-Maka-ID\",\n    \"und-Mand\": \"myz-Mand-IR\",\n    \"und-Mani\": \"xmn-Mani-CN\",\n    \"und-Marc\": \"bo-Marc-CN\",\n    \"und-MC\": \"fr-Latn-MC\",\n    \"und-MD\": \"ro-Latn-MD\",\n    \"und-ME\": \"sr-Latn-ME\",\n    \"und-Medf\": \"dmf-Medf-NG\",\n    \"und-Mend\": \"men-Mend-SL\",\n    \"und-Merc\": \"xmr-Merc-SD\",\n    \"und-Mero\": \"xmr-Mero-SD\",\n    \"und-MF\": \"fr-Latn-MF\",\n    \"und-MG\": \"mg-Latn-MG\",\n    \"und-MK\": \"mk-Cyrl-MK\",\n    \"und-ML\": \"bm-Latn-ML\",\n    \"und-Mlym\": \"ml-Mlym-IN\",\n    \"und-MM\": \"my-Mymr-MM\",\n    \"und-MN\": \"mn-Cyrl-MN\",\n    \"und-MO\": \"zh-Hant-MO\",\n    \"und-Modi\": \"mr-Modi-IN\",\n    \"und-Mong\": \"mn-Mong-CN\",\n    \"und-MQ\": \"fr-Latn-MQ\",\n    \"und-MR\": \"ar-Arab-MR\",\n    \"und-Mroo\": \"mro-Mroo-BD\",\n    \"und-MT\": \"mt-Latn-MT\",\n    \"und-Mtei\": \"mni-Mtei-IN\",\n    \"und-MU\": \"mfe-Latn-MU\",\n    \"und-Mult\": \"skr-Mult-PK\",\n    \"und-MV\": \"dv-Thaa-MV\",\n    \"und-MX\": \"es-Latn-MX\",\n    \"und-MY\": \"ms-Latn-MY\",\n    \"und-Mymr\": \"my-Mymr-MM\",\n    \"und-Mymr-IN\": \"kht-Mymr-IN\",\n    \"und-Mymr-TH\": \"mnw-Mymr-TH\",\n    \"und-MZ\": \"pt-Latn-MZ\",\n    \"und-NA\": \"af-Latn-NA\",\n    \"und-Nand\": \"sa-Nand-IN\",\n    \"und-Narb\": \"xna-Narb-SA\",\n    \"und-Nbat\": \"arc-Nbat-JO\",\n    \"und-NC\": \"fr-Latn-NC\",\n    \"und-NE\": \"ha-Latn-NE\",\n    \"und-Newa\": \"new-Newa-NP\",\n    \"und-NI\": \"es-Latn-NI\",\n    \"und-Nkoo\": \"man-Nkoo-GN\",\n    \"und-NL\": \"nl-Latn-NL\",\n    \"und-NO\": \"nb-Latn-NO\",\n    \"und-NP\": \"ne-Deva-NP\",\n    \"und-Nshu\": \"zhx-Nshu-CN\",\n    \"und-Ogam\": \"sga-Ogam-IE\",\n    \"und-Olck\": \"sat-Olck-IN\",\n    \"und-OM\": \"ar-Arab-OM\",\n    \"und-Orkh\": \"otk-Orkh-MN\",\n    \"und-Orya\": \"or-Orya-IN\",\n    \"und-Osge\": \"osa-Osge-US\",\n    \"und-Osma\": \"so-Osma-SO\",\n    \"und-Ougr\": \"oui-Ougr-143\",\n    \"und-PA\": \"es-Latn-PA\",\n    \"und-Palm\": \"arc-Palm-SY\",\n    \"und-Pauc\": \"ctd-Pauc-MM\",\n    \"und-PE\": \"es-Latn-PE\",\n    \"und-Perm\": \"kv-Perm-RU\",\n    \"und-PF\": \"fr-Latn-PF\",\n    \"und-PG\": \"tpi-Latn-PG\",\n    \"und-PH\": \"fil-Latn-PH\",\n    \"und-Phag\": \"lzh-Phag-CN\",\n    \"und-Phli\": \"pal-Phli-IR\",\n    \"und-Phlp\": \"pal-Phlp-CN\",\n    \"und-Phnx\": \"phn-Phnx-LB\",\n    \"und-PK\": \"ur-Arab-PK\",\n    \"und-PL\": \"pl-Latn-PL\",\n    \"und-Plrd\": \"hmd-Plrd-CN\",\n    \"und-PM\": \"fr-Latn-PM\",\n    \"und-PR\": \"es-Latn-PR\",\n    \"und-Prti\": \"xpr-Prti-IR\",\n    \"und-PS\": \"ar-Arab-PS\",\n    \"und-PT\": \"pt-Latn-PT\",\n    \"und-PW\": \"pau-Latn-PW\",\n    \"und-PY\": \"gn-Latn-PY\",\n    \"und-QA\": \"ar-Arab-QA\",\n    \"und-QO\": \"en-Latn-DG\",\n    \"und-RE\": \"fr-Latn-RE\",\n    \"und-Rjng\": \"rej-Rjng-ID\",\n    \"und-RO\": \"ro-Latn-RO\",\n    \"und-Rohg\": \"rhg-Rohg-MM\",\n    \"und-RS\": \"sr-Cyrl-RS\",\n    \"und-RU\": \"ru-Cyrl-RU\",\n    \"und-Runr\": \"non-Runr-SE\",\n    \"und-RW\": \"rw-Latn-RW\",\n    \"und-SA\": \"ar-Arab-SA\",\n    \"und-Samr\": \"smp-Samr-IL\",\n    \"und-Sarb\": \"xsa-Sarb-YE\",\n    \"und-Saur\": \"saz-Saur-IN\",\n    \"und-SC\": \"fr-Latn-SC\",\n    \"und-SD\": \"ar-Arab-SD\",\n    \"und-SE\": \"sv-Latn-SE\",\n    \"und-Sgnw\": \"ase-Sgnw-US\",\n    \"und-Shaw\": \"en-Shaw-GB\",\n    \"und-Shrd\": \"sa-Shrd-IN\",\n    \"und-SI\": \"sl-Latn-SI\",\n    \"und-Sidd\": \"sa-Sidd-IN\",\n    \"und-Sind\": \"sd-Sind-IN\",\n    \"und-Sinh\": \"si-Sinh-LK\",\n    \"und-SJ\": \"nb-Latn-SJ\",\n    \"und-SK\": \"sk-Latn-SK\",\n    \"und-SM\": \"it-Latn-SM\",\n    \"und-SN\": \"fr-Latn-SN\",\n    \"und-SO\": \"so-Latn-SO\",\n    \"und-Sogd\": \"sog-Sogd-UZ\",\n    \"und-Sogo\": \"sog-Sogo-UZ\",\n    \"und-Sora\": \"srb-Sora-IN\",\n    \"und-Soyo\": \"cmg-Soyo-MN\",\n    \"und-SR\": \"nl-Latn-SR\",\n    \"und-ST\": \"pt-Latn-ST\",\n    \"und-Sund\": \"su-Sund-ID\",\n    \"und-SV\": \"es-Latn-SV\",\n    \"und-SY\": \"ar-Arab-SY\",\n    \"und-Sylo\": \"syl-Sylo-BD\",\n    \"und-Syrc\": \"syr-Syrc-IQ\",\n    \"und-Tagb\": \"tbw-Tagb-PH\",\n    \"und-Takr\": \"doi-Takr-IN\",\n    \"und-Tale\": \"tdd-Tale-CN\",\n    \"und-Talu\": \"khb-Talu-CN\",\n    \"und-Taml\": \"ta-Taml-IN\",\n    \"und-Tang\": \"txg-Tang-CN\",\n    \"und-Tavt\": \"blt-Tavt-VN\",\n    \"und-TD\": \"fr-Latn-TD\",\n    \"und-Telu\": \"te-Telu-IN\",\n    \"und-TF\": \"fr-Latn-TF\",\n    \"und-Tfng\": \"zgh-Tfng-MA\",\n    \"und-TG\": \"fr-Latn-TG\",\n    \"und-Tglg\": \"fil-Tglg-PH\",\n    \"und-TH\": \"th-Thai-TH\",\n    \"und-Thaa\": \"dv-Thaa-MV\",\n    \"und-Thai\": \"th-Thai-TH\",\n    \"und-Thai-CN\": \"lcp-Thai-CN\",\n    \"und-Thai-KH\": \"kdt-Thai-KH\",\n    \"und-Thai-LA\": \"kdt-Thai-LA\",\n    \"und-Tibt\": \"bo-Tibt-CN\",\n    \"und-Tirh\": \"mai-Tirh-IN\",\n    \"und-TJ\": \"tg-Cyrl-TJ\",\n    \"und-TK\": \"tkl-Latn-TK\",\n    \"und-TL\": \"pt-Latn-TL\",\n    \"und-TM\": \"tk-Latn-TM\",\n    \"und-TN\": \"ar-Arab-TN\",\n    \"und-Tnsa\": \"nst-Tnsa-IN\",\n    \"und-TO\": \"to-Latn-TO\",\n    \"und-Toto\": \"txo-Toto-IN\",\n    \"und-TR\": \"tr-Latn-TR\",\n    \"und-TV\": \"tvl-Latn-TV\",\n    \"und-TW\": \"zh-Hant-TW\",\n    \"und-TZ\": \"sw-Latn-TZ\",\n    \"und-UA\": \"uk-Cyrl-UA\",\n    \"und-UG\": \"sw-Latn-UG\",\n    \"und-Ugar\": \"uga-Ugar-SY\",\n    \"und-UY\": \"es-Latn-UY\",\n    \"und-UZ\": \"uz-Latn-UZ\",\n    \"und-VA\": \"it-Latn-VA\",\n    \"und-Vaii\": \"vai-Vaii-LR\",\n    \"und-VE\": \"es-Latn-VE\",\n    \"und-Vith\": \"sq-Vith-AL\",\n    \"und-VN\": \"vi-Latn-VN\",\n    \"und-VU\": \"bi-Latn-VU\",\n    \"und-Wara\": \"hoc-Wara-IN\",\n    \"und-Wcho\": \"nnp-Wcho-IN\",\n    \"und-WF\": \"fr-Latn-WF\",\n    \"und-WS\": \"sm-Latn-WS\",\n    \"und-XK\": \"sq-Latn-XK\",\n    \"und-Xpeo\": \"peo-Xpeo-IR\",\n    \"und-Xsux\": \"akk-Xsux-IQ\",\n    \"und-YE\": \"ar-Arab-YE\",\n    \"und-Yezi\": \"ku-Yezi-GE\",\n    \"und-Yiii\": \"ii-Yiii-CN\",\n    \"und-YT\": \"fr-Latn-YT\",\n    \"und-Zanb\": \"cmg-Zanb-MN\",\n    \"und-ZW\": \"sn-Latn-ZW\",\n    \"unr\": \"unr-Beng-IN\",\n    \"unr-Deva\": \"unr-Deva-NP\",\n    \"unr-NP\": \"unr-Deva-NP\",\n    \"unx\": \"unx-Beng-IN\",\n    \"uok\": \"uok-Latn-ZZ\",\n    \"ur\": \"ur-Arab-PK\",\n    \"uri\": \"uri-Latn-ZZ\",\n    \"urt\": \"urt-Latn-ZZ\",\n    \"urw\": \"urw-Latn-ZZ\",\n    \"usa\": \"usa-Latn-ZZ\",\n    \"uth\": \"uth-Latn-ZZ\",\n    \"utr\": \"utr-Latn-ZZ\",\n    \"uvh\": \"uvh-Latn-ZZ\",\n    \"uvl\": \"uvl-Latn-ZZ\",\n    \"uz\": \"uz-Latn-UZ\",\n    \"uz-AF\": \"uz-Arab-AF\",\n    \"uz-Arab\": \"uz-Arab-AF\",\n    \"uz-CN\": \"uz-Cyrl-CN\",\n    \"vag\": \"vag-Latn-ZZ\",\n    \"vai\": \"vai-Vaii-LR\",\n    \"van\": \"van-Latn-ZZ\",\n    \"ve\": \"ve-Latn-ZA\",\n    \"vec\": \"vec-Latn-IT\",\n    \"vep\": \"vep-Latn-RU\",\n    \"vi\": \"vi-Latn-VN\",\n    \"vic\": \"vic-Latn-SX\",\n    \"viv\": \"viv-Latn-ZZ\",\n    \"vls\": \"vls-Latn-BE\",\n    \"vmf\": \"vmf-Latn-DE\",\n    \"vmw\": \"vmw-Latn-MZ\",\n    \"vo\": \"vo-Latn-001\",\n    \"vot\": \"vot-Latn-RU\",\n    \"vro\": \"vro-Latn-EE\",\n    \"vun\": \"vun-Latn-TZ\",\n    \"vut\": \"vut-Latn-ZZ\",\n    \"wa\": \"wa-Latn-BE\",\n    \"wae\": \"wae-Latn-CH\",\n    \"waj\": \"waj-Latn-ZZ\",\n    \"wal\": \"wal-Ethi-ET\",\n    \"wan\": \"wan-Latn-ZZ\",\n    \"war\": \"war-Latn-PH\",\n    \"wbp\": \"wbp-Latn-AU\",\n    \"wbq\": \"wbq-Telu-IN\",\n    \"wbr\": \"wbr-Deva-IN\",\n    \"wci\": \"wci-Latn-ZZ\",\n    \"wer\": \"wer-Latn-ZZ\",\n    \"wgi\": \"wgi-Latn-ZZ\",\n    \"whg\": \"whg-Latn-ZZ\",\n    \"wib\": \"wib-Latn-ZZ\",\n    \"wiu\": \"wiu-Latn-ZZ\",\n    \"wiv\": \"wiv-Latn-ZZ\",\n    \"wja\": \"wja-Latn-ZZ\",\n    \"wji\": \"wji-Latn-ZZ\",\n    \"wls\": \"wls-Latn-WF\",\n    \"wmo\": \"wmo-Latn-ZZ\",\n    \"wnc\": \"wnc-Latn-ZZ\",\n    \"wni\": \"wni-Arab-KM\",\n    \"wnu\": \"wnu-Latn-ZZ\",\n    \"wo\": \"wo-Latn-SN\",\n    \"wob\": \"wob-Latn-ZZ\",\n    \"wos\": \"wos-Latn-ZZ\",\n    \"wrs\": \"wrs-Latn-ZZ\",\n    \"wsg\": \"wsg-Gong-IN\",\n    \"wsk\": \"wsk-Latn-ZZ\",\n    \"wtm\": \"wtm-Deva-IN\",\n    \"wuu\": \"wuu-Hans-CN\",\n    \"wuv\": \"wuv-Latn-ZZ\",\n    \"wwa\": \"wwa-Latn-ZZ\",\n    \"xav\": \"xav-Latn-BR\",\n    \"xbi\": \"xbi-Latn-ZZ\",\n    \"xco\": \"xco-Chrs-UZ\",\n    \"xcr\": \"xcr-Cari-TR\",\n    \"xes\": \"xes-Latn-ZZ\",\n    \"xh\": \"xh-Latn-ZA\",\n    \"xla\": \"xla-Latn-ZZ\",\n    \"xlc\": \"xlc-Lyci-TR\",\n    \"xld\": \"xld-Lydi-TR\",\n    \"xmf\": \"xmf-Geor-GE\",\n    \"xmn\": \"xmn-Mani-CN\",\n    \"xmr\": \"xmr-Merc-SD\",\n    \"xna\": \"xna-Narb-SA\",\n    \"xnr\": \"xnr-Deva-IN\",\n    \"xog\": \"xog-Latn-UG\",\n    \"xon\": \"xon-Latn-ZZ\",\n    \"xpr\": \"xpr-Prti-IR\",\n    \"xrb\": \"xrb-Latn-ZZ\",\n    \"xsa\": \"xsa-Sarb-YE\",\n    \"xsi\": \"xsi-Latn-ZZ\",\n    \"xsm\": \"xsm-Latn-ZZ\",\n    \"xsr\": \"xsr-Deva-NP\",\n    \"xwe\": \"xwe-Latn-ZZ\",\n    \"yam\": \"yam-Latn-ZZ\",\n    \"yao\": \"yao-Latn-MZ\",\n    \"yap\": \"yap-Latn-FM\",\n    \"yas\": \"yas-Latn-ZZ\",\n    \"yat\": \"yat-Latn-ZZ\",\n    \"yav\": \"yav-Latn-CM\",\n    \"yay\": \"yay-Latn-ZZ\",\n    \"yaz\": \"yaz-Latn-ZZ\",\n    \"yba\": \"yba-Latn-ZZ\",\n    \"ybb\": \"ybb-Latn-CM\",\n    \"yby\": \"yby-Latn-ZZ\",\n    \"yer\": \"yer-Latn-ZZ\",\n    \"ygr\": \"ygr-Latn-ZZ\",\n    \"ygw\": \"ygw-Latn-ZZ\",\n    \"yi\": \"yi-Hebr-001\",\n    \"yko\": \"yko-Latn-ZZ\",\n    \"yle\": \"yle-Latn-ZZ\",\n    \"ylg\": \"ylg-Latn-ZZ\",\n    \"yll\": \"yll-Latn-ZZ\",\n    \"yml\": \"yml-Latn-ZZ\",\n    \"yo\": \"yo-Latn-NG\",\n    \"yon\": \"yon-Latn-ZZ\",\n    \"yrb\": \"yrb-Latn-ZZ\",\n    \"yre\": \"yre-Latn-ZZ\",\n    \"yrl\": \"yrl-Latn-BR\",\n    \"yss\": \"yss-Latn-ZZ\",\n    \"yua\": \"yua-Latn-MX\",\n    \"yue\": \"yue-Hant-HK\",\n    \"yue-CN\": \"yue-Hans-CN\",\n    \"yue-Hans\": \"yue-Hans-CN\",\n    \"yuj\": \"yuj-Latn-ZZ\",\n    \"yut\": \"yut-Latn-ZZ\",\n    \"yuw\": \"yuw-Latn-ZZ\",\n    \"za\": \"za-Latn-CN\",\n    \"zag\": \"zag-Latn-SD\",\n    \"zdj\": \"zdj-Arab-KM\",\n    \"zea\": \"zea-Latn-NL\",\n    \"zgh\": \"zgh-Tfng-MA\",\n    \"zh\": \"zh-Hans-CN\",\n    \"zh-AU\": \"zh-Hant-AU\",\n    \"zh-BN\": \"zh-Hant-BN\",\n    \"zh-Bopo\": \"zh-Bopo-TW\",\n    \"zh-GB\": \"zh-Hant-GB\",\n    \"zh-GF\": \"zh-Hant-GF\",\n    \"zh-Hanb\": \"zh-Hanb-TW\",\n    \"zh-Hant\": \"zh-Hant-TW\",\n    \"zh-HK\": \"zh-Hant-HK\",\n    \"zh-ID\": \"zh-Hant-ID\",\n    \"zh-MO\": \"zh-Hant-MO\",\n    \"zh-PA\": \"zh-Hant-PA\",\n    \"zh-PF\": \"zh-Hant-PF\",\n    \"zh-PH\": \"zh-Hant-PH\",\n    \"zh-SR\": \"zh-Hant-SR\",\n    \"zh-TH\": \"zh-Hant-TH\",\n    \"zh-TW\": \"zh-Hant-TW\",\n    \"zh-US\": \"zh-Hant-US\",\n    \"zh-VN\": \"zh-Hant-VN\",\n    \"zhx\": \"zhx-Nshu-CN\",\n    \"zia\": \"zia-Latn-ZZ\",\n    \"zkt\": \"zkt-Kits-CN\",\n    \"zlm\": \"zlm-Latn-TG\",\n    \"zmi\": \"zmi-Latn-MY\",\n    \"zne\": \"zne-Latn-ZZ\",\n    \"zu\": \"zu-Latn-ZA\",\n    \"zza\": \"zza-Latn-TR\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseUnicodeLocaleId = exports.parseUnicodeLanguageId = exports.isUnicodeVariantSubtag = exports.isUnicodeScriptSubtag = exports.isUnicodeRegionSubtag = exports.isStructurallyValidLanguageTag = exports.isUnicodeLanguageSubtag = exports.SEPARATOR = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ALPHANUM_1_8 = /^[a-z0-9]{1,8}$/i;\nvar ALPHANUM_2_8 = /^[a-z0-9]{2,8}$/i;\nvar ALPHANUM_3_8 = /^[a-z0-9]{3,8}$/i;\nvar KEY_REGEX = /^[a-z0-9][a-z]$/i;\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\n// alphanum-[tTuUxX]\nvar OTHER_EXTENSION_TYPE = /^[0-9a-svwyz]$/i;\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar UNICODE_VARIANT_SUBTAG_REGEX = /^([a-z0-9]{5,8}|[0-9][a-z0-9]{3})$/i;\nvar UNICODE_LANGUAGE_SUBTAG_REGEX = /^([a-z]{2,3}|[a-z]{5,8})$/i;\nvar TKEY_REGEX = /^[a-z][0-9]$/i;\nexports.SEPARATOR = '-';\nfunction isUnicodeLanguageSubtag(lang) {\n    return UNICODE_LANGUAGE_SUBTAG_REGEX.test(lang);\n}\nexports.isUnicodeLanguageSubtag = isUnicodeLanguageSubtag;\nfunction isStructurallyValidLanguageTag(tag) {\n    try {\n        parseUnicodeLanguageId(tag.split(exports.SEPARATOR));\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nexports.isStructurallyValidLanguageTag = isStructurallyValidLanguageTag;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nexports.isUnicodeRegionSubtag = isUnicodeRegionSubtag;\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexports.isUnicodeScriptSubtag = isUnicodeScriptSubtag;\nfunction isUnicodeVariantSubtag(variant) {\n    return UNICODE_VARIANT_SUBTAG_REGEX.test(variant);\n}\nexports.isUnicodeVariantSubtag = isUnicodeVariantSubtag;\nfunction parseUnicodeLanguageId(chunks) {\n    if (typeof chunks === 'string') {\n        chunks = chunks.split(exports.SEPARATOR);\n    }\n    var lang = chunks.shift();\n    if (!lang) {\n        throw new RangeError('Missing unicode_language_subtag');\n    }\n    if (lang === 'root') {\n        return { lang: 'root', variants: [] };\n    }\n    // unicode_language_subtag\n    if (!isUnicodeLanguageSubtag(lang)) {\n        throw new RangeError('Malformed unicode_language_subtag');\n    }\n    var script;\n    // unicode_script_subtag\n    if (chunks.length && isUnicodeScriptSubtag(chunks[0])) {\n        script = chunks.shift();\n    }\n    var region;\n    // unicode_region_subtag\n    if (chunks.length && isUnicodeRegionSubtag(chunks[0])) {\n        region = chunks.shift();\n    }\n    var variants = {};\n    while (chunks.length && isUnicodeVariantSubtag(chunks[0])) {\n        var variant = chunks.shift();\n        if (variant in variants) {\n            throw new RangeError(\"Duplicate variant \\\"\".concat(variant, \"\\\"\"));\n        }\n        variants[variant] = 1;\n    }\n    return {\n        lang: lang,\n        script: script,\n        region: region,\n        variants: Object.keys(variants),\n    };\n}\nexports.parseUnicodeLanguageId = parseUnicodeLanguageId;\nfunction parseUnicodeExtension(chunks) {\n    var keywords = [];\n    var keyword;\n    while (chunks.length && (keyword = parseKeyword(chunks))) {\n        keywords.push(keyword);\n    }\n    if (keywords.length) {\n        return {\n            type: 'u',\n            keywords: keywords,\n            attributes: [],\n        };\n    }\n    // Mix of attributes & keywords\n    // Check for attributes first\n    var attributes = [];\n    while (chunks.length && ALPHANUM_3_8.test(chunks[0])) {\n        attributes.push(chunks.shift());\n    }\n    while (chunks.length && (keyword = parseKeyword(chunks))) {\n        keywords.push(keyword);\n    }\n    if (keywords.length || attributes.length) {\n        return {\n            type: 'u',\n            attributes: attributes,\n            keywords: keywords,\n        };\n    }\n    throw new RangeError('Malformed unicode_extension');\n}\nfunction parseKeyword(chunks) {\n    var key;\n    if (!KEY_REGEX.test(chunks[0])) {\n        return;\n    }\n    key = chunks.shift();\n    var type = [];\n    while (chunks.length && TYPE_REGEX.test(chunks[0])) {\n        type.push(chunks.shift());\n    }\n    var value = '';\n    if (type.length) {\n        value = type.join(exports.SEPARATOR);\n    }\n    return [key, value];\n}\nfunction parseTransformedExtension(chunks) {\n    var lang;\n    try {\n        lang = parseUnicodeLanguageId(chunks);\n    }\n    catch (e) {\n        // Try just parsing tfield\n    }\n    var fields = [];\n    while (chunks.length && TKEY_REGEX.test(chunks[0])) {\n        var key = chunks.shift();\n        var value = [];\n        while (chunks.length && ALPHANUM_3_8.test(chunks[0])) {\n            value.push(chunks.shift());\n        }\n        if (!value.length) {\n            throw new RangeError(\"Missing tvalue for tkey \\\"\".concat(key, \"\\\"\"));\n        }\n        fields.push([key, value.join(exports.SEPARATOR)]);\n    }\n    if (fields.length) {\n        return {\n            type: 't',\n            fields: fields,\n            lang: lang,\n        };\n    }\n    throw new RangeError('Malformed transformed_extension');\n}\nfunction parsePuExtension(chunks) {\n    var exts = [];\n    while (chunks.length && ALPHANUM_1_8.test(chunks[0])) {\n        exts.push(chunks.shift());\n    }\n    if (exts.length) {\n        return {\n            type: 'x',\n            value: exts.join(exports.SEPARATOR),\n        };\n    }\n    throw new RangeError('Malformed private_use_extension');\n}\nfunction parseOtherExtensionValue(chunks) {\n    var exts = [];\n    while (chunks.length && ALPHANUM_2_8.test(chunks[0])) {\n        exts.push(chunks.shift());\n    }\n    if (exts.length) {\n        return exts.join(exports.SEPARATOR);\n    }\n    return '';\n}\nfunction parseExtensions(chunks) {\n    if (!chunks.length) {\n        return { extensions: [] };\n    }\n    var extensions = [];\n    var unicodeExtension;\n    var transformedExtension;\n    var puExtension;\n    var otherExtensionMap = {};\n    do {\n        var type = chunks.shift();\n        switch (type) {\n            case 'u':\n            case 'U':\n                if (unicodeExtension) {\n                    throw new RangeError('There can only be 1 -u- extension');\n                }\n                unicodeExtension = parseUnicodeExtension(chunks);\n                extensions.push(unicodeExtension);\n                break;\n            case 't':\n            case 'T':\n                if (transformedExtension) {\n                    throw new RangeError('There can only be 1 -t- extension');\n                }\n                transformedExtension = parseTransformedExtension(chunks);\n                extensions.push(transformedExtension);\n                break;\n            case 'x':\n            case 'X':\n                if (puExtension) {\n                    throw new RangeError('There can only be 1 -x- extension');\n                }\n                puExtension = parsePuExtension(chunks);\n                extensions.push(puExtension);\n                break;\n            default:\n                if (!OTHER_EXTENSION_TYPE.test(type)) {\n                    throw new RangeError('Malformed extension type');\n                }\n                if (type in otherExtensionMap) {\n                    throw new RangeError(\"There can only be 1 -\".concat(type, \"- extension\"));\n                }\n                var extension = {\n                    type: type,\n                    value: parseOtherExtensionValue(chunks),\n                };\n                otherExtensionMap[extension.type] = extension;\n                extensions.push(extension);\n                break;\n        }\n    } while (chunks.length);\n    return { extensions: extensions };\n}\nfunction parseUnicodeLocaleId(locale) {\n    var chunks = locale.split(exports.SEPARATOR);\n    var lang = parseUnicodeLanguageId(chunks);\n    return (0, tslib_1.__assign)({ lang: lang }, parseExtensions(chunks));\n}\nexports.parseUnicodeLocaleId = parseUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\n// Type-only circular import\n// eslint-disable-next-line import/no-cycle\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Locale = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar intl_getcanonicallocales_1 = require(\"@formatjs/intl-getcanonicallocales\");\nvar get_internal_slots_1 = (0, tslib_1.__importDefault)(require(\"./get_internal_slots\"));\nvar RELEVANT_EXTENSION_KEYS = ['ca', 'co', 'hc', 'kf', 'kn', 'nu'];\nvar UNICODE_TYPE_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nfunction applyOptionsToTag(tag, options) {\n    (0, ecma402_abstract_1.invariant)(typeof tag === 'string', 'language tag must be a string');\n    (0, ecma402_abstract_1.invariant)((0, intl_getcanonicallocales_1.isStructurallyValidLanguageTag)(tag), 'malformed language tag', RangeError);\n    var language = (0, ecma402_abstract_1.GetOption)(options, 'language', 'string', undefined, undefined);\n    if (language !== undefined) {\n        (0, ecma402_abstract_1.invariant)((0, intl_getcanonicallocales_1.isUnicodeLanguageSubtag)(language), 'Malformed unicode_language_subtag', RangeError);\n    }\n    var script = (0, ecma402_abstract_1.GetOption)(options, 'script', 'string', undefined, undefined);\n    if (script !== undefined) {\n        (0, ecma402_abstract_1.invariant)((0, intl_getcanonicallocales_1.isUnicodeScriptSubtag)(script), 'Malformed unicode_script_subtag', RangeError);\n    }\n    var region = (0, ecma402_abstract_1.GetOption)(options, 'region', 'string', undefined, undefined);\n    if (region !== undefined) {\n        (0, ecma402_abstract_1.invariant)((0, intl_getcanonicallocales_1.isUnicodeRegionSubtag)(region), 'Malformed unicode_region_subtag', RangeError);\n    }\n    var languageId = (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(tag);\n    if (language !== undefined) {\n        languageId.lang = language;\n    }\n    if (script !== undefined) {\n        languageId.script = script;\n    }\n    if (region !== undefined) {\n        languageId.region = region;\n    }\n    return Intl.getCanonicalLocales((0, intl_getcanonicallocales_1.emitUnicodeLocaleId)((0, tslib_1.__assign)((0, tslib_1.__assign)({}, (0, intl_getcanonicallocales_1.parseUnicodeLocaleId)(tag)), { lang: languageId })))[0];\n}\nfunction applyUnicodeExtensionToTag(tag, options, relevantExtensionKeys) {\n    var unicodeExtension;\n    var keywords = [];\n    var ast = (0, intl_getcanonicallocales_1.parseUnicodeLocaleId)(tag);\n    for (var _i = 0, _a = ast.extensions; _i < _a.length; _i++) {\n        var ext = _a[_i];\n        if (ext.type === 'u') {\n            unicodeExtension = ext;\n            if (Array.isArray(ext.keywords))\n                keywords = ext.keywords;\n        }\n    }\n    var result = Object.create(null);\n    for (var _b = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _b < relevantExtensionKeys_1.length; _b++) {\n        var key = relevantExtensionKeys_1[_b];\n        var value = void 0, entry = void 0;\n        for (var _c = 0, keywords_1 = keywords; _c < keywords_1.length; _c++) {\n            var keyword = keywords_1[_c];\n            if (keyword[0] === key) {\n                entry = keyword;\n                value = entry[1];\n            }\n        }\n        (0, ecma402_abstract_1.invariant)(key in options, \"\".concat(key, \" must be in options\"));\n        var optionsValue = options[key];\n        if (optionsValue !== undefined) {\n            (0, ecma402_abstract_1.invariant)(typeof optionsValue === 'string', \"Value for \".concat(key, \" must be a string\"));\n            value = optionsValue;\n            if (entry) {\n                entry[1] = value;\n            }\n            else {\n                keywords.push([key, value]);\n            }\n        }\n        result[key] = value;\n    }\n    if (!unicodeExtension) {\n        if (keywords.length) {\n            ast.extensions.push({\n                type: 'u',\n                keywords: keywords,\n                attributes: [],\n            });\n        }\n    }\n    else {\n        unicodeExtension.keywords = keywords;\n    }\n    result.locale = Intl.getCanonicalLocales((0, intl_getcanonicallocales_1.emitUnicodeLocaleId)(ast))[0];\n    return result;\n}\nfunction mergeUnicodeLanguageId(lang, script, region, variants, replacement) {\n    if (variants === void 0) { variants = []; }\n    if (!replacement) {\n        return {\n            lang: lang || 'und',\n            script: script,\n            region: region,\n            variants: variants,\n        };\n    }\n    return {\n        lang: !lang || lang === 'und' ? replacement.lang : lang,\n        script: script || replacement.script,\n        region: region || replacement.region,\n        variants: (0, tslib_1.__spreadArray)((0, tslib_1.__spreadArray)([], variants, true), replacement.variants, true),\n    };\n}\nfunction addLikelySubtags(tag) {\n    var ast = (0, intl_getcanonicallocales_1.parseUnicodeLocaleId)(tag);\n    var unicodeLangId = ast.lang;\n    var lang = unicodeLangId.lang, script = unicodeLangId.script, region = unicodeLangId.region, variants = unicodeLangId.variants;\n    if (script && region) {\n        var match_1 = intl_getcanonicallocales_1.likelySubtags[(0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, script: script, region: region, variants: [] })];\n        if (match_1) {\n            var parts_1 = (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(match_1);\n            ast.lang = mergeUnicodeLanguageId(undefined, undefined, undefined, variants, parts_1);\n            return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)(ast);\n        }\n    }\n    if (script) {\n        var match_2 = intl_getcanonicallocales_1.likelySubtags[(0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, script: script, variants: [] })];\n        if (match_2) {\n            var parts_2 = (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(match_2);\n            ast.lang = mergeUnicodeLanguageId(undefined, undefined, region, variants, parts_2);\n            return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)(ast);\n        }\n    }\n    if (region) {\n        var match_3 = intl_getcanonicallocales_1.likelySubtags[(0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, region: region, variants: [] })];\n        if (match_3) {\n            var parts_3 = (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(match_3);\n            ast.lang = mergeUnicodeLanguageId(undefined, script, undefined, variants, parts_3);\n            return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)(ast);\n        }\n    }\n    var match = intl_getcanonicallocales_1.likelySubtags[lang] ||\n        intl_getcanonicallocales_1.likelySubtags[(0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: 'und', script: script, variants: [] })];\n    if (!match) {\n        throw new Error(\"No match for addLikelySubtags\");\n    }\n    var parts = (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(match);\n    ast.lang = mergeUnicodeLanguageId(undefined, script, region, variants, parts);\n    return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)(ast);\n}\n/**\n * From: https://github.com/unicode-org/icu/blob/4231ca5be053a22a1be24eb891817458c97db709/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L2395\n * @param tag\n */\nfunction removeLikelySubtags(tag) {\n    var maxLocale = addLikelySubtags(tag);\n    if (!maxLocale) {\n        return tag;\n    }\n    maxLocale = (0, intl_getcanonicallocales_1.emitUnicodeLanguageId)((0, tslib_1.__assign)((0, tslib_1.__assign)({}, (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(maxLocale)), { variants: [] }));\n    var ast = (0, intl_getcanonicallocales_1.parseUnicodeLocaleId)(tag);\n    var _a = ast.lang, lang = _a.lang, script = _a.script, region = _a.region, variants = _a.variants;\n    var trial = addLikelySubtags((0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, variants: [] }));\n    if (trial === maxLocale) {\n        return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)((0, tslib_1.__assign)((0, tslib_1.__assign)({}, ast), { lang: mergeUnicodeLanguageId(lang, undefined, undefined, variants) }));\n    }\n    if (region) {\n        var trial_1 = addLikelySubtags((0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, region: region, variants: [] }));\n        if (trial_1 === maxLocale) {\n            return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)((0, tslib_1.__assign)((0, tslib_1.__assign)({}, ast), { lang: mergeUnicodeLanguageId(lang, undefined, region, variants) }));\n        }\n    }\n    if (script) {\n        var trial_2 = addLikelySubtags((0, intl_getcanonicallocales_1.emitUnicodeLanguageId)({ lang: lang, script: script, variants: [] }));\n        if (trial_2 === maxLocale) {\n            return (0, intl_getcanonicallocales_1.emitUnicodeLocaleId)((0, tslib_1.__assign)((0, tslib_1.__assign)({}, ast), { lang: mergeUnicodeLanguageId(lang, script, undefined, variants) }));\n        }\n    }\n    return tag;\n}\nvar Locale = /** @class */ (function () {\n    function Locale(tag, opts) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof Locale ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.Locale must be called with 'new'\");\n        }\n        var relevantExtensionKeys = Locale.relevantExtensionKeys;\n        var internalSlotsList = [\n            'initializedLocale',\n            'locale',\n            'calendar',\n            'collation',\n            'hourCycle',\n            'numberingSystem',\n        ];\n        if (relevantExtensionKeys.indexOf('kf') > -1) {\n            internalSlotsList.push('caseFirst');\n        }\n        if (relevantExtensionKeys.indexOf('kn') > -1) {\n            internalSlotsList.push('numeric');\n        }\n        if (tag === undefined) {\n            throw new TypeError(\"First argument to Intl.Locale constructor can't be empty or missing\");\n        }\n        if (typeof tag !== 'string' && typeof tag !== 'object') {\n            throw new TypeError('tag must be a string or object');\n        }\n        var internalSlots;\n        if (typeof tag === 'object' &&\n            (internalSlots = (0, get_internal_slots_1.default)(tag)) &&\n            internalSlots.initializedLocale) {\n            tag = internalSlots.locale;\n        }\n        else {\n            tag = tag.toString();\n        }\n        internalSlots = (0, get_internal_slots_1.default)(this);\n        var options = (0, ecma402_abstract_1.CoerceOptionsToObject)(opts);\n        tag = applyOptionsToTag(tag, options);\n        var opt = Object.create(null);\n        var calendar = (0, ecma402_abstract_1.GetOption)(options, 'calendar', 'string', undefined, undefined);\n        if (calendar !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(calendar)) {\n                throw new RangeError('invalid calendar');\n            }\n        }\n        opt.ca = calendar;\n        var collation = (0, ecma402_abstract_1.GetOption)(options, 'collation', 'string', undefined, undefined);\n        if (collation !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(collation)) {\n                throw new RangeError('invalid collation');\n            }\n        }\n        opt.co = collation;\n        var hc = (0, ecma402_abstract_1.GetOption)(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n        opt.hc = hc;\n        var kf = (0, ecma402_abstract_1.GetOption)(options, 'caseFirst', 'string', ['upper', 'lower', 'false'], undefined);\n        opt.kf = kf;\n        var _kn = (0, ecma402_abstract_1.GetOption)(options, 'numeric', 'boolean', undefined, undefined);\n        var kn;\n        if (_kn !== undefined) {\n            kn = String(_kn);\n        }\n        opt.kn = kn;\n        var numberingSystem = (0, ecma402_abstract_1.GetOption)(options, 'numberingSystem', 'string', undefined, undefined);\n        if (numberingSystem !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(numberingSystem)) {\n                throw new RangeError('Invalid numberingSystem');\n            }\n        }\n        opt.nu = numberingSystem;\n        var r = applyUnicodeExtensionToTag(tag, opt, relevantExtensionKeys);\n        internalSlots.locale = r.locale;\n        internalSlots.calendar = r.ca;\n        internalSlots.collation = r.co;\n        internalSlots.hourCycle = r.hc;\n        if (relevantExtensionKeys.indexOf('kf') > -1) {\n            internalSlots.caseFirst = r.kf;\n        }\n        if (relevantExtensionKeys.indexOf('kn') > -1) {\n            internalSlots.numeric = (0, ecma402_abstract_1.SameValue)(r.kn, 'true');\n        }\n        internalSlots.numberingSystem = r.nu;\n    }\n    /**\n     * https://www.unicode.org/reports/tr35/#Likely_Subtags\n     */\n    Locale.prototype.maximize = function () {\n        var locale = (0, get_internal_slots_1.default)(this).locale;\n        try {\n            var maximizedLocale = addLikelySubtags(locale);\n            return new Locale(maximizedLocale);\n        }\n        catch (e) {\n            return new Locale(locale);\n        }\n    };\n    /**\n     * https://www.unicode.org/reports/tr35/#Likely_Subtags\n     */\n    Locale.prototype.minimize = function () {\n        var locale = (0, get_internal_slots_1.default)(this).locale;\n        try {\n            var minimizedLocale = removeLikelySubtags(locale);\n            return new Locale(minimizedLocale);\n        }\n        catch (e) {\n            return new Locale(locale);\n        }\n    };\n    Locale.prototype.toString = function () {\n        return (0, get_internal_slots_1.default)(this).locale;\n    };\n    Object.defineProperty(Locale.prototype, \"baseName\", {\n        get: function () {\n            var locale = (0, get_internal_slots_1.default)(this).locale;\n            return (0, intl_getcanonicallocales_1.emitUnicodeLanguageId)((0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(locale));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"calendar\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).calendar;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"collation\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).collation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"hourCycle\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).hourCycle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"caseFirst\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).caseFirst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"numeric\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).numeric;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"numberingSystem\", {\n        get: function () {\n            return (0, get_internal_slots_1.default)(this).numberingSystem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"language\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.language\n         */\n        get: function () {\n            var locale = (0, get_internal_slots_1.default)(this).locale;\n            return (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(locale).lang;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"script\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.script\n         */\n        get: function () {\n            var locale = (0, get_internal_slots_1.default)(this).locale;\n            return (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(locale).script;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"region\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.region\n         */\n        get: function () {\n            var locale = (0, get_internal_slots_1.default)(this).locale;\n            return (0, intl_getcanonicallocales_1.parseUnicodeLanguageId)(locale).region;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Locale.relevantExtensionKeys = RELEVANT_EXTENSION_KEYS;\n    return Locale;\n}());\nexports.Locale = Locale;\ntry {\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(Locale.prototype, Symbol.toStringTag, {\n            value: 'Intl.Locale',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    Object.defineProperty(Locale.prototype.constructor, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\nexports.default = Locale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif ((0, should_polyfill_1.shouldPolyfill)()) {\n    Object.defineProperty(Intl, 'Locale', {\n        value: _1.Locale,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\n/**\n * https://bugs.chromium.org/p/v8/issues/detail?id=10682\n */\nfunction hasIntlGetCanonicalLocalesBug() {\n    try {\n        return new Intl.Locale('und-x-private').toString() === 'x-private';\n    }\n    catch (e) {\n        return true;\n    }\n}\nfunction shouldPolyfill() {\n    return !('Locale' in Intl) || hasIntlGetCanonicalLocalesBug();\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GetOperands = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-getoperands\n * @param s\n */\nfunction GetOperands(s) {\n    (0, ecma402_abstract_1.invariant)(typeof s === 'string', \"GetOperands should have been called with a string\");\n    var n = (0, ecma402_abstract_1.ToNumber)(s);\n    (0, ecma402_abstract_1.invariant)(isFinite(n), 'n should be finite');\n    var dp = s.indexOf('.');\n    var iv;\n    var f;\n    var v;\n    var fv = '';\n    if (dp === -1) {\n        iv = n;\n        f = 0;\n        v = 0;\n    }\n    else {\n        iv = s.slice(0, dp);\n        fv = s.slice(dp, s.length);\n        f = (0, ecma402_abstract_1.ToNumber)(fv);\n        v = fv.length;\n    }\n    var i = Math.abs((0, ecma402_abstract_1.ToNumber)(iv));\n    var w;\n    var t;\n    if (f !== 0) {\n        var ft = fv.replace(/0+$/, '');\n        w = ft.length;\n        t = (0, ecma402_abstract_1.ToNumber)(ft);\n    }\n    else {\n        w = 0;\n        t = 0;\n    }\n    return {\n        Number: n,\n        IntegerDigits: i,\n        NumberOfFractionDigits: v,\n        NumberOfFractionDigitsWithoutTrailing: w,\n        FractionDigits: f,\n        FractionDigitsWithoutTrailing: t,\n    };\n}\nexports.GetOperands = GetOperands;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InitializePluralRules = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar intl_localematcher_1 = require(\"@formatjs/intl-localematcher\");\nfunction InitializePluralRules(pl, locales, options, _a) {\n    var availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getInternalSlots = _a.getInternalSlots;\n    var requestedLocales = (0, ecma402_abstract_1.CanonicalizeLocaleList)(locales);\n    var opt = Object.create(null);\n    var opts = (0, ecma402_abstract_1.CoerceOptionsToObject)(options);\n    var internalSlots = getInternalSlots(pl);\n    internalSlots.initializedPluralRules = true;\n    var matcher = (0, ecma402_abstract_1.GetOption)(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    internalSlots.type = (0, ecma402_abstract_1.GetOption)(opts, 'type', 'string', ['cardinal', 'ordinal'], 'cardinal');\n    (0, ecma402_abstract_1.SetNumberFormatDigitOptions)(internalSlots, opts, 0, 3, 'standard');\n    var r = (0, intl_localematcher_1.ResolveLocale)(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    return pl;\n}\nexports.InitializePluralRules = InitializePluralRules;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolvePlural = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar GetOperands_1 = require(\"./GetOperands\");\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-resolveplural\n * @param pl\n * @param n\n * @param PluralRuleSelect Has to pass in bc it's implementation-specific\n */\nfunction ResolvePlural(pl, n, _a) {\n    var getInternalSlots = _a.getInternalSlots, PluralRuleSelect = _a.PluralRuleSelect;\n    var internalSlots = getInternalSlots(pl);\n    (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(internalSlots) === 'Object', 'pl has to be an object');\n    (0, ecma402_abstract_1.invariant)('initializedPluralRules' in internalSlots, 'pluralrules must be initialized');\n    (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(n) === 'Number', 'n must be a number');\n    if (!isFinite(n)) {\n        return 'other';\n    }\n    var locale = internalSlots.locale, type = internalSlots.type;\n    var res = (0, ecma402_abstract_1.FormatNumericToString)(internalSlots, n);\n    var s = res.formattedString;\n    var operands = (0, GetOperands_1.GetOperands)(s);\n    return PluralRuleSelect(locale, type, n, operands);\n}\nexports.ResolvePlural = ResolvePlural;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluralRules = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar InitializePluralRules_1 = require(\"./abstract/InitializePluralRules\");\nvar ResolvePlural_1 = require(\"./abstract/ResolvePlural\");\nvar get_internal_slots_1 = (0, tslib_1.__importDefault)(require(\"./get_internal_slots\"));\nfunction validateInstance(instance, method) {\n    if (!(instance instanceof PluralRules)) {\n        throw new TypeError(\"Method Intl.PluralRules.prototype.\".concat(method, \" called on incompatible receiver \").concat(String(instance)));\n    }\n}\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-pluralruleselect\n * @param locale\n * @param type\n * @param _n\n * @param param3\n */\nfunction PluralRuleSelect(locale, type, _n, _a) {\n    var IntegerDigits = _a.IntegerDigits, NumberOfFractionDigits = _a.NumberOfFractionDigits, FractionDigits = _a.FractionDigits;\n    return PluralRules.localeData[locale].fn(NumberOfFractionDigits\n        ? \"\".concat(IntegerDigits, \".\").concat(FractionDigits)\n        : IntegerDigits, type === 'ordinal');\n}\nvar PluralRules = /** @class */ (function () {\n    function PluralRules(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof PluralRules ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.PluralRules must be called with 'new'\");\n        }\n        return (0, InitializePluralRules_1.InitializePluralRules)(this, locales, options, {\n            availableLocales: PluralRules.availableLocales,\n            relevantExtensionKeys: PluralRules.relevantExtensionKeys,\n            localeData: PluralRules.localeData,\n            getDefaultLocale: PluralRules.getDefaultLocale,\n            getInternalSlots: get_internal_slots_1.default,\n        });\n    }\n    PluralRules.prototype.resolvedOptions = function () {\n        validateInstance(this, 'resolvedOptions');\n        var opts = Object.create(null);\n        var internalSlots = (0, get_internal_slots_1.default)(this);\n        opts.locale = internalSlots.locale;\n        opts.type = internalSlots.type;\n        [\n            'minimumIntegerDigits',\n            'minimumFractionDigits',\n            'maximumFractionDigits',\n            'minimumSignificantDigits',\n            'maximumSignificantDigits',\n        ].forEach(function (field) {\n            var val = internalSlots[field];\n            if (val !== undefined) {\n                opts[field] = val;\n            }\n        });\n        opts.pluralCategories = (0, tslib_1.__spreadArray)([], PluralRules.localeData[opts.locale].categories[opts.type], true);\n        return opts;\n    };\n    PluralRules.prototype.select = function (val) {\n        var pr = this;\n        validateInstance(pr, 'select');\n        var n = (0, ecma402_abstract_1.ToNumber)(val);\n        return (0, ResolvePlural_1.ResolvePlural)(pr, n, { getInternalSlots: get_internal_slots_1.default, PluralRuleSelect: PluralRuleSelect });\n    };\n    PluralRules.prototype.toString = function () {\n        return '[object Intl.PluralRules]';\n    };\n    PluralRules.supportedLocalesOf = function (locales, options) {\n        return (0, ecma402_abstract_1.SupportedLocales)(PluralRules.availableLocales, (0, ecma402_abstract_1.CanonicalizeLocaleList)(locales), options);\n    };\n    PluralRules.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            PluralRules.localeData[locale] = d;\n            PluralRules.availableLocales.add(locale);\n            if (!PluralRules.__defaultLocale) {\n                PluralRules.__defaultLocale = locale;\n            }\n        }\n    };\n    PluralRules.getDefaultLocale = function () {\n        return PluralRules.__defaultLocale;\n    };\n    PluralRules.localeData = {};\n    PluralRules.availableLocales = new Set();\n    PluralRules.__defaultLocale = '';\n    PluralRules.relevantExtensionKeys = [];\n    PluralRules.polyfilled = true;\n    return PluralRules;\n}());\nexports.PluralRules = PluralRules;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(PluralRules.prototype, Symbol.toStringTag, {\n            value: 'Intl.PluralRules',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    try {\n        // https://github.com/tc39/test262/blob/master/test/intl402/PluralRules/length.js\n        Object.defineProperty(PluralRules, 'length', {\n            value: 0,\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    catch (error) {\n        // IE 11 sets Function.prototype.length to be non-configurable which will cause the\n        // above Object.defineProperty to throw an error.\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(PluralRules.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(PluralRules.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (ex) {\n    // Meta fixes for test262\n}\n","/* @generated */\n// prettier-ignore\nif (Intl.PluralRules && typeof Intl.PluralRules.__addLocaleData === 'function') {\n  Intl.PluralRules.__addLocaleData({\"data\":{\"categories\":{\"cardinal\":[\"one\",\"other\"],\"ordinal\":[\"one\",\"two\",\"few\",\"other\"]},\"fn\":function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return n10 == 1 && n100 != 11 ? 'one'\n    : n10 == 2 && n100 != 12 ? 'two'\n    : n10 == 3 && n100 != 13 ? 'few'\n    : 'other';\n  return n == 1 && v0 ? 'one' : 'other';\n}},\"locale\":\"en\"})\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif ((0, should_polyfill_1.shouldPolyfill)()) {\n    Object.defineProperty(Intl, 'PluralRules', {\n        value: _1.PluralRules,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nvar intl_localematcher_1 = require(\"@formatjs/intl-localematcher\");\nvar supported_locales_1 = require(\"./supported-locales\");\nfunction supportedLocalesOf(locale) {\n    if (!locale) {\n        return true;\n    }\n    var locales = Array.isArray(locale) ? locale : [locale];\n    return Intl.PluralRules.supportedLocalesOf(locales).length === locales.length;\n}\nfunction shouldPolyfill(locale) {\n    if (locale === void 0) { locale = 'en'; }\n    if (!('PluralRules' in Intl) ||\n        new Intl.PluralRules('en', { minimumFractionDigits: 2 }).select(1) ===\n            'one' ||\n        !supportedLocalesOf(locale)) {\n        return locale ? (0, intl_localematcher_1.match)([locale], supported_locales_1.supportedLocales, 'en') : undefined;\n    }\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supportedLocales = void 0;\n// This file is generated from supported-locales-gen.ts\nexports.supportedLocales = [\"af\", \"ak\", \"am\", \"an\", \"ar\", \"ars\", \"as\", \"asa\", \"ast\", \"az\", \"bal\", \"be\", \"bem\", \"bez\", \"bg\", \"bho\", \"bm\", \"bn\", \"bo\", \"br\", \"brx\", \"bs\", \"ca\", \"ce\", \"ceb\", \"cgg\", \"chr\", \"ckb\", \"cs\", \"cy\", \"da\", \"de\", \"doi\", \"dsb\", \"dv\", \"dz\", \"ee\", \"el\", \"en\", \"eo\", \"es\", \"et\", \"eu\", \"fa\", \"ff\", \"fi\", \"fil\", \"fo\", \"fr\", \"fur\", \"fy\", \"ga\", \"gd\", \"gl\", \"gsw\", \"gu\", \"guw\", \"gv\", \"ha\", \"haw\", \"he\", \"hi\", \"hnj\", \"hr\", \"hsb\", \"hu\", \"hy\", \"ia\", \"id\", \"ig\", \"ii\", \"io\", \"is\", \"it\", \"iu\", \"ja\", \"jbo\", \"jgo\", \"jmc\", \"jv\", \"jw\", \"ka\", \"kab\", \"kaj\", \"kcg\", \"kde\", \"kea\", \"kk\", \"kkj\", \"kl\", \"km\", \"kn\", \"ko\", \"ks\", \"ksb\", \"ksh\", \"ku\", \"kw\", \"ky\", \"lag\", \"lb\", \"lg\", \"lij\", \"lkt\", \"ln\", \"lo\", \"lt\", \"lv\", \"mas\", \"mg\", \"mgo\", \"mk\", \"ml\", \"mn\", \"mo\", \"mr\", \"ms\", \"mt\", \"my\", \"nah\", \"naq\", \"nb\", \"nd\", \"ne\", \"nl\", \"nn\", \"nnh\", \"no\", \"nqo\", \"nr\", \"nso\", \"ny\", \"nyn\", \"om\", \"or\", \"os\", \"osa\", \"pa\", \"pap\", \"pcm\", \"pl\", \"prg\", \"ps\", \"pt-PT\", \"pt\", \"rm\", \"ro\", \"rof\", \"ru\", \"rwk\", \"sah\", \"saq\", \"sat\", \"sc\", \"scn\", \"sd\", \"sdh\", \"se\", \"seh\", \"ses\", \"sg\", \"sh\", \"shi\", \"si\", \"sk\", \"sl\", \"sma\", \"smi\", \"smj\", \"smn\", \"sms\", \"sn\", \"so\", \"sq\", \"sr\", \"ss\", \"ssy\", \"st\", \"su\", \"sv\", \"sw\", \"syr\", \"ta\", \"te\", \"teo\", \"th\", \"ti\", \"tig\", \"tk\", \"tl\", \"tn\", \"to\", \"tpi\", \"tr\", \"ts\", \"tzm\", \"ug\", \"uk\", \"und\", \"ur\", \"uz\", \"ve\", \"vi\", \"vo\", \"vun\", \"wa\", \"wae\", \"wo\", \"xh\", \"xog\", \"yi\", \"yo\", \"yue\", \"zh\", \"zu\"];\n","\"use strict\";\n// Type-only circular import\n// eslint-disable-next-line import/no-cycle\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nvar RelativeTimeFormat = /** @class */ (function () {\n    function RelativeTimeFormat(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n        }\n        return ecma402_abstract_1.InitializeRelativeTimeFormat(this, locales, options, {\n            getInternalSlots: get_internal_slots_1.default,\n            availableLocales: RelativeTimeFormat.availableLocales,\n            relevantExtensionKeys: RelativeTimeFormat.relevantExtensionKeys,\n            localeData: RelativeTimeFormat.localeData,\n            getDefaultLocale: RelativeTimeFormat.getDefaultLocale,\n        });\n    }\n    RelativeTimeFormat.prototype.format = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('format was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('format was called on a invalid context');\n        }\n        return ecma402_abstract_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), {\n            getInternalSlots: get_internal_slots_1.default,\n        })\n            .map(function (el) { return el.value; })\n            .join('');\n    };\n    RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('formatToParts was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('formatToParts was called on a invalid context');\n        }\n        return ecma402_abstract_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), { getInternalSlots: get_internal_slots_1.default });\n    };\n    RelativeTimeFormat.prototype.resolvedOptions = function () {\n        if (typeof this !== 'object') {\n            throw new TypeError('resolvedOptions was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('resolvedOptions was called on a invalid context');\n        }\n        // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n        return {\n            locale: internalSlots.locale,\n            style: internalSlots.style,\n            numeric: internalSlots.numeric,\n            numberingSystem: internalSlots.numberingSystem,\n        };\n    };\n    RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n        return ecma402_abstract_1.SupportedLocales(RelativeTimeFormat.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    RelativeTimeFormat.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            var minimizedLocale = new Intl.Locale(locale)\n                .minimize()\n                .toString();\n            RelativeTimeFormat.localeData[locale] = RelativeTimeFormat.localeData[minimizedLocale] = d;\n            RelativeTimeFormat.availableLocales.add(minimizedLocale);\n            RelativeTimeFormat.availableLocales.add(locale);\n            if (!RelativeTimeFormat.__defaultLocale) {\n                RelativeTimeFormat.__defaultLocale = minimizedLocale;\n            }\n        }\n    };\n    RelativeTimeFormat.getDefaultLocale = function () {\n        return RelativeTimeFormat.__defaultLocale;\n    };\n    RelativeTimeFormat.localeData = {};\n    RelativeTimeFormat.availableLocales = new Set();\n    RelativeTimeFormat.__defaultLocale = '';\n    RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n    RelativeTimeFormat.polyfilled = true;\n    return RelativeTimeFormat;\n}());\nexports.default = RelativeTimeFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.RelativeTimeFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n","/* @generated */\t\n// prettier-ignore\nif (Intl.RelativeTimeFormat && typeof Intl.RelativeTimeFormat.__addLocaleData === 'function') {\n  Intl.RelativeTimeFormat.__addLocaleData({\"data\":{\"nu\":[\"latn\"],\"year\":{\"0\":\"this year\",\"1\":\"next year\",\"future\":{\"one\":\"in {0} year\",\"other\":\"in {0} years\"},\"past\":{\"one\":\"{0} year ago\",\"other\":\"{0} years ago\"},\"-1\":\"last year\"},\"year-short\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"year-narrow\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"quarter\":{\"0\":\"this quarter\",\"1\":\"next quarter\",\"future\":{\"one\":\"in {0} quarter\",\"other\":\"in {0} quarters\"},\"past\":{\"one\":\"{0} quarter ago\",\"other\":\"{0} quarters ago\"},\"-1\":\"last quarter\"},\"quarter-short\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"quarter-narrow\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"month\":{\"0\":\"this month\",\"1\":\"next month\",\"future\":{\"one\":\"in {0} month\",\"other\":\"in {0} months\"},\"past\":{\"one\":\"{0} month ago\",\"other\":\"{0} months ago\"},\"-1\":\"last month\"},\"month-short\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"month-narrow\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"week\":{\"0\":\"this week\",\"1\":\"next week\",\"future\":{\"one\":\"in {0} week\",\"other\":\"in {0} weeks\"},\"past\":{\"one\":\"{0} week ago\",\"other\":\"{0} weeks ago\"},\"-1\":\"last week\"},\"week-short\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"week-narrow\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"day\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-short\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-narrow\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"hour\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hour\",\"other\":\"in {0} hours\"},\"past\":{\"one\":\"{0} hour ago\",\"other\":\"{0} hours ago\"}},\"hour-short\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"hour-narrow\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"minute\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} minute\",\"other\":\"in {0} minutes\"},\"past\":{\"one\":\"{0} minute ago\",\"other\":\"{0} minutes ago\"}},\"minute-short\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"minute-narrow\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"second\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} second\",\"other\":\"in {0} seconds\"},\"past\":{\"one\":\"{0} second ago\",\"other\":\"{0} seconds ago\"}},\"second-short\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}},\"second-narrow\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}}},\"locale\":\"en\"}\n)\n}","/**\n * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue\n * @param x number\n */\nexport function getMagnitude(x) {\n    // Cannot count string length via Number.toString because it may use scientific notation\n    // for very small or very large numbers.\n    return Math.floor(Math.log(x) * Math.LOG10E);\n}\nexport function repeat(s, times) {\n    if (typeof s.repeat === 'function') {\n        return s.repeat(times);\n    }\n    var arr = new Array(times);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = s;\n    }\n    return arr.join('');\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(pl + \" InternalSlot has not been initialized\");\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\n/*\n  17 ECMAScript Standard Built-in Objects:\n    Every built-in Function object, including constructors, that is not\n    identified as an anonymous function has a name property whose value\n    is a String.\n\n    Unless otherwise specified, the name property of a built-in Function\n    object, if it exists, has the attributes { [[Writable]]: false,\n    [[Enumerable]]: false, [[Configurable]]: true }.\n*/\nexport function defineProperty(target, name, _a) {\n    var value = _a.value;\n    Object.defineProperty(target, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value,\n    });\n}\nexport var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nexport function invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\n","export var DATE_TIME_PROPS = [\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n];\nexport var removalPenalty = 120;\nexport var additionPenalty = 20;\nexport var differentNumericTypePenalty = 15;\nexport var longLessPenalty = 8;\nexport var longMorePenalty = 6;\nexport var shortLessPenalty = 6;\nexport var shortMorePenalty = 3;\n","export var RangePatternType;\n(function (RangePatternType) {\n    RangePatternType[\"startRange\"] = \"startRange\";\n    RangePatternType[\"shared\"] = \"shared\";\n    RangePatternType[\"endRange\"] = \"endRange\";\n})(RangePatternType || (RangePatternType = {}));\n","import { __assign } from \"tslib\";\nimport { RangePatternType, } from '../types/date-time';\n/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n// trim patterns after transformations\nvar expPatternTrimmer = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\nfunction matchSkeletonPattern(match, result) {\n    var len = match.length;\n    switch (match[0]) {\n        // Era\n        case 'G':\n            result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{era}';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            result.year = len === 2 ? '2-digit' : 'numeric';\n            return '{year}';\n        // Quarter\n        case 'q':\n        case 'Q':\n            throw new RangeError('`w/Q` (quarter) patterns are not supported');\n        // Month\n        case 'M':\n        case 'L':\n            result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n            return '{month}';\n        // Week\n        case 'w':\n        case 'W':\n            throw new RangeError('`w/W` (week of year) patterns are not supported');\n        case 'd':\n            result.day = ['numeric', '2-digit'][len - 1];\n            return '{day}';\n        case 'D':\n        case 'F':\n        case 'g':\n            result.day = 'numeric';\n            return '{day}';\n        // Weekday\n        case 'E':\n            result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{weekday}';\n        case 'e':\n            result.weekday = [\n                undefined,\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        case 'c':\n            result.weekday = [\n                undefined,\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            result.hour12 = true;\n            return '{ampm}';\n        // Hour\n        case 'h':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'H':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'K':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'k':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'j':\n        case 'J':\n        case 'C':\n            throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n        // Minute\n        case 'm':\n            result.minute = ['numeric', '2-digit'][len - 1];\n            return '{minute}';\n        // Second\n        case 's':\n            result.second = ['numeric', '2-digit'][len - 1];\n            return '{second}';\n        case 'S':\n        case 'A':\n            result.second = 'numeric';\n            return '{second}';\n        // Zone\n        case 'z': // 1..3, 4: specific non-location format\n        case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n        case 'O': // 1, 4: miliseconds in day short, long\n        case 'v': // 1, 4: generic non-location format\n        case 'V': // 1, 2, 3, 4: time zone ID or city\n        case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n        case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n            result.timeZoneName = len < 4 ? 'short' : 'long';\n            return '{timeZoneName}';\n    }\n    return '';\n}\nfunction skeletonTokenToTable2(c) {\n    switch (c) {\n        // Era\n        case 'G':\n            return 'era';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            return 'year';\n        // Month\n        case 'M':\n        case 'L':\n            return 'month';\n        // Day\n        case 'd':\n        case 'D':\n        case 'F':\n        case 'g':\n            return 'day';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            return 'ampm';\n        // Hour\n        case 'h':\n        case 'H':\n        case 'K':\n        case 'k':\n            return 'hour';\n        // Minute\n        case 'm':\n            return 'minute';\n        // Second\n        case 's':\n        case 'S':\n        case 'A':\n            return 'second';\n        default:\n            throw new RangeError('Invalid range pattern token');\n    }\n}\nexport function processDateTimePattern(pattern, result) {\n    var literals = [];\n    // Use skeleton to populate result, but use mapped pattern to populate pattern\n    var pattern12 = pattern\n        // Double apostrophe\n        .replace(/'{2}/g, '{apostrophe}')\n        // Apostrophe-escaped\n        .replace(/'(.*?)'/g, function (_, literal) {\n        literals.push(literal);\n        return \"$$\" + (literals.length - 1) + \"$$\";\n    })\n        .replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result || {}); });\n    //Restore literals\n    if (literals.length) {\n        pattern12 = pattern12\n            .replace(/\\$\\$(\\d+)\\$\\$/g, function (_, i) {\n            return literals[+i];\n        })\n            .replace(/\\{apostrophe\\}/g, \"'\");\n    }\n    // Handle apostrophe-escaped things\n    return [\n        pattern12\n            .replace(/([\\s\\uFEFF\\xA0])\\{ampm\\}([\\s\\uFEFF\\xA0])/, '$1')\n            .replace('{ampm}', '')\n            .replace(expPatternTrimmer, ''),\n        pattern12,\n    ];\n}\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton, rawPattern, rangePatterns, intervalFormatFallback) {\n    if (rawPattern === void 0) { rawPattern = skeleton; }\n    var result = {\n        pattern: '',\n        pattern12: '',\n        skeleton: skeleton,\n        rawPattern: rawPattern,\n        rangePatterns: {},\n        rangePatterns12: {},\n    };\n    if (rangePatterns) {\n        for (var k in rangePatterns) {\n            var key = skeletonTokenToTable2(k);\n            var rawPattern_1 = rangePatterns[k];\n            var intervalResult = {\n                patternParts: [],\n            };\n            var _a = processDateTimePattern(rawPattern_1, intervalResult), pattern_1 = _a[0], pattern12_1 = _a[1];\n            result.rangePatterns[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern_1) });\n            result.rangePatterns12[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern12_1) });\n        }\n    }\n    else if (intervalFormatFallback) {\n        var patternParts = splitFallbackRangePattern(intervalFormatFallback);\n        result.rangePatterns.default = {\n            patternParts: patternParts,\n        };\n        result.rangePatterns12.default = {\n            patternParts: patternParts,\n        };\n    }\n    // Process skeleton\n    skeleton.replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result); });\n    var _b = processDateTimePattern(rawPattern), pattern = _b[0], pattern12 = _b[1];\n    result.pattern = pattern;\n    result.pattern12 = pattern12;\n    return result;\n}\nexport function splitFallbackRangePattern(pattern) {\n    var parts = pattern.split(/(\\{[0|1]\\})/g).filter(Boolean);\n    return parts.map(function (pattern) {\n        switch (pattern) {\n            case '{0}':\n                return {\n                    source: RangePatternType.startRange,\n                    pattern: pattern,\n                };\n            case '{1}':\n                return {\n                    source: RangePatternType.endRange,\n                    pattern: pattern,\n                };\n            default:\n                return {\n                    source: RangePatternType.shared,\n                    pattern: pattern,\n                };\n        }\n    });\n}\nexport function splitRangePattern(pattern) {\n    var PART_REGEX = /\\{(.*?)\\}/g;\n    // Map of part and index within the string\n    var parts = {};\n    var match;\n    var splitIndex = 0;\n    while ((match = PART_REGEX.exec(pattern))) {\n        if (!(match[0] in parts)) {\n            parts[match[0]] = match.index;\n        }\n        else {\n            splitIndex = match.index;\n            break;\n        }\n    }\n    if (!splitIndex) {\n        return [\n            {\n                source: RangePatternType.startRange,\n                pattern: pattern,\n            },\n        ];\n    }\n    return [\n        {\n            source: RangePatternType.startRange,\n            pattern: pattern.slice(0, splitIndex),\n        },\n        {\n            source: RangePatternType.endRange,\n            pattern: pattern.slice(splitIndex),\n        },\n    ];\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, removalPenalty, additionPenalty, differentNumericTypePenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\nimport { processDateTimePattern } from './skeleton';\nfunction isNumericType(t) {\n    return t === 'numeric' || t === '2-digit';\n}\n/**\n * Credit: https://github.com/andyearnshaw/Intl.js/blob/0958dc1ad8153f1056653ea22b8208f0df289a4e/src/12.datetimeformat.js#L611\n * with some modifications\n * @param options\n * @param format\n */\nexport function bestFitFormatMatcherScore(options, format) {\n    var score = 0;\n    if (options.hour12 && !format.hour12) {\n        score -= removalPenalty;\n    }\n    else if (!options.hour12 && format.hour12) {\n        score -= additionPenalty;\n    }\n    for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n        var prop = DATE_TIME_PROPS_1[_i];\n        var optionsProp = options[prop];\n        var formatProp = format[prop];\n        if (optionsProp === undefined && formatProp !== undefined) {\n            score -= additionPenalty;\n        }\n        else if (optionsProp !== undefined && formatProp === undefined) {\n            score -= removalPenalty;\n        }\n        else if (optionsProp !== formatProp) {\n            // extra penalty for numeric vs non-numeric\n            if (isNumericType(optionsProp) !==\n                isNumericType(formatProp)) {\n                score -= differentNumericTypePenalty;\n            }\n            else {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n    }\n    return score;\n}\n/**\n * https://tc39.es/ecma402/#sec-bestfitformatmatcher\n * Just alias to basic for now\n * @param options\n * @param formats\n * @param implDetails Implementation details\n */\nexport function BestFitFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = bestFitFormatMatcherScore(options, format);\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    var skeletonFormat = __assign({}, bestFormat);\n    var patternFormat = { rawPattern: bestFormat.rawPattern };\n    processDateTimePattern(bestFormat.rawPattern, patternFormat);\n    // Kinda following https://github.com/unicode-org/icu/blob/dd50e38f459d84e9bf1b0c618be8483d318458ad/icu4j/main/classes/core/src/com/ibm/icu/text/DateTimePatternGenerator.java\n    // Method adjustFieldTypes\n    for (var prop in skeletonFormat) {\n        var skeletonValue = skeletonFormat[prop];\n        var patternValue = patternFormat[prop];\n        var requestedValue = options[prop];\n        // Don't mess with minute/second or we can get in the situation of\n        // 7:0:0 which is weird\n        if (prop === 'minute' || prop === 'second') {\n            continue;\n        }\n        // Nothing to do here\n        if (!requestedValue) {\n            continue;\n        }\n        // https://unicode.org/reports/tr35/tr35-dates.html#Matching_Skeletons\n        // Looks like we should not convert numeric to alphabetic but the other way\n        // around is ok\n        if (isNumericType(patternValue) &&\n            !isNumericType(requestedValue)) {\n            continue;\n        }\n        if (skeletonValue === requestedValue) {\n            continue;\n        }\n        patternFormat[prop] = requestedValue;\n    }\n    // Copy those over\n    patternFormat.pattern = skeletonFormat.pattern;\n    patternFormat.pattern12 = skeletonFormat.pattern12;\n    patternFormat.skeleton = skeletonFormat.skeleton;\n    patternFormat.rangePatterns = skeletonFormat.rangePatterns;\n    patternFormat.rangePatterns12 = skeletonFormat.rangePatterns12;\n    return patternFormat;\n}\n","/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-canonicalizelocalelist\n * @param locales\n */\nexport function CanonicalizeLocaleList(locales) {\n    // TODO\n    return Intl.getCanonicalLocales(locales);\n}\n","/**\n * https://tc39.es/ecma402/#sec-canonicalizetimezonename\n * @param tz\n */\nexport function CanonicalizeTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var uppercasedZones = Object.keys(tzData).reduce(function (all, z) {\n        all[z.toUpperCase()] = z;\n        return all;\n    }, {});\n    var ianaTimeZone = uppercaseLinks[uppercasedTz] || uppercasedZones[uppercasedTz];\n    if (ianaTimeZone === 'Etc/UTC' || ianaTimeZone === 'Etc/GMT') {\n        return 'UTC';\n    }\n    return ianaTimeZone;\n}\n","/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function ToString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma262/#sec-tonumber\n * @param val\n */\nexport function ToNumber(val) {\n    if (val === undefined) {\n        return NaN;\n    }\n    if (val === null) {\n        return +0;\n    }\n    if (typeof val === 'boolean') {\n        return val ? 1 : +0;\n    }\n    if (typeof val === 'number') {\n        return val;\n    }\n    if (typeof val === 'symbol' || typeof val === 'bigint') {\n        throw new TypeError('Cannot convert symbol/bigint to number');\n    }\n    return Number(val);\n}\n/**\n * https://tc39.es/ecma262/#sec-tointeger\n * @param n\n */\nfunction ToInteger(n) {\n    var number = ToNumber(n);\n    if (isNaN(number) || SameValue(number, -0)) {\n        return 0;\n    }\n    if (isFinite(number)) {\n        return number;\n    }\n    var integer = Math.floor(Math.abs(number));\n    if (number < 0) {\n        integer = -integer;\n    }\n    if (SameValue(integer, -0)) {\n        return 0;\n    }\n    return integer;\n}\n/**\n * https://tc39.es/ecma262/#sec-timeclip\n * @param time\n */\nexport function TimeClip(time) {\n    if (!isFinite(time)) {\n        return NaN;\n    }\n    if (Math.abs(time) > 8.64 * 1e15) {\n        return NaN;\n    }\n    return ToInteger(time);\n}\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function ToObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-samevalue\n * @param x\n * @param y\n */\nexport function SameValue(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-arraycreate\n * @param len\n */\nexport function ArrayCreate(len) {\n    return new Array(len);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-hasownproperty\n * @param o\n * @param prop\n */\nexport function HasOwnProperty(o, prop) {\n    return Object.prototype.hasOwnProperty.call(o, prop);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-type\n * @param x\n */\nexport function Type(x) {\n    if (x === null) {\n        return 'Null';\n    }\n    if (typeof x === 'undefined') {\n        return 'Undefined';\n    }\n    if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n    }\n    if (typeof x === 'number') {\n        return 'Number';\n    }\n    if (typeof x === 'boolean') {\n        return 'Boolean';\n    }\n    if (typeof x === 'string') {\n        return 'String';\n    }\n    if (typeof x === 'symbol') {\n        return 'Symbol';\n    }\n    if (typeof x === 'bigint') {\n        return 'BigInt';\n    }\n}\nvar MS_PER_DAY = 86400000;\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#eqn-modulo\n * @param x\n * @param y\n * @return k of the same sign as y\n */\nfunction mod(x, y) {\n    return x - Math.floor(x / y) * y;\n}\n/**\n * https://tc39.es/ecma262/#eqn-Day\n * @param t\n */\nexport function Day(t) {\n    return Math.floor(t / MS_PER_DAY);\n}\n/**\n * https://tc39.es/ecma262/#sec-week-day\n * @param t\n */\nexport function WeekDay(t) {\n    return mod(Day(t) + 4, 7);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function DayFromYear(y) {\n    return Date.UTC(y, 0) / MS_PER_DAY;\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function TimeFromYear(y) {\n    return Date.UTC(y, 0);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param t\n */\nexport function YearFromTime(t) {\n    return new Date(t).getUTCFullYear();\n}\nexport function DaysInYear(y) {\n    if (y % 4 !== 0) {\n        return 365;\n    }\n    if (y % 100 !== 0) {\n        return 366;\n    }\n    if (y % 400 !== 0) {\n        return 365;\n    }\n    return 366;\n}\nexport function DayWithinYear(t) {\n    return Day(t) - DayFromYear(YearFromTime(t));\n}\nexport function InLeapYear(t) {\n    return DaysInYear(YearFromTime(t)) === 365 ? 0 : 1;\n}\n/**\n * https://tc39.es/ecma262/#sec-month-number\n * @param t\n */\nexport function MonthFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var leap = InLeapYear(t);\n    if (dwy >= 0 && dwy < 31) {\n        return 0;\n    }\n    if (dwy < 59 + leap) {\n        return 1;\n    }\n    if (dwy < 90 + leap) {\n        return 2;\n    }\n    if (dwy < 120 + leap) {\n        return 3;\n    }\n    if (dwy < 151 + leap) {\n        return 4;\n    }\n    if (dwy < 181 + leap) {\n        return 5;\n    }\n    if (dwy < 212 + leap) {\n        return 6;\n    }\n    if (dwy < 243 + leap) {\n        return 7;\n    }\n    if (dwy < 273 + leap) {\n        return 8;\n    }\n    if (dwy < 304 + leap) {\n        return 9;\n    }\n    if (dwy < 334 + leap) {\n        return 10;\n    }\n    if (dwy < 365 + leap) {\n        return 11;\n    }\n    throw new Error('Invalid time');\n}\nexport function DateFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var mft = MonthFromTime(t);\n    var leap = InLeapYear(t);\n    if (mft === 0) {\n        return dwy + 1;\n    }\n    if (mft === 1) {\n        return dwy - 30;\n    }\n    if (mft === 2) {\n        return dwy - 58 - leap;\n    }\n    if (mft === 3) {\n        return dwy - 89 - leap;\n    }\n    if (mft === 4) {\n        return dwy - 119 - leap;\n    }\n    if (mft === 5) {\n        return dwy - 150 - leap;\n    }\n    if (mft === 6) {\n        return dwy - 180 - leap;\n    }\n    if (mft === 7) {\n        return dwy - 211 - leap;\n    }\n    if (mft === 8) {\n        return dwy - 242 - leap;\n    }\n    if (mft === 9) {\n        return dwy - 272 - leap;\n    }\n    if (mft === 10) {\n        return dwy - 303 - leap;\n    }\n    if (mft === 11) {\n        return dwy - 333 - leap;\n    }\n    throw new Error('Invalid time');\n}\nvar HOURS_PER_DAY = 24;\nvar MINUTES_PER_HOUR = 60;\nvar SECONDS_PER_MINUTE = 60;\nvar MS_PER_SECOND = 1e3;\nvar MS_PER_MINUTE = MS_PER_SECOND * SECONDS_PER_MINUTE;\nvar MS_PER_HOUR = MS_PER_MINUTE * MINUTES_PER_HOUR;\nexport function HourFromTime(t) {\n    return mod(Math.floor(t / MS_PER_HOUR), HOURS_PER_DAY);\n}\nexport function MinFromTime(t) {\n    return mod(Math.floor(t / MS_PER_MINUTE), MINUTES_PER_HOUR);\n}\nexport function SecFromTime(t) {\n    return mod(Math.floor(t / MS_PER_SECOND), SECONDS_PER_MINUTE);\n}\nfunction IsCallable(fn) {\n    return typeof fn === 'function';\n}\n/**\n * The abstract operation OrdinaryHasInstance implements\n * the default algorithm for determining if an object O\n * inherits from the instance object inheritance path\n * provided by constructor C.\n * @param C class\n * @param O object\n * @param internalSlots internalSlots\n */\nexport function OrdinaryHasInstance(C, O, internalSlots) {\n    if (!IsCallable(C)) {\n        return false;\n    }\n    if (internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction) {\n        var BC = internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction;\n        return O instanceof BC;\n    }\n    if (typeof O !== 'object') {\n        return false;\n    }\n    var P = C.prototype;\n    if (typeof P !== 'object') {\n        throw new TypeError('OrdinaryHasInstance called on an object with an invalid prototype property.');\n    }\n    return Object.prototype.isPrototypeOf.call(P, O);\n}\nexport function msFromTime(t) {\n    return mod(t, MS_PER_SECOND);\n}\n","import { ToObject } from './262';\n/**\n * https://tc39.es/ecma402/#sec-coerceoptionstoobject\n * @param options\n * @returns\n */\nexport function CoerceOptionsToObject(options) {\n    if (typeof options === 'undefined') {\n        return Object.create(null);\n    }\n    return ToObject(options);\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, additionPenalty, removalPenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-basicformatmatcher\n * @param options\n * @param formats\n */\nexport function BasicFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = 0;\n        for (var _a = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _a < DATE_TIME_PROPS_1.length; _a++) {\n            var prop = DATE_TIME_PROPS_1[_a];\n            var optionsProp = options[prop];\n            var formatProp = format[prop];\n            if (optionsProp === undefined && formatProp !== undefined) {\n                score -= additionPenalty;\n            }\n            else if (optionsProp !== undefined && formatProp === undefined) {\n                score -= removalPenalty;\n            }\n            else if (optionsProp !== formatProp) {\n                var values = void 0;\n                if (prop === 'fractionalSecondDigits') {\n                    values = [1, 2, 3];\n                }\n                else {\n                    values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                }\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    return __assign({}, bestFormat);\n}\n","import { invariant } from '../utils';\nexport function DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData) {\n    var dateFormat, timeFormat;\n    if (timeStyle !== undefined) {\n        invariant(timeStyle === 'full' ||\n            timeStyle === 'long' ||\n            timeStyle === 'medium' ||\n            timeStyle === 'short', 'invalid timeStyle');\n        timeFormat = dataLocaleData.timeFormat[timeStyle];\n    }\n    if (dateStyle !== undefined) {\n        invariant(dateStyle === 'full' ||\n            dateStyle === 'long' ||\n            dateStyle === 'medium' ||\n            dateStyle === 'short', 'invalid dateStyle');\n        dateFormat = dataLocaleData.dateFormat[dateStyle];\n    }\n    if (dateStyle !== undefined && timeStyle !== undefined) {\n        var format = {};\n        for (var field in dateFormat) {\n            if (field !== 'pattern') {\n                // @ts-ignore\n                format[field] = dateFormat[field];\n            }\n        }\n        for (var field in timeFormat) {\n            if (field !== 'pattern' && field !== 'pattern12') {\n                // @ts-ignore\n                format[field] = timeFormat[field];\n            }\n        }\n        var connector = dataLocaleData.dateTimeFormat[dateStyle];\n        var pattern = connector\n            .replace('{0}', timeFormat.pattern)\n            .replace('{1}', dateFormat.pattern);\n        format.pattern = pattern;\n        if ('pattern12' in timeFormat) {\n            var pattern12 = connector\n                .replace('{0}', timeFormat.pattern12)\n                .replace('{1}', dateFormat.pattern);\n            format.pattern12 = pattern12;\n        }\n        return format;\n    }\n    if (timeStyle !== undefined) {\n        return timeFormat;\n    }\n    invariant(dateStyle !== undefined, 'dateStyle should not be undefined');\n    return dateFormat;\n}\n","import { invariant } from '../utils';\nimport { Type, YearFromTime, WeekDay, MonthFromTime, DateFromTime, HourFromTime, MinFromTime, SecFromTime, msFromTime, } from '../262';\nfunction getApplicableZoneData(t, timeZone, tzData) {\n    var _a;\n    var zoneData = tzData[timeZone];\n    // We don't have data for this so just say it's UTC\n    if (!zoneData) {\n        return [0, false];\n    }\n    var i = 0;\n    var offset = 0;\n    var dst = false;\n    for (; i <= zoneData.length; i++) {\n        if (i === zoneData.length || zoneData[i][0] * 1e3 > t) {\n            ;\n            _a = zoneData[i - 1], offset = _a[2], dst = _a[3];\n            break;\n        }\n    }\n    return [offset * 1e3, dst];\n}\n/**\n * https://tc39.es/ecma402/#sec-tolocaltime\n * @param t\n * @param calendar\n * @param timeZone\n */\nexport function ToLocalTime(t, calendar, timeZone, _a) {\n    var tzData = _a.tzData;\n    invariant(Type(t) === 'Number', 'invalid time');\n    invariant(calendar === 'gregory', 'We only support Gregory calendar right now');\n    var _b = getApplicableZoneData(t, timeZone, tzData), timeZoneOffset = _b[0], inDST = _b[1];\n    var tz = t + timeZoneOffset;\n    var year = YearFromTime(tz);\n    return {\n        weekday: WeekDay(tz),\n        era: year < 0 ? 'BC' : 'AD',\n        year: year,\n        relatedYear: undefined,\n        yearName: undefined,\n        month: MonthFromTime(tz),\n        day: DateFromTime(tz),\n        hour: HourFromTime(tz),\n        minute: MinFromTime(tz),\n        second: SecFromTime(tz),\n        millisecond: msFromTime(tz),\n        inDST: inDST,\n        // IMPORTANT: Not in spec\n        timeZoneOffset: timeZoneOffset,\n    };\n}\n","import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\nfunction pad(n) {\n    if (n < 10) {\n        return \"0\" + n;\n    }\n    return String(n);\n}\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n    var offsetInMinutes = Math.floor(offsetInMs / 60000);\n    var mins = Math.abs(offsetInMinutes) % 60;\n    var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n    var _a = hourFormat.split(';'), positivePattern = _a[0], negativePattern = _a[1];\n    var offsetStr = '';\n    var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n    if (style === 'long') {\n        offsetStr = pattern\n            .replace('HH', pad(hours))\n            .replace('H', String(hours))\n            .replace('mm', pad(mins))\n            .replace('m', String(mins));\n    }\n    else if (mins || hours) {\n        if (!mins) {\n            pattern = pattern.replace(/:?m+/, '');\n        }\n        offsetStr = pattern.replace(/H+/, String(hours)).replace(/m+/, String(mins));\n    }\n    return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, getDefaultTimeZone = _a.getDefaultTimeZone, tzData = _a.tzData;\n    x = TimeClip(x);\n    /** IMPL START */\n    var internalSlots = getInternalSlots(dtf);\n    var dataLocale = internalSlots.dataLocale;\n    var dataLocaleData = localeData[dataLocale];\n    /** IMPL END */\n    var locale = internalSlots.locale;\n    var nfOptions = Object.create(null);\n    nfOptions.useGrouping = false;\n    var nf = new Intl.NumberFormat(locale, nfOptions);\n    var nf2Options = Object.create(null);\n    nf2Options.minimumIntegerDigits = 2;\n    nf2Options.useGrouping = false;\n    var nf2 = new Intl.NumberFormat(locale, nf2Options);\n    var fractionalSecondDigits = internalSlots.fractionalSecondDigits;\n    var nf3;\n    if (fractionalSecondDigits !== undefined) {\n        var nf3Options = Object.create(null);\n        nf3Options.minimumIntegerDigits = fractionalSecondDigits;\n        nf3Options.useGrouping = false;\n        nf3 = new Intl.NumberFormat(locale, nf3Options);\n    }\n    var tm = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var p = patternPart.type;\n        if (p === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else if (p === 'fractionalSecondDigits') {\n            var v = Math.floor(tm.millisecond * Math.pow(10, ((fractionalSecondDigits || 0) - 3)));\n            result.push({\n                // @ts-expect-error Spec is not there yet\n                type: 'fractionalSecond',\n                value: nf3.format(v),\n            });\n        }\n        else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n            var fv = '';\n            var f = internalSlots[p];\n            // @ts-ignore\n            var v = tm[p];\n            if (p === 'year' && v <= 0) {\n                v = 1 - v;\n            }\n            if (p === 'month') {\n                v++;\n            }\n            var hourCycle = internalSlots.hourCycle;\n            if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n                v = v % 12;\n                if (v === 0 && hourCycle === 'h12') {\n                    v = 12;\n                }\n            }\n            if (p === 'hour' && hourCycle === 'h24') {\n                if (v === 0) {\n                    v = 24;\n                }\n            }\n            if (f === 'numeric') {\n                fv = nf.format(v);\n            }\n            else if (f === '2-digit') {\n                fv = nf2.format(v);\n                if (fv.length > 2) {\n                    fv = fv.slice(fv.length - 2, fv.length);\n                }\n            }\n            else if (f === 'narrow' || f === 'short' || f === 'long') {\n                if (p === 'era') {\n                    fv = dataLocaleData[p][f][v];\n                }\n                else if (p === 'timeZoneName') {\n                    var timeZoneName = dataLocaleData.timeZoneName, gmtFormat = dataLocaleData.gmtFormat, hourFormat = dataLocaleData.hourFormat;\n                    var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n                    var timeZoneData = timeZoneName[timeZone];\n                    if (timeZoneData && timeZoneData[f]) {\n                        fv = timeZoneData[f][+tm.inDST];\n                    }\n                    else {\n                        // Fallback to gmtFormat\n                        fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n                    }\n                }\n                else if (p === 'month') {\n                    fv = dataLocaleData.month[f][v - 1];\n                }\n                else {\n                    fv = dataLocaleData[p][f][v];\n                }\n            }\n            result.push({\n                type: p,\n                value: fv,\n            });\n        }\n        else if (p === 'ampm') {\n            var v = tm.hour;\n            var fv = void 0;\n            if (v > 11) {\n                fv = dataLocaleData.pm;\n            }\n            else {\n                fv = dataLocaleData.am;\n            }\n            result.push({\n                type: 'dayPeriod',\n                value: fv,\n            });\n        }\n        else if (p === 'relatedYear') {\n            var v = tm.relatedYear;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'relatedYear',\n                value: fv,\n            });\n        }\n        else if (p === 'yearName') {\n            var v = tm.yearName;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'yearName',\n                value: fv,\n            });\n        }\n    }\n    return result;\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-partitionpattern\n * @param pattern\n */\nexport function PartitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n","import { TimeClip } from '../262';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function PartitionDateTimePattern(dtf, x, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('invalid time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var pattern = internalSlots.pattern;\n    return FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetime\n * @param dtf DateTimeFormat\n * @param x\n */\nexport function FormatDateTime(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { RangePatternType, } from '../types/date-time';\nimport { SameValue, TimeClip } from '../262';\nimport { ToLocalTime } from './ToLocalTime';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\nvar TABLE_2_FIELDS = [\n    'era',\n    'year',\n    'month',\n    'day',\n    'ampm',\n    'hour',\n    'minute',\n    'second',\n    'fractionalSecondDigits',\n];\nexport function PartitionDateTimeRangePattern(dtf, x, y, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('Invalid start time');\n    }\n    y = TimeClip(y);\n    if (isNaN(y)) {\n        throw new RangeError('Invalid end time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots, tzData = implDetails.tzData;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var tm1 = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var tm2 = ToLocalTime(y, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var pattern = internalSlots.pattern, rangePatterns = internalSlots.rangePatterns;\n    var rangePattern;\n    var dateFieldsPracticallyEqual = true;\n    var patternContainsLargerDateField = false;\n    for (var _i = 0, TABLE_2_FIELDS_1 = TABLE_2_FIELDS; _i < TABLE_2_FIELDS_1.length; _i++) {\n        var fieldName = TABLE_2_FIELDS_1[_i];\n        if (dateFieldsPracticallyEqual && !patternContainsLargerDateField) {\n            if (fieldName === 'ampm') {\n                var rp = rangePatterns.ampm;\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1.hour;\n                    var v2 = tm2.hour;\n                    if ((v1 > 11 && v2 < 11) || (v1 < 11 && v2 > 11)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n            else if (fieldName === 'fractionalSecondDigits') {\n                var fractionalSecondDigits = internalSlots.fractionalSecondDigits;\n                if (fractionalSecondDigits === undefined) {\n                    fractionalSecondDigits = 3;\n                }\n                var v1 = Math.floor(tm1.millisecond * Math.pow(10, (fractionalSecondDigits - 3)));\n                var v2 = Math.floor(tm2.millisecond * Math.pow(10, (fractionalSecondDigits - 3)));\n                if (v1 !== v2) {\n                    dateFieldsPracticallyEqual = false;\n                }\n            }\n            else {\n                var rp = rangePatterns[fieldName];\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1[fieldName];\n                    var v2 = tm2[fieldName];\n                    if (!SameValue(v1, v2)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n        }\n    }\n    if (dateFieldsPracticallyEqual) {\n        var result_2 = FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n        for (var _a = 0, result_1 = result_2; _a < result_1.length; _a++) {\n            var r = result_1[_a];\n            r.source = RangePatternType.shared;\n        }\n        return result_2;\n    }\n    var result = [];\n    if (rangePattern === undefined) {\n        rangePattern = rangePatterns.default;\n        /** IMPL DETAILS */\n        // Now we have to replace {0} & {1} with actual pattern\n        for (var _b = 0, _c = rangePattern.patternParts; _b < _c.length; _b++) {\n            var patternPart = _c[_b];\n            if (patternPart.pattern === '{0}' || patternPart.pattern === '{1}') {\n                patternPart.pattern = pattern;\n            }\n        }\n    }\n    for (var _d = 0, _e = rangePattern.patternParts; _d < _e.length; _d++) {\n        var rangePatternPart = _e[_d];\n        var source = rangePatternPart.source, pattern_1 = rangePatternPart.pattern;\n        var z = void 0;\n        if (source === RangePatternType.startRange ||\n            source === RangePatternType.shared) {\n            z = x;\n        }\n        else {\n            z = y;\n        }\n        var patternParts = PartitionPattern(pattern_1);\n        var partResult = FormatDateTimePattern(dtf, patternParts, z, implDetails);\n        for (var _f = 0, partResult_1 = partResult; _f < partResult_1.length; _f++) {\n            var r = partResult_1[_f];\n            r.source = source;\n        }\n        result = result.concat(partResult);\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRange(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRangeToParts(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = new Array(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n            source: part.source,\n        });\n    }\n    return result;\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\nimport { ArrayCreate } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetimetoparts\n *\n * @param dtf\n * @param x\n * @param implDetails\n */\nexport function FormatDateTimeToParts(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { ToObject } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-todatetimeoptions\n * @param options\n * @param required\n * @param defaults\n */\nexport function ToDateTimeOptions(options, required, defaults) {\n    if (options === undefined) {\n        options = null;\n    }\n    else {\n        options = ToObject(options);\n    }\n    options = Object.create(options);\n    var needDefaults = true;\n    if (required === 'date' || required === 'any') {\n        for (var _i = 0, _a = ['weekday', 'year', 'month', 'day']; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (required === 'time' || required === 'any') {\n        for (var _b = 0, _c = [\n            'dayPeriod',\n            'hour',\n            'minute',\n            'second',\n            'fractionalSecondDigits',\n        ]; _b < _c.length; _b++) {\n            var prop = _c[_b];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (options.dateStyle !== undefined || options.timeStyle !== undefined) {\n        needDefaults = false;\n    }\n    if (required === 'date' && options.timeStyle) {\n        throw new TypeError('Intl.DateTimeFormat date was required but timeStyle was included');\n    }\n    if (required === 'time' && options.dateStyle) {\n        throw new TypeError('Intl.DateTimeFormat time was required but dateStyle was included');\n    }\n    if (needDefaults && (defaults === 'date' || defaults === 'all')) {\n        for (var _d = 0, _e = ['year', 'month', 'day']; _d < _e.length; _d++) {\n            var prop = _e[_d];\n            options[prop] = 'numeric';\n        }\n    }\n    if (needDefaults && (defaults === 'time' || defaults === 'all')) {\n        for (var _f = 0, _g = ['hour', 'minute', 'second']; _f < _g.length; _f++) {\n            var prop = _g[_f];\n            options[prop] = 'numeric';\n        }\n    }\n    return options;\n}\n","import { ToString } from './262';\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function GetOption(opts, prop, type, values, fallback) {\n    if (typeof opts !== 'object') {\n        throw new TypeError('Options must be an object');\n    }\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = ToString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nexport function BestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (availableLocales.has(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nexport function UnicodeExtensionValue(extension, key) {\n    invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\n","import { LookupMatcher } from './LookupMatcher';\nimport { BestFitMatcher } from './BestFitMatcher';\nimport { invariant } from './utils';\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\n/**\n * https://tc39.es/ecma402/#sec-resolvelocale\n */\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n    var matcher = options.localeMatcher;\n    var r;\n    if (matcher === 'lookup') {\n        r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    else {\n        r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    var foundLocale = r.locale;\n    var result = { locale: '', dataLocale: foundLocale };\n    var supportedExtension = '-u';\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n        var key = relevantExtensionKeys_1[_i];\n        invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n        var foundLocaleData = localeData[foundLocale];\n        invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n        var keyLocaleData = foundLocaleData[key];\n        invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n        var value = keyLocaleData[0];\n        invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n        var supportedExtensionAddition = '';\n        if (r.extension) {\n            var requestedValue = UnicodeExtensionValue(r.extension, key);\n            if (requestedValue !== undefined) {\n                if (requestedValue !== '') {\n                    if (~keyLocaleData.indexOf(requestedValue)) {\n                        value = requestedValue;\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                    }\n                }\n                else if (~requestedValue.indexOf('true')) {\n                    value = 'true';\n                    supportedExtensionAddition = \"-\" + key;\n                }\n            }\n        }\n        if (key in options) {\n            var optionsValue = options[key];\n            invariant(typeof optionsValue === 'string' ||\n                typeof optionsValue === 'undefined' ||\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\n            if (~keyLocaleData.indexOf(optionsValue)) {\n                if (optionsValue !== value) {\n                    value = optionsValue;\n                    supportedExtensionAddition = '';\n                }\n            }\n        }\n        result[key] = value;\n        supportedExtension += supportedExtensionAddition;\n    }\n    if (supportedExtension.length > 2) {\n        var privateIndex = foundLocale.indexOf('-x-');\n        if (privateIndex === -1) {\n            foundLocale = foundLocale + supportedExtension;\n        }\n        else {\n            var preExtension = foundLocale.slice(0, privateIndex);\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n            foundLocale = preExtension + supportedExtension + postExtension;\n        }\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n    }\n    result.locale = foundLocale;\n    return result;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function LookupMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var result = { locale: '' };\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            result.locale = availableLocale;\n            if (locale !== noExtensionLocale) {\n                result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n            }\n            return result;\n        }\n    }\n    result.locale = getDefaultLocale();\n    return result;\n}\n","import { BestAvailableLocale } from './BestAvailableLocale';\nimport { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-bestfitmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var minimizedAvailableLocaleMap = {};\n    var minimizedAvailableLocales = new Set();\n    availableLocales.forEach(function (locale) {\n        var minimizedLocale = new Intl.Locale(locale)\n            .minimize()\n            .toString();\n        minimizedAvailableLocaleMap[minimizedLocale] = locale;\n        minimizedAvailableLocales.add(minimizedLocale);\n    });\n    var foundLocale;\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var l = requestedLocales_1[_i];\n        if (foundLocale) {\n            break;\n        }\n        var noExtensionLocale = l.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        if (availableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        if (minimizedAvailableLocales.has(noExtensionLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[noExtensionLocale];\n            break;\n        }\n        var locale = new Intl.Locale(noExtensionLocale);\n        var maximizedRequestedLocale = locale.maximize().toString();\n        var minimizedRequestedLocale = locale.minimize().toString();\n        // Check minimized locale\n        if (minimizedAvailableLocales.has(minimizedRequestedLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[minimizedRequestedLocale];\n            break;\n        }\n        // Lookup algo on maximized locale\n        foundLocale = BestAvailableLocale(minimizedAvailableLocales, maximizedRequestedLocale);\n    }\n    return {\n        locale: foundLocale || getDefaultLocale(),\n    };\n}\n","/**\n * https://tc39.es/ecma402/#sec-isvalidtimezonename\n * @param tz\n * @param implDetails implementation details\n */\nexport function IsValidTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var zoneNames = new Set();\n    Object.keys(tzData)\n        .map(function (z) { return z.toUpperCase(); })\n        .forEach(function (z) { return zoneNames.add(z); });\n    return zoneNames.has(uppercasedTz) || uppercasedTz in uppercaseLinks;\n}\n","export function DefaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nimport { DefaultNumberOption } from './DefaultNumberOption';\nexport function GetNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    // @ts-expect-error\n    return DefaultNumberOption(val, minimum, maximum, fallback);\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToDateTimeOptions } from './ToDateTimeOptions';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { IsValidTimeZoneName } from '../IsValidTimeZoneName';\nimport { CanonicalizeTimeZoneName } from '../CanonicalizeTimeZoneName';\nimport { BasicFormatMatcher } from './BasicFormatMatcher';\nimport { BestFitFormatMatcher } from './BestFitFormatMatcher';\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS } from './utils';\nimport { DateTimeStyleFormat } from './DateTimeStyleFormat';\nimport { GetNumberOption } from '../GetNumberOption';\nfunction isTimeRelated(opt) {\n    for (var _i = 0, _a = ['hour', 'minute', 'second']; _i < _a.length; _i++) {\n        var prop = _a[_i];\n        var value = opt[prop];\n        if (value !== undefined) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resolveHourCycle(hc, hcDefault, hour12) {\n    if (hc == null) {\n        hc = hcDefault;\n    }\n    if (hour12 !== undefined) {\n        if (hour12) {\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h11';\n            }\n            else {\n                hc = 'h12';\n            }\n        }\n        else {\n            invariant(!hour12, 'hour12 must not be set');\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h23';\n            }\n            else {\n                hc = 'h24';\n            }\n        }\n    }\n    return hc;\n}\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\n/**\n * https://tc39.es/ecma402/#sec-initializedatetimeformat\n * @param dtf DateTimeFormat\n * @param locales locales\n * @param opts options\n */\nexport function InitializeDateTimeFormat(dtf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getDefaultTimeZone = _a.getDefaultTimeZone, relevantExtensionKeys = _a.relevantExtensionKeys, tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = ToDateTimeOptions(opts, 'any', 'date');\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var calendar = GetOption(options, 'calendar', 'string', undefined, undefined);\n    if (calendar !== undefined && !TYPE_REGEX.test(calendar)) {\n        throw new RangeError('Malformed calendar');\n    }\n    var internalSlots = getInternalSlots(dtf);\n    opt.ca = calendar;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined && !TYPE_REGEX.test(numberingSystem)) {\n        throw new RangeError('Malformed numbering system');\n    }\n    opt.nu = numberingSystem;\n    var hour12 = GetOption(options, 'hour12', 'boolean', undefined, undefined);\n    var hourCycle = GetOption(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n    if (hour12 !== undefined) {\n        // @ts-ignore\n        hourCycle = null;\n    }\n    opt.hc = hourCycle;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    calendar = r.ca;\n    internalSlots.calendar = calendar;\n    internalSlots.hourCycle = r.hc;\n    internalSlots.numberingSystem = r.nu;\n    var dataLocale = r.dataLocale;\n    internalSlots.dataLocale = dataLocale;\n    var timeZone = options.timeZone;\n    if (timeZone !== undefined) {\n        timeZone = String(timeZone);\n        if (!IsValidTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks })) {\n            throw new RangeError('Invalid timeZoneName');\n        }\n        timeZone = CanonicalizeTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks });\n    }\n    else {\n        timeZone = getDefaultTimeZone();\n    }\n    internalSlots.timeZone = timeZone;\n    opt = Object.create(null);\n    opt.weekday = GetOption(options, 'weekday', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.era = GetOption(options, 'era', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.year = GetOption(options, 'year', 'string', ['2-digit', 'numeric'], undefined);\n    opt.month = GetOption(options, 'month', 'string', ['2-digit', 'numeric', 'narrow', 'short', 'long'], undefined);\n    opt.day = GetOption(options, 'day', 'string', ['2-digit', 'numeric'], undefined);\n    opt.hour = GetOption(options, 'hour', 'string', ['2-digit', 'numeric'], undefined);\n    opt.minute = GetOption(options, 'minute', 'string', ['2-digit', 'numeric'], undefined);\n    opt.second = GetOption(options, 'second', 'string', ['2-digit', 'numeric'], undefined);\n    opt.timeZoneName = GetOption(options, 'timeZoneName', 'string', ['short', 'long'], undefined);\n    opt.fractionalSecondDigits = GetNumberOption(options, 'fractionalSecondDigits', 1, 3, \n    // @ts-expect-error\n    undefined);\n    var dataLocaleData = localeData[dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + dataLocale);\n    var formats = dataLocaleData.formats[calendar];\n    // UNSPECCED: IMPLEMENTATION DETAILS\n    if (!formats) {\n        throw new RangeError(\"Calendar \\\"\" + calendar + \"\\\" is not supported. Try setting \\\"calendar\\\" to 1 of the following: \" + Object.keys(dataLocaleData.formats).join(', '));\n    }\n    var formatMatcher = GetOption(options, 'formatMatcher', 'string', ['basic', 'best fit'], 'best fit');\n    var dateStyle = GetOption(options, 'dateStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.dateStyle = dateStyle;\n    var timeStyle = GetOption(options, 'timeStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.timeStyle = timeStyle;\n    var bestFormat;\n    if (dateStyle === undefined && timeStyle === undefined) {\n        if (formatMatcher === 'basic') {\n            bestFormat = BasicFormatMatcher(opt, formats);\n        }\n        else {\n            // IMPL DETAILS START\n            if (isTimeRelated(opt)) {\n                var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n                opt.hour12 = hc === 'h11' || hc === 'h12';\n            }\n            // IMPL DETAILS END\n            bestFormat = BestFitFormatMatcher(opt, formats);\n        }\n    }\n    else {\n        for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n            var prop = DATE_TIME_PROPS_1[_i];\n            var p = opt[prop];\n            if (p !== undefined) {\n                throw new TypeError(\"Intl.DateTimeFormat can't set option \" + prop + \" when \" + (dateStyle ? 'dateStyle' : 'timeStyle') + \" is used\");\n            }\n        }\n        bestFormat = DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData);\n    }\n    // IMPL DETAIL START\n    // For debugging\n    internalSlots.format = bestFormat;\n    // IMPL DETAIL END\n    for (var prop in opt) {\n        var p = bestFormat[prop];\n        if (p !== undefined) {\n            internalSlots[prop] = p;\n        }\n    }\n    var pattern;\n    var rangePatterns;\n    if (internalSlots.hour !== undefined) {\n        var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n        internalSlots.hourCycle = hc;\n        if (hc === 'h11' || hc === 'h12') {\n            pattern = bestFormat.pattern12;\n            rangePatterns = bestFormat.rangePatterns12;\n        }\n        else {\n            pattern = bestFormat.pattern;\n            rangePatterns = bestFormat.rangePatterns;\n        }\n    }\n    else {\n        // @ts-ignore\n        internalSlots.hourCycle = undefined;\n        pattern = bestFormat.pattern;\n        rangePatterns = bestFormat.rangePatterns;\n    }\n    internalSlots.pattern = pattern;\n    internalSlots.rangePatterns = rangePatterns;\n    return dtf;\n}\n","/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * https://tc39.es/ecma402/#sec-iswellformedcurrencycode\n */\nexport function IsWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { invariant } from '../utils';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexport function CanonicalCodeForDisplayNames(type, code) {\n    if (type === 'language') {\n        return CanonicalizeLocaleList([code])[0];\n    }\n    if (type === 'region') {\n        if (!isUnicodeRegionSubtag(code)) {\n            throw RangeError('invalid region');\n        }\n        return code.toUpperCase();\n    }\n    if (type === 'script') {\n        if (!isUnicodeScriptSubtag(code)) {\n            throw RangeError('invalid script');\n        }\n        return \"\" + code[0].toUpperCase() + code.slice(1).toLowerCase();\n    }\n    invariant(type === 'currency', 'invalid type');\n    if (!IsWellFormedCurrencyCode(code)) {\n        throw RangeError('invalid currency');\n    }\n    return code.toUpperCase();\n}\n","/**\n * https://tc39.es/ecma402/#sec-getoptionsobject\n * @param options\n * @returns\n */\nexport function GetOptionsObject(options) {\n    if (typeof options === 'undefined') {\n        return Object.create(null);\n    }\n    if (typeof options === 'object') {\n        return options;\n    }\n    throw new TypeError('Options must be an object');\n}\n","/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SANCTIONED_UNITS = [\n    'angle-degree',\n    'area-acre',\n    'area-hectare',\n    'concentr-percent',\n    'digital-bit',\n    'digital-byte',\n    'digital-gigabit',\n    'digital-gigabyte',\n    'digital-kilobit',\n    'digital-kilobyte',\n    'digital-megabit',\n    'digital-megabyte',\n    'digital-petabyte',\n    'digital-terabit',\n    'digital-terabyte',\n    'duration-day',\n    'duration-hour',\n    'duration-millisecond',\n    'duration-minute',\n    'duration-month',\n    'duration-second',\n    'duration-week',\n    'duration-year',\n    'length-centimeter',\n    'length-foot',\n    'length-inch',\n    'length-kilometer',\n    'length-meter',\n    'length-mile-scandinavian',\n    'length-mile',\n    'length-millimeter',\n    'length-yard',\n    'mass-gram',\n    'mass-kilogram',\n    'mass-ounce',\n    'mass-pound',\n    'mass-stone',\n    'temperature-celsius',\n    'temperature-fahrenheit',\n    'volume-fluid-ounce',\n    'volume-gallon',\n    'volume-liter',\n    'volume-milliliter',\n];\n// In CLDR, the unit name always follows the form `namespace-unit` pattern.\n// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.\nexport function removeUnitNamespace(unit) {\n    return unit.slice(unit.indexOf('-') + 1);\n}\n/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SIMPLE_UNITS = SANCTIONED_UNITS.map(removeUnitNamespace);\n/**\n * https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier\n */\nexport function IsSanctionedSimpleUnitIdentifier(unitIdentifier) {\n    return SIMPLE_UNITS.indexOf(unitIdentifier) > -1;\n}\n","import { IsSanctionedSimpleUnitIdentifier } from './IsSanctionedSimpleUnitIdentifier';\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toLowerCase(str) {\n    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });\n}\n/**\n * https://tc39.es/ecma402/#sec-iswellformedunitidentifier\n * @param unit\n */\nexport function IsWellFormedUnitIdentifier(unit) {\n    unit = toLowerCase(unit);\n    if (IsSanctionedSimpleUnitIdentifier(unit)) {\n        return true;\n    }\n    var units = unit.split('-per-');\n    if (units.length !== 2) {\n        return false;\n    }\n    var numerator = units[0], denominator = units[1];\n    if (!IsSanctionedSimpleUnitIdentifier(numerator) ||\n        !IsSanctionedSimpleUnitIdentifier(denominator)) {\n        return false;\n    }\n    return true;\n}\n","/**\n * The abstract operation ComputeExponentForMagnitude computes an exponent by which to scale a\n * number of the given magnitude (power of ten of the most significant digit) according to the\n * locale and the desired notation (scientific, engineering, or compact).\n */\nexport function ComputeExponentForMagnitude(numberFormat, magnitude, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var notation = internalSlots.notation, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    switch (notation) {\n        case 'standard':\n            return 0;\n        case 'scientific':\n            return magnitude;\n        case 'engineering':\n            return Math.floor(magnitude / 3) * 3;\n        default: {\n            // Let exponent be an implementation- and locale-dependent (ILD) integer by which to scale a\n            // number of the given magnitude in compact notation for the current locale.\n            var compactDisplay = internalSlots.compactDisplay, style = internalSlots.style, currencyDisplay = internalSlots.currencyDisplay;\n            var thresholdMap = void 0;\n            if (style === 'currency' && currencyDisplay !== 'name') {\n                var currency = dataLocaleData.numbers.currency[numberingSystem] ||\n                    dataLocaleData.numbers.currency[dataLocaleData.numbers.nu[0]];\n                thresholdMap = currency.short;\n            }\n            else {\n                var decimal = dataLocaleData.numbers.decimal[numberingSystem] ||\n                    dataLocaleData.numbers.decimal[dataLocaleData.numbers.nu[0]];\n                thresholdMap = compactDisplay === 'long' ? decimal.long : decimal.short;\n            }\n            if (!thresholdMap) {\n                return 0;\n            }\n            var num = String(Math.pow(10, magnitude));\n            var thresholds = Object.keys(thresholdMap); // TODO: this can be pre-processed\n            if (num < thresholds[0]) {\n                return 0;\n            }\n            if (num > thresholds[thresholds.length - 1]) {\n                return thresholds[thresholds.length - 1].length - 1;\n            }\n            var i = thresholds.indexOf(num);\n            if (i === -1) {\n                return 0;\n            }\n            // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n            // Special handling if the pattern is precisely `0`.\n            var magnitudeKey = thresholds[i];\n            // TODO: do we need to handle plural here?\n            var compactPattern = thresholdMap[magnitudeKey].other;\n            if (compactPattern === '0') {\n                return 0;\n            }\n            // Example: in zh-TW, `10000000` maps to `0000`. So we need to return 8 - 4 = 4 here.\n            return (magnitudeKey.length -\n                thresholdMap[magnitudeKey].other.match(/0+/)[0].length);\n        }\n    }\n}\n","import { repeat, getMagnitude } from '../utils';\nexport function ToRawPrecision(x, minPrecision, maxPrecision) {\n    var p = maxPrecision;\n    var m;\n    var e;\n    var xFinal;\n    if (x === 0) {\n        m = repeat('0', p);\n        e = 0;\n        xFinal = 0;\n    }\n    else {\n        var xToString = x.toString();\n        // If xToString is formatted as scientific notation, the number is either very small or very\n        // large. If the precision of the formatted string is lower that requested max precision, we\n        // should still infer them from the formatted string, otherwise the formatted result might have\n        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).\n        var xToStringExponentIndex = xToString.indexOf('e');\n        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];\n        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');\n        if (xToStringExponentIndex >= 0 &&\n            xToStringMantissaWithoutDecimalPoint.length <= p) {\n            e = +xToStringExponent;\n            m =\n                xToStringMantissaWithoutDecimalPoint +\n                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);\n            xFinal = x;\n        }\n        else {\n            e = getMagnitude(x);\n            var decimalPlaceOffset = e - p + 1;\n            // n is the integer containing the required precision digits. To derive the formatted string,\n            // we will adjust its decimal place in the logic below.\n            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));\n            // The rounding caused the change of magnitude, so we should increment `e` by 1.\n            if (adjustDecimalPlace(n, p - 1) >= 10) {\n                e = e + 1;\n                // Divide n by 10 to swallow one precision.\n                n = Math.floor(n / 10);\n            }\n            m = n.toString();\n            // Equivalent of n * 10 ** (e - p + 1)\n            xFinal = adjustDecimalPlace(n, p - 1 - e);\n        }\n    }\n    var int;\n    if (e >= p - 1) {\n        m = m + repeat('0', e - p + 1);\n        int = e + 1;\n    }\n    else if (e >= 0) {\n        m = m.slice(0, e + 1) + \".\" + m.slice(e + 1);\n        int = e + 1;\n    }\n    else {\n        m = \"0.\" + repeat('0', -e - 1) + m;\n        int = 1;\n    }\n    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {\n        var cut = maxPrecision - minPrecision;\n        while (cut > 0 && m[m.length - 1] === '0') {\n            m = m.slice(0, -1);\n            cut--;\n        }\n        if (m[m.length - 1] === '.') {\n            m = m.slice(0, -1);\n        }\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.\n    function adjustDecimalPlace(x, magnitude) {\n        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);\n    }\n}\n","import { repeat } from '../utils';\n/**\n * TODO: dedup with intl-pluralrules and support BigInt\n * https://tc39.es/ecma402/#sec-torawfixed\n * @param x a finite non-negative Number or BigInt\n * @param minFraction and integer between 0 and 20\n * @param maxFraction and integer between 0 and 20\n */\nexport function ToRawFixed(x, minFraction, maxFraction) {\n    var f = maxFraction;\n    var n = Math.round(x * Math.pow(10, f));\n    var xFinal = n / Math.pow(10, f);\n    // n is a positive integer, but it is possible to be greater than 1e21.\n    // In such case we will go the slow path.\n    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n    var m;\n    if (n < 1e21) {\n        m = n.toString();\n    }\n    else {\n        m = n.toString();\n        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n        m = mantissa.replace('.', '');\n        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));\n    }\n    var int;\n    if (f !== 0) {\n        var k = m.length;\n        if (k <= f) {\n            var z = repeat('0', f + 1 - k);\n            m = z + m;\n            k = f + 1;\n        }\n        var a = m.slice(0, k - f);\n        var b = m.slice(k - f);\n        m = a + \".\" + b;\n        int = a.length;\n    }\n    else {\n        int = m.length;\n    }\n    var cut = maxFraction - minFraction;\n    while (cut > 0 && m[m.length - 1] === '0') {\n        m = m.slice(0, -1);\n        cut--;\n    }\n    if (m[m.length - 1] === '.') {\n        m = m.slice(0, -1);\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n}\n","import { SameValue } from '../262';\nimport { ToRawPrecision } from './ToRawPrecision';\nimport { repeat } from '../utils';\nimport { ToRawFixed } from './ToRawFixed';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function FormatNumericToString(intlObject, x) {\n    var isNegative = x < 0 || SameValue(x, -0);\n    if (isNegative) {\n        x = -x;\n    }\n    var result;\n    var rourndingType = intlObject.roundingType;\n    switch (rourndingType) {\n        case 'significantDigits':\n            result = ToRawPrecision(x, intlObject.minimumSignificantDigits, intlObject.maximumSignificantDigits);\n            break;\n        case 'fractionDigits':\n            result = ToRawFixed(x, intlObject.minimumFractionDigits, intlObject.maximumFractionDigits);\n            break;\n        default:\n            result = ToRawPrecision(x, 1, 2);\n            if (result.integerDigitsCount > 1) {\n                result = ToRawFixed(x, 0, 0);\n            }\n            break;\n    }\n    x = result.roundedNumber;\n    var string = result.formattedString;\n    var int = result.integerDigitsCount;\n    var minInteger = intlObject.minimumIntegerDigits;\n    if (int < minInteger) {\n        var forwardZeros = repeat('0', minInteger - int);\n        string = forwardZeros + string;\n    }\n    if (isNegative) {\n        x = -x;\n    }\n    return { roundedNumber: x, formattedString: string };\n}\n","import { getMagnitude } from '../utils';\nimport { ComputeExponentForMagnitude } from './ComputeExponentForMagnitude';\nimport { FormatNumericToString } from './FormatNumericToString';\n/**\n * The abstract operation ComputeExponent computes an exponent (power of ten) by which to scale x\n * according to the number formatting settings. It handles cases such as 999 rounding up to 1000,\n * requiring a different exponent.\n *\n * NOT IN SPEC: it returns [exponent, magnitude].\n */\nexport function ComputeExponent(numberFormat, x, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    if (x === 0) {\n        return [0, 0];\n    }\n    if (x < 0) {\n        x = -x;\n    }\n    var magnitude = getMagnitude(x);\n    var exponent = ComputeExponentForMagnitude(numberFormat, magnitude, {\n        getInternalSlots: getInternalSlots,\n    });\n    // Preserve more precision by doing multiplication when exponent is negative.\n    x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n    var formatNumberResult = FormatNumericToString(getInternalSlots(numberFormat), x);\n    if (formatNumberResult.roundedNumber === 0) {\n        return [exponent, magnitude];\n    }\n    var newMagnitude = getMagnitude(formatNumberResult.roundedNumber);\n    if (newMagnitude === magnitude - exponent) {\n        return [exponent, magnitude];\n    }\n    return [\n        ComputeExponentForMagnitude(numberFormat, magnitude + 1, {\n            getInternalSlots: getInternalSlots,\n        }),\n        magnitude + 1,\n    ];\n}\n","import { HasOwnProperty } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-currencydigits\n */\nexport function CurrencyDigits(c, _a) {\n    var currencyDigitsData = _a.currencyDigitsData;\n    return HasOwnProperty(currencyDigitsData, c)\n        ? currencyDigitsData[c]\n        : 2;\n}\n","import { ToRawFixed } from './ToRawFixed';\nimport * as digitMapping from './digit-mapping.json';\n// This is from: unicode-12.1.0/General_Category/Symbol/regex.js\n// IE11 does not support unicode flag, otherwise this is just /\\p{S}/u.\nvar S_UNICODE_REGEX = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B98-\\u2BFF\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9B\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD10-\\uDD6C\\uDD70-\\uDDAC\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED5\\uDEE0-\\uDEEC\\uDEF0-\\uDEFA\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDD00-\\uDD0B\\uDD0D-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95]/;\n// /^\\p{S}/u\nvar CARET_S_UNICODE_REGEX = new RegExp(\"^\" + S_UNICODE_REGEX.source);\n// /\\p{S}$/u\nvar S_DOLLAR_UNICODE_REGEX = new RegExp(S_UNICODE_REGEX.source + \"$\");\nvar CLDR_NUMBER_PATTERN = /[#0](?:[\\.,][#0]+)*/g;\nexport default function formatToParts(numberResult, data, pl, options) {\n    var sign = numberResult.sign, exponent = numberResult.exponent, magnitude = numberResult.magnitude;\n    var notation = options.notation, style = options.style, numberingSystem = options.numberingSystem;\n    var defaultNumberingSystem = data.numbers.nu[0];\n    // #region Part 1: partition and interpolate the CLDR number pattern.\n    // ----------------------------------------------------------\n    var compactNumberPattern = null;\n    if (notation === 'compact' && magnitude) {\n        compactNumberPattern = getCompactDisplayPattern(numberResult, pl, data, style, options.compactDisplay, options.currencyDisplay, numberingSystem);\n    }\n    // This is used multiple times\n    var nonNameCurrencyPart;\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var byCurrencyDisplay = data.currencies[options.currency];\n        if (byCurrencyDisplay) {\n            switch (options.currencyDisplay) {\n                case 'code':\n                    nonNameCurrencyPart = options.currency;\n                    break;\n                case 'symbol':\n                    nonNameCurrencyPart = byCurrencyDisplay.symbol;\n                    break;\n                default:\n                    nonNameCurrencyPart = byCurrencyDisplay.narrow;\n                    break;\n            }\n        }\n        else {\n            // Fallback for unknown currency\n            nonNameCurrencyPart = options.currency;\n        }\n    }\n    var numberPattern;\n    if (!compactNumberPattern) {\n        // Note: if the style is unit, or is currency and the currency display is name,\n        // its unit parts will be interpolated in part 2. So here we can fallback to decimal.\n        if (style === 'decimal' ||\n            style === 'unit' ||\n            (style === 'currency' && options.currencyDisplay === 'name')) {\n            // Shortcut for decimal\n            var decimalData = data.numbers.decimal[numberingSystem] ||\n                data.numbers.decimal[defaultNumberingSystem];\n            numberPattern = getPatternForSign(decimalData.standard, sign);\n        }\n        else if (style === 'currency') {\n            var currencyData = data.numbers.currency[numberingSystem] ||\n                data.numbers.currency[defaultNumberingSystem];\n            // We replace number pattern part with `0` for easier postprocessing.\n            numberPattern = getPatternForSign(currencyData[options.currencySign], sign);\n        }\n        else {\n            // percent\n            var percentPattern = data.numbers.percent[numberingSystem] ||\n                data.numbers.percent[defaultNumberingSystem];\n            numberPattern = getPatternForSign(percentPattern, sign);\n        }\n    }\n    else {\n        numberPattern = compactNumberPattern;\n    }\n    // Extract the decimal number pattern string. It looks like \"#,##0,00\", which will later be\n    // used to infer decimal group sizes.\n    var decimalNumberPattern = CLDR_NUMBER_PATTERN.exec(numberPattern)[0];\n    // Now we start to substitute patterns\n    // 1. replace strings like `0` and `#,##0.00` with `{0}`\n    // 2. unquote characters (invariant: the quoted characters does not contain the special tokens)\n    numberPattern = numberPattern\n        .replace(CLDR_NUMBER_PATTERN, '{0}')\n        .replace(/'(.)'/g, '$1');\n    // Handle currency spacing (both compact and non-compact).\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var currencyData = data.numbers.currency[numberingSystem] ||\n            data.numbers.currency[defaultNumberingSystem];\n        // See `currencySpacing` substitution rule in TR-35.\n        // Here we always assume the currencyMatch is \"[:^S:]\" and surroundingMatch is \"[:digit:]\".\n        //\n        // Example 1: for pattern \"#,##0.00\" with symbol \"US$\", we replace \"\" with the symbol,\n        // but insert an extra non-break space before the symbol, because \"[:^S:]\" matches \"U\" in\n        // \"US$\" and \"[:digit:]\" matches the latn numbering system digits.\n        //\n        // Example 2: for pattern \"#,##0.00\" with symbol \"US$\", there is no spacing between symbol\n        // and number, because `$` does not match \"[:^S:]\".\n        //\n        // Implementation note: here we do the best effort to infer the insertion.\n        // We also assume that `beforeInsertBetween` and `afterInsertBetween` will never be `;`.\n        var afterCurrency = currencyData.currencySpacing.afterInsertBetween;\n        if (afterCurrency && !S_DOLLAR_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"\\u00A4\" + afterCurrency + \"{0}\");\n        }\n        var beforeCurrency = currencyData.currencySpacing.beforeInsertBetween;\n        if (beforeCurrency && !CARET_S_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"{0}\" + beforeCurrency + \"\\u00A4\");\n        }\n    }\n    // The following tokens are special: `{0}`, ``, `%`, `-`, `+`, `{c:...}.\n    var numberPatternParts = numberPattern.split(/({c:[^}]+}|\\{0\\}|[%\\-\\+])/g);\n    var numberParts = [];\n    var symbols = data.numbers.symbols[numberingSystem] ||\n        data.numbers.symbols[defaultNumberingSystem];\n    for (var _i = 0, numberPatternParts_1 = numberPatternParts; _i < numberPatternParts_1.length; _i++) {\n        var part = numberPatternParts_1[_i];\n        if (!part) {\n            continue;\n        }\n        switch (part) {\n            case '{0}': {\n                // We only need to handle scientific and engineering notation here.\n                numberParts.push.apply(numberParts, paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, \n                // If compact number pattern exists, do not insert group separators.\n                !compactNumberPattern && options.useGrouping, decimalNumberPattern));\n                break;\n            }\n            case '-':\n                numberParts.push({ type: 'minusSign', value: symbols.minusSign });\n                break;\n            case '+':\n                numberParts.push({ type: 'plusSign', value: symbols.plusSign });\n                break;\n            case '%':\n                numberParts.push({ type: 'percentSign', value: symbols.percentSign });\n                break;\n            case '':\n                // Computed above when handling currency spacing.\n                numberParts.push({ type: 'currency', value: nonNameCurrencyPart });\n                break;\n            default:\n                if (/^\\{c:/.test(part)) {\n                    numberParts.push({\n                        type: 'compact',\n                        value: part.substring(3, part.length - 1),\n                    });\n                }\n                else {\n                    // literal\n                    numberParts.push({ type: 'literal', value: part });\n                }\n                break;\n        }\n    }\n    // #endregion\n    // #region Part 2: interpolate unit pattern if necessary.\n    // ----------------------------------------------\n    switch (style) {\n        case 'currency': {\n            // `currencyDisplay: 'name'` has similar pattern handling as units.\n            if (options.currencyDisplay === 'name') {\n                var unitPattern = (data.numbers.currency[numberingSystem] ||\n                    data.numbers.currency[defaultNumberingSystem]).unitPattern;\n                // Select plural\n                var unitName = void 0;\n                var currencyNameData = data.currencies[options.currency];\n                if (currencyNameData) {\n                    unitName = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), currencyNameData.displayName);\n                }\n                else {\n                    // Fallback for unknown currency\n                    unitName = options.currency;\n                }\n                // Do {0} and {1} substitution\n                var unitPatternParts = unitPattern.split(/(\\{[01]\\})/g);\n                var result = [];\n                for (var _a = 0, unitPatternParts_1 = unitPatternParts; _a < unitPatternParts_1.length; _a++) {\n                    var part = unitPatternParts_1[_a];\n                    switch (part) {\n                        case '{0}':\n                            result.push.apply(result, numberParts);\n                            break;\n                        case '{1}':\n                            result.push({ type: 'currency', value: unitName });\n                            break;\n                        default:\n                            if (part) {\n                                result.push({ type: 'literal', value: part });\n                            }\n                            break;\n                    }\n                }\n                return result;\n            }\n            else {\n                return numberParts;\n            }\n        }\n        case 'unit': {\n            var unit = options.unit, unitDisplay = options.unitDisplay;\n            var unitData = data.units.simple[unit];\n            var unitPattern = void 0;\n            if (unitData) {\n                // Simple unit pattern\n                unitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[unit][unitDisplay]);\n            }\n            else {\n                // See: http://unicode.org/reports/tr35/tr35-general.html#perUnitPatterns\n                // If cannot find unit in the simple pattern, it must be \"per\" compound pattern.\n                // Implementation note: we are not following TR-35 here because we need to format to parts!\n                var _b = unit.split('-per-'), numeratorUnit = _b[0], denominatorUnit = _b[1];\n                unitData = data.units.simple[numeratorUnit];\n                var numeratorUnitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[numeratorUnit][unitDisplay]);\n                var perUnitPattern = data.units.simple[denominatorUnit].perUnit[unitDisplay];\n                if (perUnitPattern) {\n                    // perUnitPattern exists, combine it with numeratorUnitPattern\n                    unitPattern = perUnitPattern.replace('{0}', numeratorUnitPattern);\n                }\n                else {\n                    // get compoundUnit pattern (e.g. \"{0} per {1}\"), repalce {0} with numerator pattern and {1} with\n                    // the denominator pattern in singular form.\n                    var perPattern = data.units.compound.per[unitDisplay];\n                    var denominatorPattern = selectPlural(pl, 1, data.units.simple[denominatorUnit][unitDisplay]);\n                    unitPattern = unitPattern = perPattern\n                        .replace('{0}', numeratorUnitPattern)\n                        .replace('{1}', denominatorPattern.replace('{0}', ''));\n                }\n            }\n            var result = [];\n            // We need spacing around \"{0}\" because they are not treated as \"unit\" parts, but \"literal\".\n            for (var _c = 0, _d = unitPattern.split(/(\\s*\\{0\\}\\s*)/); _c < _d.length; _c++) {\n                var part = _d[_c];\n                var interpolateMatch = /^(\\s*)\\{0\\}(\\s*)$/.exec(part);\n                if (interpolateMatch) {\n                    // Space before \"{0}\"\n                    if (interpolateMatch[1]) {\n                        result.push({ type: 'literal', value: interpolateMatch[1] });\n                    }\n                    // \"{0}\" itself\n                    result.push.apply(result, numberParts);\n                    // Space after \"{0}\"\n                    if (interpolateMatch[2]) {\n                        result.push({ type: 'literal', value: interpolateMatch[2] });\n                    }\n                }\n                else if (part) {\n                    result.push({ type: 'unit', value: part });\n                }\n            }\n            return result;\n        }\n        default:\n            return numberParts;\n    }\n    // #endregion\n}\n// A subset of https://tc39.es/ecma402/#sec-partitionnotationsubpattern\n// Plus the exponent parts handling.\nfunction paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, useGrouping, \n/**\n * This is the decimal number pattern without signs or symbols.\n * It is used to infer the group size when `useGrouping` is true.\n *\n * A typical value looks like \"#,##0.00\" (primary group size is 3).\n * Some locales like Hindi has secondary group size of 2 (e.g. \"#,##,##0.00\").\n */\ndecimalNumberPattern) {\n    var result = [];\n    // eslint-disable-next-line prefer-const\n    var n = numberResult.formattedString, x = numberResult.roundedNumber;\n    if (isNaN(x)) {\n        return [{ type: 'nan', value: n }];\n    }\n    else if (!isFinite(x)) {\n        return [{ type: 'infinity', value: n }];\n    }\n    var digitReplacementTable = digitMapping[numberingSystem];\n    if (digitReplacementTable) {\n        n = n.replace(/\\d/g, function (digit) { return digitReplacementTable[+digit] || digit; });\n    }\n    // TODO: Else use an implementation dependent algorithm to map n to the appropriate\n    // representation of n in the given numbering system.\n    var decimalSepIndex = n.indexOf('.');\n    var integer;\n    var fraction;\n    if (decimalSepIndex > 0) {\n        integer = n.slice(0, decimalSepIndex);\n        fraction = n.slice(decimalSepIndex + 1);\n    }\n    else {\n        integer = n;\n    }\n    // #region Grouping integer digits\n    // The weird compact and x >= 10000 check is to ensure consistency with Node.js and Chrome.\n    // Note that `de` does not have compact form for thousands, but Node.js does not insert grouping separator\n    // unless the rounded number is greater than 10000:\n    //   NumberFormat('de', {notation: 'compact', compactDisplay: 'short'}).format(1234) //=> \"1234\"\n    //   NumberFormat('de').format(1234) //=> \"1.234\"\n    if (useGrouping && (notation !== 'compact' || x >= 10000)) {\n        var groupSepSymbol = symbols.group;\n        var groups = [];\n        // > There may be two different grouping sizes: The primary grouping size used for the least\n        // > significant integer group, and the secondary grouping size used for more significant groups.\n        // > If a pattern contains multiple grouping separators, the interval between the last one and the\n        // > end of the integer defines the primary grouping size, and the interval between the last two\n        // > defines the secondary grouping size. All others are ignored.\n        var integerNumberPattern = decimalNumberPattern.split('.')[0];\n        var patternGroups = integerNumberPattern.split(',');\n        var primaryGroupingSize = 3;\n        var secondaryGroupingSize = 3;\n        if (patternGroups.length > 1) {\n            primaryGroupingSize = patternGroups[patternGroups.length - 1].length;\n        }\n        if (patternGroups.length > 2) {\n            secondaryGroupingSize = patternGroups[patternGroups.length - 2].length;\n        }\n        var i = integer.length - primaryGroupingSize;\n        if (i > 0) {\n            // Slice the least significant integer group\n            groups.push(integer.slice(i, i + primaryGroupingSize));\n            // Then iteratively push the more signicant groups\n            // TODO: handle surrogate pairs in some numbering system digits\n            for (i -= secondaryGroupingSize; i > 0; i -= secondaryGroupingSize) {\n                groups.push(integer.slice(i, i + secondaryGroupingSize));\n            }\n            groups.push(integer.slice(0, i + secondaryGroupingSize));\n        }\n        else {\n            groups.push(integer);\n        }\n        while (groups.length > 0) {\n            var integerGroup = groups.pop();\n            result.push({ type: 'integer', value: integerGroup });\n            if (groups.length > 0) {\n                result.push({ type: 'group', value: groupSepSymbol });\n            }\n        }\n    }\n    else {\n        result.push({ type: 'integer', value: integer });\n    }\n    // #endregion\n    if (fraction !== undefined) {\n        result.push({ type: 'decimal', value: symbols.decimal }, { type: 'fraction', value: fraction });\n    }\n    if ((notation === 'scientific' || notation === 'engineering') &&\n        isFinite(x)) {\n        result.push({ type: 'exponentSeparator', value: symbols.exponential });\n        if (exponent < 0) {\n            result.push({ type: 'exponentMinusSign', value: symbols.minusSign });\n            exponent = -exponent;\n        }\n        var exponentResult = ToRawFixed(exponent, 0, 0);\n        result.push({\n            type: 'exponentInteger',\n            value: exponentResult.formattedString,\n        });\n    }\n    return result;\n}\nfunction getPatternForSign(pattern, sign) {\n    if (pattern.indexOf(';') < 0) {\n        pattern = pattern + \";-\" + pattern;\n    }\n    var _a = pattern.split(';'), zeroPattern = _a[0], negativePattern = _a[1];\n    switch (sign) {\n        case 0:\n            return zeroPattern;\n        case -1:\n            return negativePattern;\n        default:\n            return negativePattern.indexOf('-') >= 0\n                ? negativePattern.replace(/-/g, '+')\n                : \"+\" + zeroPattern;\n    }\n}\n// Find the CLDR pattern for compact notation based on the magnitude of data and style.\n//\n// Example return value: \"{c:laki}000;{c:laki}-0\" (`sw` locale):\n// - Notice the `{c:...}` token that wraps the compact literal.\n// - The consecutive zeros are normalized to single zero to match CLDR_NUMBER_PATTERN.\n//\n// Returning null means the compact display pattern cannot be found.\nfunction getCompactDisplayPattern(numberResult, pl, data, style, compactDisplay, currencyDisplay, numberingSystem) {\n    var _a;\n    var roundedNumber = numberResult.roundedNumber, sign = numberResult.sign, magnitude = numberResult.magnitude;\n    var magnitudeKey = String(Math.pow(10, magnitude));\n    var defaultNumberingSystem = data.numbers.nu[0];\n    var pattern;\n    if (style === 'currency' && currencyDisplay !== 'name') {\n        var byNumberingSystem = data.numbers.currency;\n        var currencyData = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        // NOTE: compact notation ignores currencySign!\n        var compactPluralRules = (_a = currencyData.short) === null || _a === void 0 ? void 0 : _a[magnitudeKey];\n        if (!compactPluralRules) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPluralRules);\n    }\n    else {\n        var byNumberingSystem = data.numbers.decimal;\n        var byCompactDisplay = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        var compactPlaralRule = byCompactDisplay[compactDisplay][magnitudeKey];\n        if (!compactPlaralRule) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPlaralRule);\n    }\n    // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n    // > If the value is precisely 0, either explicit or defaulted, then the normal number format\n    // > pattern for that sort of object is supplied.\n    if (pattern === '0') {\n        return null;\n    }\n    pattern = getPatternForSign(pattern, sign)\n        // Extract compact literal from the pattern\n        .replace(/([^\\s;\\-\\+\\d]+)/g, '{c:$1}')\n        // We replace one or more zeros with a single zero so it matches `CLDR_NUMBER_PATTERN`.\n        .replace(/0+/, '0');\n    return pattern;\n}\nfunction selectPlural(pl, x, rules) {\n    return rules[pl.select(x)] || rules.other;\n}\n","import { FormatNumericToString } from './FormatNumericToString';\nimport { SameValue } from '../262';\nimport { ComputeExponent } from './ComputeExponent';\nimport formatToParts from './format_to_parts';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function PartitionNumberPattern(numberFormat, x, _a) {\n    var _b;\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var pl = internalSlots.pl, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    var symbols = dataLocaleData.numbers.symbols[numberingSystem] ||\n        dataLocaleData.numbers.symbols[dataLocaleData.numbers.nu[0]];\n    var magnitude = 0;\n    var exponent = 0;\n    var n;\n    if (isNaN(x)) {\n        n = symbols.nan;\n    }\n    else if (!isFinite(x)) {\n        n = symbols.infinity;\n    }\n    else {\n        if (internalSlots.style === 'percent') {\n            x *= 100;\n        }\n        ;\n        _b = ComputeExponent(numberFormat, x, {\n            getInternalSlots: getInternalSlots,\n        }), exponent = _b[0], magnitude = _b[1];\n        // Preserve more precision by doing multiplication when exponent is negative.\n        x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n        var formatNumberResult = FormatNumericToString(internalSlots, x);\n        n = formatNumberResult.formattedString;\n        x = formatNumberResult.roundedNumber;\n    }\n    // Based on https://tc39.es/ecma402/#sec-getnumberformatpattern\n    // We need to do this before `x` is rounded.\n    var sign;\n    var signDisplay = internalSlots.signDisplay;\n    switch (signDisplay) {\n        case 'never':\n            sign = 0;\n            break;\n        case 'auto':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        case 'always':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        default:\n            // x === 0 -> x is 0 or x is -0\n            if (x === 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else if (x > 0) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n    }\n    return formatToParts({ roundedNumber: x, formattedString: n, exponent: exponent, magnitude: magnitude, sign: sign }, internalSlots.dataLocaleData, pl, internalSlots);\n}\n","import { PartitionNumberPattern } from './PartitionNumberPattern';\nimport { ArrayCreate } from '../262';\nexport function FormatNumericToParts(nf, x, implDetails) {\n    var parts = PartitionNumberPattern(nf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { GetOption } from '../GetOption';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nimport { IsWellFormedUnitIdentifier } from '../IsWellFormedUnitIdentifier';\n/**\n * https://tc39.es/ecma402/#sec-setnumberformatunitoptions\n */\nexport function SetNumberFormatUnitOptions(nf, options, _a) {\n    if (options === void 0) { options = Object.create(null); }\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(nf);\n    var style = GetOption(options, 'style', 'string', ['decimal', 'percent', 'currency', 'unit'], 'decimal');\n    internalSlots.style = style;\n    var currency = GetOption(options, 'currency', 'string', undefined, undefined);\n    if (currency !== undefined && !IsWellFormedCurrencyCode(currency)) {\n        throw RangeError('Malformed currency code');\n    }\n    if (style === 'currency' && currency === undefined) {\n        throw TypeError('currency cannot be undefined');\n    }\n    var currencyDisplay = GetOption(options, 'currencyDisplay', 'string', ['code', 'symbol', 'narrowSymbol', 'name'], 'symbol');\n    var currencySign = GetOption(options, 'currencySign', 'string', ['standard', 'accounting'], 'standard');\n    var unit = GetOption(options, 'unit', 'string', undefined, undefined);\n    if (unit !== undefined && !IsWellFormedUnitIdentifier(unit)) {\n        throw RangeError('Invalid unit argument for Intl.NumberFormat()');\n    }\n    if (style === 'unit' && unit === undefined) {\n        throw TypeError('unit cannot be undefined');\n    }\n    var unitDisplay = GetOption(options, 'unitDisplay', 'string', ['short', 'narrow', 'long'], 'short');\n    if (style === 'currency') {\n        internalSlots.currency = currency.toUpperCase();\n        internalSlots.currencyDisplay = currencyDisplay;\n        internalSlots.currencySign = currencySign;\n    }\n    if (style === 'unit') {\n        internalSlots.unit = unit;\n        internalSlots.unitDisplay = unitDisplay;\n    }\n}\n","import { GetNumberOption } from '../GetNumberOption';\nimport { DefaultNumberOption } from '../DefaultNumberOption';\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n */\nexport function SetNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {\n    var mnid = GetNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    internalSlots.minimumIntegerDigits = mnid;\n    if (mnsd !== undefined || mxsd !== undefined) {\n        internalSlots.roundingType = 'significantDigits';\n        mnsd = DefaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = DefaultNumberOption(mxsd, mnsd, 21, 21);\n        internalSlots.minimumSignificantDigits = mnsd;\n        internalSlots.maximumSignificantDigits = mxsd;\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        internalSlots.roundingType = 'fractionDigits';\n        mnfd = DefaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = DefaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        internalSlots.minimumFractionDigits = mnfd;\n        internalSlots.maximumFractionDigits = mxfd;\n    }\n    else if (notation === 'compact') {\n        internalSlots.roundingType = 'compactRounding';\n    }\n    else {\n        internalSlots.roundingType = 'fractionDigits';\n        internalSlots.minimumFractionDigits = mnfdDefault;\n        internalSlots.maximumFractionDigits = mxfdDefault;\n    }\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { SetNumberFormatUnitOptions } from './SetNumberFormatUnitOptions';\nimport { CurrencyDigits } from './CurrencyDigits';\nimport { SetNumberFormatDigitOptions } from './SetNumberFormatDigitOptions';\nimport { invariant } from '../utils';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\n/**\n * https://tc39.es/ecma402/#sec-initializenumberformat\n */\nexport function InitializeNumberFormat(nf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, availableLocales = _a.availableLocales, numberingSystemNames = _a.numberingSystemNames, getDefaultLocale = _a.getDefaultLocale, currencyDigitsData = _a.currencyDigitsData;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = CoerceOptionsToObject(opts);\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined &&\n        numberingSystemNames.indexOf(numberingSystem) < 0) {\n        // 8.a. If numberingSystem does not match the Unicode Locale Identifier type nonterminal,\n        // throw a RangeError exception.\n        throw RangeError(\"Invalid numberingSystems: \" + numberingSystem);\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, \n    // [[RelevantExtensionKeys]] slot, which is a constant\n    ['nu'], localeData, getDefaultLocale);\n    var dataLocaleData = localeData[r.dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + r.dataLocale);\n    var internalSlots = getInternalSlots(nf);\n    internalSlots.locale = r.locale;\n    internalSlots.dataLocale = r.dataLocale;\n    internalSlots.numberingSystem = r.nu;\n    internalSlots.dataLocaleData = dataLocaleData;\n    SetNumberFormatUnitOptions(nf, options, { getInternalSlots: getInternalSlots });\n    var style = internalSlots.style;\n    var mnfdDefault;\n    var mxfdDefault;\n    if (style === 'currency') {\n        var currency = internalSlots.currency;\n        var cDigits = CurrencyDigits(currency, { currencyDigitsData: currencyDigitsData });\n        mnfdDefault = cDigits;\n        mxfdDefault = cDigits;\n    }\n    else {\n        mnfdDefault = 0;\n        mxfdDefault = style === 'percent' ? 0 : 3;\n    }\n    var notation = GetOption(options, 'notation', 'string', ['standard', 'scientific', 'engineering', 'compact'], 'standard');\n    internalSlots.notation = notation;\n    SetNumberFormatDigitOptions(internalSlots, options, mnfdDefault, mxfdDefault, notation);\n    var compactDisplay = GetOption(options, 'compactDisplay', 'string', ['short', 'long'], 'short');\n    if (notation === 'compact') {\n        internalSlots.compactDisplay = compactDisplay;\n    }\n    var useGrouping = GetOption(options, 'useGrouping', 'boolean', undefined, true);\n    internalSlots.useGrouping = useGrouping;\n    var signDisplay = GetOption(options, 'signDisplay', 'string', ['auto', 'never', 'always', 'exceptZero'], 'auto');\n    internalSlots.signDisplay = signDisplay;\n    return nf;\n}\n","import { invariant } from '../utils';\nimport { ToNumber } from '../262';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-getoperands\n * @param s\n */\nexport function GetOperands(s) {\n    invariant(typeof s === 'string', \"GetOperands should have been called with a string\");\n    var n = ToNumber(s);\n    invariant(isFinite(n), 'n should be finite');\n    var dp = s.indexOf('.');\n    var iv;\n    var f;\n    var v;\n    var fv = '';\n    if (dp === -1) {\n        iv = n;\n        f = 0;\n        v = 0;\n    }\n    else {\n        iv = s.slice(0, dp);\n        fv = s.slice(dp, s.length);\n        f = ToNumber(fv);\n        v = fv.length;\n    }\n    var i = Math.abs(ToNumber(iv));\n    var w;\n    var t;\n    if (f !== 0) {\n        var ft = fv.replace(/0+$/, '');\n        w = ft.length;\n        t = ToNumber(ft);\n    }\n    else {\n        w = 0;\n        t = 0;\n    }\n    return {\n        Number: n,\n        IntegerDigits: i,\n        NumberOfFractionDigits: v,\n        NumberOfFractionDigitsWithoutTrailing: w,\n        FractionDigits: f,\n        FractionDigitsWithoutTrailing: t,\n    };\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { SetNumberFormatDigitOptions } from '../NumberFormat/SetNumberFormatDigitOptions';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\nexport function InitializePluralRules(pl, locales, options, _a) {\n    var availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getInternalSlots = _a.getInternalSlots;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = CoerceOptionsToObject(options);\n    var internalSlots = getInternalSlots(pl);\n    internalSlots.initializedPluralRules = true;\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    internalSlots.type = GetOption(opts, 'type', 'string', ['cardinal', 'ordinal'], 'cardinal');\n    SetNumberFormatDigitOptions(internalSlots, opts, 0, 3, 'standard');\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    return pl;\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\nimport { FormatNumericToString } from '../NumberFormat/FormatNumericToString';\nimport { GetOperands } from './GetOperands';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-resolveplural\n * @param pl\n * @param n\n * @param PluralRuleSelect Has to pass in bc it's implementation-specific\n */\nexport function ResolvePlural(pl, n, _a) {\n    var getInternalSlots = _a.getInternalSlots, PluralRuleSelect = _a.PluralRuleSelect;\n    var internalSlots = getInternalSlots(pl);\n    invariant(Type(internalSlots) === 'Object', 'pl has to be an object');\n    invariant('initializedPluralRules' in internalSlots, 'pluralrules must be initialized');\n    invariant(Type(n) === 'Number', 'n must be a number');\n    if (!isFinite(n)) {\n        return 'other';\n    }\n    var locale = internalSlots.locale, type = internalSlots.type;\n    var res = FormatNumericToString(internalSlots, n);\n    var s = res.formattedString;\n    var operands = GetOperands(s);\n    return PluralRuleSelect(locale, type, n, operands);\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nexport function SingularRelativeTimeUnit(unit) {\n    invariant(Type(unit) === 'String', 'unit must be a string');\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError('invalid unit');\n    }\n    return unit;\n}\n","import { PartitionPattern } from '../PartitionPattern';\nimport { invariant } from '../utils';\nexport function MakePartsList(pattern, unit, parts) {\n    var patternParts = PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        if (patternPart.type === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n            for (var _a = 0, parts_1 = parts; _a < parts_1.length; _a++) {\n                var part = parts_1[_a];\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n    }\n    return result;\n}\n","import { invariant } from '../utils';\nimport { SingularRelativeTimeUnit } from './SingularRelativeTimeUnit';\nimport { MakePartsList } from './MakePartsList';\nimport { ToString, Type, SameValue } from '../262';\nexport function PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    invariant(Type(value) === 'Number', \"value must be number, instead got \" + typeof value, TypeError);\n    invariant(Type(unit) === 'String', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = SingularRelativeTimeUnit(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = resolvedUnit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = resolvedUnit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if (ToString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[ToString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (SameValue(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return MakePartsList(pattern, resolvedUnit, fv);\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nexport function FormatRelativeTime(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nimport { ArrayCreate } from '../262';\nexport function FormatRelativeTimeToParts(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        var o = {\n            type: part.type,\n            value: part.value,\n        };\n        if ('unit' in part) {\n            o.unit = part.unit;\n        }\n        result.push(o);\n    }\n    return result;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = CoerceOptionsToObject(options);\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(opts, \n    // @ts-expect-error TS option is wack\n    'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\n","import { __extends } from \"tslib\";\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\n","import { ToObject } from './262';\nimport { GetOption } from './GetOption';\nimport { LookupSupportedLocales } from './LookupSupportedLocales';\n/**\n * https://tc39.es/ecma402/#sec-supportedlocales\n * @param availableLocales\n * @param requestedLocales\n * @param options\n */\nexport function SupportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = ToObject(options);\n        matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return LookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return LookupSupportedLocales(availableLocales, requestedLocales);\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupsupportedlocales\n * @param availableLocales\n * @param requestedLocales\n */\nexport function LookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _1 = tslib_1.__importDefault(require(\"./\"));\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'RelativeTimeFormat', {\n        value: _1.default,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction shouldPolyfill() {\n    return typeof Intl === 'undefined' || !('RelativeTimeFormat' in Intl);\n}\nexports.shouldPolyfill = shouldPolyfill;\n","// Primary language tags for those languages we support\nexport const AVAILABLE_LOCALES = {\n  en: \"English\",\n  \"zh-cn\": \"\",\n  pt: \"Portugs (Brasil)\",\n  ja: \"\",\n  es: \"Espaol\",\n  ru: \"P\",\n  fr: \"Franais\",\n  ko: \"\",\n  de: \"Deutsch\",\n  \"zh-tw\": \"\"\n};\n\n// Map from alternative primary language tags to those we support\nexport const FALLBACK_LOCALES = {\n  jp: \"ja\"\n};\n","import configs from \"./configs\";\nimport { AVAILABLE_LOCALES, FALLBACK_LOCALES } from \"../assets/locales/locale_config\";\n\n// These are set in the admin panel and are only included as fallbacks.\nconst defaultLocaleData = {\n  \"app-name\": \"App\",\n  \"editor-name\": \"Scene Editor\",\n  \"contact-email\": \"info@istudyonline.com.au\",\n  \"company-name\": \"Company\",\n  \"share-hashtag\": \"#app\",\n  \"app-description\": \"Gather share and collaborate together in a virtual, private and safe space\",\n  \"app-tagline\": \"Private social VR in your web browser\"\n};\n\nconst DEFAULT_LOCALE = \"en\";\nconst cachedMessages = new Map();\n\nlet _locale = DEFAULT_LOCALE;\nlet _localeData = defaultLocaleData;\n\nfunction findLocale(locale) {\n  const locales = (() => {\n    if (navigator.languages) {\n      return [...navigator.languages];\n    }\n    if (navigator.language) {\n      return [navigator.language];\n    }\n    if (navigator.userLanguage) {\n      return [navigator.userLanguage];\n    }\n  })();\n\n  if (locale && locale !== \"browser\") {\n    locales.unshift(locale);\n  }\n\n  for (let i = 0; i < locales.length; i++) {\n    const curLocale = locales[i];\n    if (Object.prototype.hasOwnProperty.call(AVAILABLE_LOCALES, curLocale)) {\n      return curLocale;\n    }\n    if (Object.prototype.hasOwnProperty.call(FALLBACK_LOCALES, curLocale)) {\n      Object.prototype.hasOwnProperty.call(FALLBACK_LOCALES, curLocale);\n    }\n    // Also check the primary language subtag in case\n    // we do not have an entry for full tag\n    // See https://en.wikipedia.org/wiki/IETF_language_tag#Syntax_of_language_tags\n    // and https://github.com/mozilla/hubs/pull/3350/files#diff-70ef5717d3da03ef288e8d15c2fda32c5237d7f37074421496f22403e4475bf1R16\n    const primaryLanguageSubtag = curLocale.split(\"-\")[0].toLowerCase();\n    if (Object.prototype.hasOwnProperty.call(AVAILABLE_LOCALES, primaryLanguageSubtag)) {\n      return primaryLanguageSubtag;\n    }\n    if (Object.prototype.hasOwnProperty.call(FALLBACK_LOCALES, primaryLanguageSubtag)) {\n      return FALLBACK_LOCALES[primaryLanguageSubtag];\n    }\n  }\n  return DEFAULT_LOCALE;\n}\n\nexport function setLocale(locale) {\n  const resolvedLocale = findLocale(locale);\n\n  if (resolvedLocale === DEFAULT_LOCALE) {\n    _locale = resolvedLocale;\n    _localeData = defaultLocaleData;\n    window.dispatchEvent(new CustomEvent(\"locale-updated\"));\n  } else {\n    if (cachedMessages.has(resolvedLocale)) {\n      _locale = resolvedLocale;\n      window.dispatchEvent(new CustomEvent(\"locale-updated\"));\n    } else {\n      import(`../assets/locales/${resolvedLocale}.json`).then(({ default: localeData }) => {\n        _locale = resolvedLocale;\n        _localeData = { ...defaultLocaleData, ...localeData };\n        window.dispatchEvent(new CustomEvent(\"locale-updated\"));\n      });\n    }\n  }\n}\n\nconst interval = window.setInterval(() => {\n  if (window.APP && window.APP.store) {\n    window.clearInterval(interval);\n    setLocale(window.APP.store.state.preferences.locale);\n    window.APP.store.addEventListener(\"statechanged\", () => {\n      setLocale(window.APP.store.state.preferences.locale);\n    });\n  }\n}, 100);\n\nexport const getLocale = () => {\n  return _locale;\n};\n\nexport const getMessage = key => {\n  return _localeData[key];\n};\n\n// TODO: This should be removed, lets not inject app config data up front but rather via variables so that defaultMessage works properly.\nexport const getMessages = () => {\n  if (cachedMessages.has(_locale)) {\n    return cachedMessages.get(_locale);\n  }\n\n  // Swap in translations specified via the admin panel\n  if (configs.APP_CONFIG && configs.APP_CONFIG.translations && configs.APP_CONFIG.translations[_locale]) {\n    const configTranslations = configs.APP_CONFIG.translations[_locale];\n    for (const messageKey in configTranslations) {\n      if (!Object.prototype.hasOwnProperty.call(configTranslations, messageKey)) continue;\n      if (!configTranslations[messageKey]) continue;\n      _localeData[messageKey] = configTranslations[messageKey];\n    }\n  }\n\n  const entries = [];\n  for (const key in _localeData) {\n    if (!Object.prototype.hasOwnProperty.call(_localeData, key)) continue;\n    entries.push([key, _localeData[key]]);\n  }\n\n  const messages = entries\n    .map(([key, message]) => [\n      key,\n      // Replace nested message keys (e.g. %app-name%) with their messages.\n      message.replace(/%([\\w-.]+)%/i, (_match, subkey) => _localeData[subkey])\n    ])\n    .reduce((acc, entry) => {\n      acc[entry[0]] = entry[1];\n      return acc;\n    }, {});\n\n  cachedMessages.set(_locale, messages);\n  return messages;\n};\n","import appLogo from \"../assets/images/app-logo.png\";\nimport appLogoDark from \"../assets/images/app-logo-dark.png\";\nimport companyLogo from \"../assets/images/company-logo.png\";\nimport homeHeroBackground from \"../assets/images/home-hero-background-unbranded.png\";\nimport sceneEditorLogo from \"../assets/images/editor-logo.png\";\nimport { getLocale, getMessage } from \"./i18n\";\n\n// Read configs from global variable if available, otherwise use the process.env injected from build.\nconst configs = {};\nlet isAdmin = false;\n[\n  \"RETICULUM_SERVER\",\n  \"THUMBNAIL_SERVER\",\n  \"CORS_PROXY_SERVER\",\n  \"NON_CORS_PROXY_DOMAINS\",\n  \"SENTRY_DSN\",\n  \"GA_TRACKING_ID\",\n  \"SHORTLINK_DOMAIN\",\n  \"BASE_ASSETS_PATH\",\n  \"UPLOADS_HOST\"\n].forEach(x => {\n  const el = document.querySelector(`meta[name='env:${x.toLowerCase()}']`);\n  configs[x] = el ? el.getAttribute(\"content\") : process.env[x];\n\n  const BASE_ASSETS_PATH_KEY = \"BASE_ASSETS_PATH\";\n  if (x === BASE_ASSETS_PATH_KEY && configs[BASE_ASSETS_PATH_KEY]) {\n    // BASE_ASSETS_PATH might be a relative URL like \"/\" when it is set in\n    // .env or .defaults.env when running locally. We need to convert that\n    // to an absolute URL.\n    if (!configs[BASE_ASSETS_PATH_KEY].startsWith(\"http\")) {\n      configs[BASE_ASSETS_PATH_KEY] = new URL(configs[BASE_ASSETS_PATH_KEY], window.location).toString();\n    }\n\n    // eslint-disable-next-line no-undef\n    __webpack_public_path__ = configs[BASE_ASSETS_PATH_KEY];\n  }\n});\n\n// Custom clients do not use <meta> tags for passing data, so if thumbnail_server meta tag exists, it is not a custom client\nconst hasThumbnailServerMetaTag = !!document.querySelector(\"meta[name='env:thumbnail_server']\");\nconfigs.IS_LOCAL_OR_CUSTOM_CLIENT = !hasThumbnailServerMetaTag;\n\n// Also include configs that reticulum injects as a script in the page head.\n\nconfigs.AVAILABLE_INTEGRATIONS = window.AVAILABLE_INTEGRATIONS || {};\n\nif (process.env.APP_CONFIG) {\n  window.APP_CONFIG = process.env.APP_CONFIG;\n}\n\nif (window.APP_CONFIG) {\n  configs.APP_CONFIG = window.APP_CONFIG;\n  const { theme } = configs.APP_CONFIG;\n  if (theme) {\n    const colorVars = [];\n    for (const key in theme) {\n      if (!Object.prototype.hasOwnProperty.call(theme, key)) continue;\n      colorVars.push(`--${key}: ${theme[key]};`);\n    }\n    const style = document.createElement(\"style\");\n    style.innerHTML = `:root{${colorVars.join(\"\\n\")}}`;\n    document.head.insertBefore(style, document.head.firstChild);\n  }\n\n  if (!configs.APP_CONFIG.features) {\n    configs.APP_CONFIG.features = {};\n  }\n} else {\n  configs.APP_CONFIG = {\n    features: {}\n  };\n}\n\nconst isLocalDevelopment = process.env.NODE_ENV === \"development\";\n\nconfigs.feature = featureName => {\n  const value = configs.APP_CONFIG && configs.APP_CONFIG.features && configs.APP_CONFIG.features[featureName];\n  if (typeof value === \"boolean\" || featureName === \"enable_spoke\") {\n    const forceEnableSpoke = featureName === \"enable_spoke\" && isAdmin;\n    return forceEnableSpoke || value;\n  } else {\n    return value;\n  }\n};\n\nlet localDevImages = {};\nif (isLocalDevelopment) {\n  localDevImages = {\n    logo: appLogo,\n    logo_dark: appLogoDark,\n    company_logo: companyLogo,\n    editor_logo: sceneEditorLogo,\n    home_background: homeHeroBackground\n  };\n}\n\nconfigs.image = (imageName, cssUrl) => {\n  const url =\n    (configs.APP_CONFIG && configs.APP_CONFIG.images && configs.APP_CONFIG.images[imageName]) ||\n    localDevImages[imageName];\n  return url && cssUrl ? `url(${url})` : url;\n};\n\nconfigs.link = (linkName, defaultValue) => {\n  return (configs.APP_CONFIG && configs.APP_CONFIG.links && configs.APP_CONFIG.links[linkName]) || defaultValue;\n};\n\nconfigs.setIsAdmin = _isAdmin => {\n  isAdmin = _isAdmin;\n};\nconfigs.isAdmin = () => isAdmin;\n\nconfigs.integration = integration => {\n  const availableIntegrations = configs.AVAILABLE_INTEGRATIONS;\n  // AVAILABLE_INTEGRATIONS has no properties defined on the dev server, but does support all integrations.\n  return (\n    !Object.prototype.hasOwnProperty.call(availableIntegrations, integration) || availableIntegrations[integration]\n  );\n};\n\nconfigs.translation = key => {\n  const locale = getLocale();\n  const translationsConfig = (configs.APP_CONFIG && configs.APP_CONFIG.translations) || {};\n\n  return (\n    (translationsConfig[locale] && translationsConfig[locale][key]) ||\n    (translationsConfig.en && translationsConfig.en[key]) ||\n    getMessage(key) ||\n    \"\"\n  );\n};\n\nexport default configs;\n","var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","const qs = new URLSearchParams(location.search);\n\nexport default function qsTruthy(param) {\n  const val = qs.get(param);\n  // if the param exists but is not set (e.g. \"?foo&bar\"), its value is the empty string.\n  return val === \"\" || /1|on|true|yes/i.test(val);\n}\n\nexport function qsGet(param) {\n  return qs.get(param);\n}\n","// from https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\nfunction detectTouchScreen() {\n  let hasTouchScreen = false;\n  if (\"maxTouchPoints\" in navigator) {\n    hasTouchScreen = navigator.maxTouchPoints > 0;\n  } else if (\"msMaxTouchPoints\" in navigator) {\n    hasTouchScreen = navigator.msMaxTouchPoints > 0;\n  } else {\n    const mQ = window.matchMedia && matchMedia(\"(pointer:coarse)\");\n    if (mQ && mQ.media === \"(pointer:coarse)\") {\n      hasTouchScreen = !!mQ.matches;\n    } else if (\"orientation\" in window) {\n      hasTouchScreen = true; // deprecated, but good fallback\n    } else {\n      // Only as a last resort, fall back to user agent sniffing\n      const UA = navigator.userAgent;\n      hasTouchScreen =\n        /\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test(UA) || /\\b(Android|Windows Phone|iPad|iPod)\\b/i.test(UA);\n    }\n  }\n  return hasTouchScreen;\n}\n\nlet hackyMobileSafariTestValue = null;\n\n// HACK for https://github.com/mozilla/hubs/issues/1813\n// Touchscreen controls depend on iPad and iPhone detection,\n// which recently regressed. For UA matching \"Macintosh\", enable\n// touchscreen controls if there exists a touchscreen.\n// We cannot always enable touchscreen controls when a touchscreen\n// is present until we fix conflicts between simultaneous mouse\n// and touchscreen interactions.\nexport function hackyMobileSafariTest() {\n  if (hackyMobileSafariTestValue === null) {\n    hackyMobileSafariTestValue = /\\b(Macintosh|iPad|iPhone)\\b/i.test(navigator.userAgent) && detectTouchScreen();\n  }\n\n  return hackyMobileSafariTestValue;\n  // e.g. Match\n  // Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.1 Safari/605.1.15\n  // but not\n  // \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36\"\n}\n","import { hackyMobileSafariTest } from \"./detect-touchscreen\";\n\nconst MOBILE_RE =\n  /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i;\nconst TABLET_RE =\n  /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;\n\nexport function isAndroid() {\n  return /Android/.test(window.navigator.userAgent);\n}\n\n// from https://stackoverflow.com/questions/57776001/how-to-detect-ipad-pro-as-ipad-using-javascript\nfunction isIpadOS() {\n  return window.navigator.maxTouchPoints && window.navigator.maxTouchPoints > 2 && /MacIntel/.test(navigator.platform);\n}\n\n// lifted from https://github.com/aframevr/aframe/blob/master/src/utils/device.js to ensure consistency\nexport function isIOS() {\n  return /iPad|iPhone|iPod/.test(window.navigator.platform) || isIpadOS();\n}\n\nfunction isTablet(mockUserAgent) {\n  const userAgent = mockUserAgent || window.navigator.userAgent;\n  return isIpadOS() || /ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(userAgent);\n}\n\nfunction isR7() {\n  return /R7 Build/.test(window.navigator.userAgent);\n}\n\nfunction isOculusBrowser() {\n  return /(OculusBrowser)/i.test(window.navigator.userAgent);\n}\n\nfunction isFirefoxReality() {\n  return /(Mobile VR)/i.test(window.navigator.userAgent);\n}\n\nexport function isMobileVR() {\n  return isOculusBrowser() || isFirefoxReality();\n}\n\nconst isMobile = (function () {\n  let _isMobile = false;\n  (function (a) {\n    // eslint-disable-next-line no-useless-escape\n    if (MOBILE_RE.test(a) || TABLET_RE.test(a.substr(0, 4))) {\n      _isMobile = true;\n    }\n    if (isIOS() || isTablet() || isR7()) {\n      _isMobile = true;\n    }\n    if (hackyMobileSafariTest()) {\n      _isMobile = true;\n    }\n    if (isMobileVR()) {\n      _isMobile = false;\n    }\n  })(window.navigator.userAgent || window.navigator.vendor || window.opera);\n\n  return function () {\n    return _isMobile;\n  };\n})();\n\nexport default isMobile;\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    if (reducer(descriptor, name, obj) !== false) {\n      reducedDescriptors[name] = descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst isStandardBrowserEnv = (() => {\n  let product;\n  if (typeof navigator !== 'undefined' && (\n    (product = navigator.product) === 'ReactNative' ||\n    product === 'NativeScript' ||\n    product === 'NS')\n  ) {\n    return false;\n  }\n\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n})();\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\n const isStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  isStandardBrowserEnv,\n  isStandardBrowserWebWorkerEnv,\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\nconst DEFAULT_CONTENT_TYPE = {\n  'Content-Type': undefined\n};\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\nutils.freezeMethods(AxiosHeaders.prototype);\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        const cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n// Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })();\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    const responseType = config.responseType;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      if (platform.isStandardBrowserEnv || platform.isStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else {\n        requestHeaders.setContentType('multipart/form-data;', false); // mobile/desktop app frameworks\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (platform.isStandardBrowserEnv) {\n      // Add xsrf header\n      const xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath))\n        && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n      if (xsrfValue) {\n        requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if(fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      if((adapter = utils.isString(nameOrAdapter) ? knownAdapters[nameOrAdapter.toLowerCase()] : nameOrAdapter)) {\n        break;\n      }\n    }\n\n    if (!adapter) {\n      if (adapter === false) {\n        throw new AxiosError(\n          `Adapter ${nameOrAdapter} is not supported by the environment`,\n          'ERR_NOT_SUPPORT'\n        );\n      }\n\n      throw new Error(\n        utils.hasOwnProp(knownAdapters, nameOrAdapter) ?\n          `Adapter '${nameOrAdapter}' is not available in the build` :\n          `Unknown adapter '${nameOrAdapter}'`\n      );\n    }\n\n    if (!utils.isFunction(adapter)) {\n      throw new TypeError('adapter is not a function');\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.4.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    let contextHeaders;\n\n    // Flatten headers\n    contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    contextHeaders && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import axios from \"axios\";\nimport CONFIG from \"../config/baseUrl\";\n\n// create an axios instance\nconst service = axios.create({\n  baseURL: CONFIG.baseUrl, // url = base url + request url\n  withCredentials: true, // send cookies when cross-domain requests\n  timeout: 3 * 60 * 1000\n});\n\nconst pending = [];\nconst CancelToken = axios.CancelToken;\n\nconst removePending = (ever) => {\n  for (const p in pending) {\n    const data = JSON.stringify(ever.data);\n    if (pending[p].u === ever.url + \"&\" + data) { // \n      pending[p].f(); // \n      pending.splice(p, 1); // \n    }\n  }\n};\n\n// request interceptor\nservice.interceptors.request.use(\n  config => {\n    // do something before request is sent\n    removePending(config); // \n    config.cancelToken = new CancelToken((c) => {\n      // &\n      pending.push({ u: config.url + \"&\" + JSON.stringify(config.data), f: c });\n    });\n    const store = window.APP.store;\n    console.log(\"store.userinfo\", store.state.userinfo)\n    if (store.state.userinfo && store.state.userinfo.token) {\n      config.headers[\"X-Auth-Token\"] = store.state.userinfo.token;\n      config.headers[\"X-Auth-Type\"] = \"app\";\n      config.headers[\"Content-Type\"] = \"application/json\";\n    }\n    return config;\n  },\n  error => {\n    // do something with request error\n    // console.log(error); // for debug\n    return Promise.reject(error);\n  }\n)\n\n// response interceptor\nservice.interceptors.response.use(\n  response => {\n    const res = response.data;\n    removePending(response.config); // pending\n    // if the custom code is not 20000, it is judged as an error.\n    if (res.code !== 200) {\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\n      if (res.code === 402) {\n        return Promise.reject(res.message);\n      }\n      return res;\n    } else {\n      return res;\n    }\n  },\n  error => {\n    if (error.constructor.name !== 'Cancel') {\n      return Promise.reject(error);\n    }\n    return Promise.reject({});\n  }\n)\n\nexport default service;\n","/**\r\n * \r\n */\r\nconst ENV = process.env.NODE_ENV\r\nconst CONFIG = (() => {\r\n\tif (ENV === \"production\") {\r\n\t\treturn {\r\n\t\t\tbaseUrl: \"/api\",\r\n\t\t}\r\n\t} else {\r\n\t\treturn {\r\n\t\t\tbaseUrl: \"/app\",\r\n\t\t}\r\n\t}\r\n})()\r\n\r\nexport default CONFIG\r\n","import { Socket } from \"phoenix\";\nimport { generateHubName } from \"../utils/name-generation\";\nimport configs from \"../utils/configs\";\nimport { sleep } from \"../utils/async-utils\";\nimport { store } from \"../utils/store-instance\";\nimport { findStore, saveClassroomId, deleteClassroomId } from \"../api/bindUrl\";\n\nexport function hasReticulumServer() {\n  return !!configs.RETICULUM_SERVER;\n}\n\nexport function isLocalClient() {\n  return hasReticulumServer() && document.location.host !== configs.RETICULUM_SERVER;\n}\n\nexport function hubUrl(hubId, extraParams, slug, waypoint) {\n  if (!hubId) {\n    if (isLocalClient()) {\n      hubId = new URLSearchParams(location.search).get(\"hub_id\");\n    } else {\n      hubId = location.pathname.split(\"/\")[1];\n    }\n  }\n\n  let url;\n  if (isLocalClient()) {\n    url = new URL(`/hub.html`, location.href);\n    url.searchParams.set(\"hub_id\", hubId);\n  } else {\n    const maybeSlug = slug ? `/${slug}` : \"\";\n    url = new URL(`/${hubId}${maybeSlug}`, location.href);\n  }\n\n  for (const key in extraParams) {\n    if (Object.prototype.hasOwnProperty.call(extraParams, key)) {\n      url.searchParams.set(key, extraParams[key]);\n    }\n  }\n\n  if (waypoint) {\n    url.hash = waypoint;\n  }\n\n  return url;\n}\n\nconst resolverLink = document.createElement(\"a\");\nlet reticulumMeta = null;\nlet invalidatedReticulumMetaThisSession = false;\n\nexport function getReticulumFetchUrl(path, absolute = false, host = null, port = null) {\n  if (host || hasReticulumServer()) {\n    return `https://${host || configs.RETICULUM_SERVER}${port ? `:${port}` : \"\"}${path}`;\n  } else if (absolute) {\n    resolverLink.href = path;\n    return resolverLink.href;\n  } else {\n    return path;\n  }\n}\n\nexport function getUploadsUrl(path, absolute = false, host = null, port = null) {\n  // If the Hubs Cloud stack is configured to use Cloudflare, we need to ignore the configured UPLOADS_HOST\n  // since reticulum will only serve uploads via the Cloudflare worker. BASE_ASSETS_PATH will have been\n  // correctly configured to use the Cloudflare worker, though we only need the hostname,\n  // not the full assets URL.\n  const isUsingCloudflare = configs.BASE_ASSETS_PATH.includes(\"workers.dev\");\n  const uploadsHost = isUsingCloudflare ? new URL(configs.BASE_ASSETS_PATH).hostname : configs.UPLOADS_HOST;\n  return uploadsHost\n    ? `https://${uploadsHost}${port ? `:${port}` : \"\"}${path}`\n    : getReticulumFetchUrl(path, absolute, host, port);\n}\n\nexport async function getReticulumMeta() {\n  if (!reticulumMeta) {\n    // Initially look up version based upon page, avoiding round-trip, otherwise fetch.\n    if (!invalidatedReticulumMetaThisSession && document.querySelector(\"meta[name='ret:version']\")) {\n      reticulumMeta = {\n        version: document.querySelector(\"meta[name='ret:version']\").getAttribute(\"value\"),\n        pool: document.querySelector(\"meta[name='ret:pool']\").getAttribute(\"value\"),\n        phx_host: document.querySelector(\"meta[name='ret:phx_host']\").getAttribute(\"value\")\n      };\n    } else {\n      await fetch(getReticulumFetchUrl(\"/api/v1/meta\")).then(async res => {\n        reticulumMeta = await res.json();\n      });\n    }\n  }\n\n  const qs = new URLSearchParams(location.search);\n  const phxHostOverride = qs.get(\"phx_host\");\n\n  if (phxHostOverride) {\n    reticulumMeta.phx_host = phxHostOverride;\n  }\n\n  return reticulumMeta;\n}\n\nlet directReticulumHostAndPort;\n\nasync function refreshDirectReticulumHostAndPort() {\n  const qs = new URLSearchParams(location.search);\n  let host = qs.get(\"phx_host\");\n  const reticulumMeta = await getReticulumMeta();\n  host = host || configs.RETICULUM_SOCKET_SERVER || reticulumMeta.phx_host;\n  const port =\n    qs.get(\"phx_port\") ||\n    (hasReticulumServer() ? new URL(`${document.location.protocol}//${configs.RETICULUM_SERVER}`).port : \"443\");\n  directReticulumHostAndPort = { host, port };\n}\n\nexport function getDirectReticulumFetchUrl(path, absolute = false) {\n  if (!directReticulumHostAndPort) {\n    console.warn(\"Cannot call getDirectReticulumFetchUrl before connectToReticulum. Returning non-direct url.\");\n    return getReticulumFetchUrl(path, absolute);\n  }\n\n  const { host, port } = directReticulumHostAndPort;\n  return getReticulumFetchUrl(path, absolute, host, port);\n}\n\nexport async function invalidateReticulumMeta() {\n  invalidatedReticulumMetaThisSession = true;\n  reticulumMeta = null;\n}\n\nexport async function connectToReticulum(debug = false, params = null, socketClass = Socket) {\n  const qs = new URLSearchParams(location.search);\n\n  const getNewSocketUrl = async () => {\n    await refreshDirectReticulumHostAndPort();\n    const { host, port } = directReticulumHostAndPort;\n    const protocol =\n      qs.get(\"phx_protocol\") ||\n      configs.RETICULUM_SOCKET_PROTOCOL ||\n      (document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\");\n\n    return `${protocol}//${host}${port ? `:${port}` : \"\"}`;\n  };\n\n  const socketUrl = await getNewSocketUrl();\n  console.log(`Phoenix Socket URL: ${socketUrl}`);\n\n  const socketSettings = {};\n\n  if (debug) {\n    socketSettings.logger = (kind, msg, data) => {\n      console.log(`${kind}: ${msg}`, data);\n    };\n  }\n\n  if (params) {\n    socketSettings.params = params;\n  }\n\n  const socket = new socketClass(`${socketUrl}/socket`, socketSettings);\n  socket.connect();\n  socket.onError(async () => {\n    // On error, underlying reticulum node may have died, so rebalance by\n    // fetching a new healthy node to connect to.\n    invalidateReticulumMeta();\n\n    const endPointPath = new URL(socket.endPoint).pathname;\n    const newSocketUrl = await getNewSocketUrl();\n    const newEndPoint = `${newSocketUrl}${endPointPath}`;\n    console.log(`Socket error, changed endpoint to ${newEndPoint}`);\n    socket.endPoint = newEndPoint;\n  });\n\n  return socket;\n}\n\nexport function getLandingPageForPhoto(photoUrl) {\n  const parsedUrl = new URL(photoUrl);\n  return getReticulumFetchUrl(parsedUrl.pathname.replace(\".png\", \".html\") + parsedUrl.search, true);\n}\n\nexport function fetchReticulumAuthenticatedWithToken(token, url, method = \"GET\", payload) {\n  const retUrl = getReticulumFetchUrl(url);\n  const params = {\n    headers: { \"content-type\": \"application/json\" },\n    method\n  };\n  if (token) {\n    params.headers.authorization = `bearer ${token}`;\n  }\n  if (payload) {\n    params.body = JSON.stringify(payload);\n  }\n  return fetch(retUrl, params).then(async r => {\n    const result = await r.text();\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      // Some reticulum responses, particularly DELETE requests, don't return json.\n      return result;\n    }\n  });\n}\nexport function fetchReticulumAuthenticated(url, method = \"GET\", payload) {\n  return fetchReticulumAuthenticatedWithToken(store.state.credentials.token, url, method, payload);\n}\n\nexport async function checkUserToken() {\n  if (store.state.userinfo && store.state.userinfo.storeid && store.state.userinfo.token) {\n    await findStore({param: store.state.userinfo.storeid}).catch(() => {\n      document.location = '/signin';\n      return false;\n    });\n  } else {\n    document.location = '/signin';\n    return false;\n  }\n  return true;\n}\n\nexport async function createAndRedirectToNewHub(name, sceneId, replace) {\n  if (!checkUserToken()) return;\n  if (store.state.userinfo.classroomid) {\n    store.updateClassRoomID(null);\n    await deleteClassroomId();\n  }\n\n  const createUrl = getReticulumFetchUrl(\"/api/v1/hubs\");\n  const payload = { hub: { name: name || generateHubName() } };\n\n  if (sceneId) {\n    payload.hub.scene_id = sceneId;\n  }\n\n  const headers = { \"content-type\": \"application/json\" };\n  if (store.state && store.state.credentials.token) {\n    headers.authorization = `bearer ${store.state.credentials.token}`;\n  }\n\n  let res = await fetch(createUrl, {\n    body: JSON.stringify(payload),\n    headers,\n    method: \"POST\"\n  }).then(r => r.json());\n\n  if (res.error === \"invalid_token\") {\n    // Clear the invalid token from store.\n    store.update({ credentials: { token: null, email: null } });\n\n    // Create hub anonymously\n    delete headers.authorization;\n    res = await fetch(createUrl, {\n      body: JSON.stringify(payload),\n      headers,\n      method: \"POST\"\n    }).then(r => r.json());\n  }\n\n  const hub = res;\n  let url = hub.url;\n\n  store.updateClassRoomID(hub.hub_id);\n  await saveClassroomId({param: hub.hub_id});\n\n  const creatorAssignmentToken = hub.creator_assignment_token;\n  if (creatorAssignmentToken) {\n    store.update({ creatorAssignmentTokens: [{ hubId: hub.hub_id, creatorAssignmentToken: creatorAssignmentToken }] });\n\n    // Don't need to store the embed token if there's no creator assignment token, since that means\n    // we are the owner and will get the embed token on page load.\n    const embedToken = hub.embed_token;\n\n    if (embedToken) {\n      store.update({ embedTokens: [{ hubId: hub.hub_id, embedToken: embedToken }] });\n    }\n  }\n\n  if (isLocalClient()) {\n    url = `/hub.html?hub_id=${hub.hub_id}`;\n  }\n\n  if (replace) {\n    document.location.replace(url);\n  } else {\n    document.location = url;\n  }\n}\n\nexport function getPresenceEntryForSession(presences, sessionId) {\n  const entry = Object.entries(presences || {}).find(([k]) => k === sessionId) || [];\n  const presence = entry[1];\n  return (presence && presence.metas && presence.metas[0]) || {};\n}\n\nexport function getPresenceContextForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).context || {};\n}\n\nexport function getPresenceProfileForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).profile || {};\n}\n\nfunction migrateBindings(oldChannel, newChannel) {\n  const doNotDuplicate = [\"phx_close\", \"phx_error\", \"phx_reply\", \"presence_state\", \"presence_diff\"];\n  const shouldDuplicate = event => {\n    return !event.startsWith(\"chan_reply_\") && !doNotDuplicate.includes(event);\n  };\n  for (let i = 0, l = oldChannel.bindings.length; i < l; i++) {\n    const item = oldChannel.bindings[i];\n    if (shouldDuplicate(item.event)) {\n      newChannel.bindings.push(item);\n    }\n  }\n  newChannel.bindingRef = oldChannel.bindingRef;\n}\n\n// Takes the given channel, and creates a new channel with the same bindings\n// with the given socket, joins it, and leaves the old channel after joining.\n//\n// NOTE: This function relies upon phoenix channel object internals, so this\n// function will need to be reviewed if/when we ever update phoenix.js\nexport function migrateChannelToSocket(oldChannel, socket, params) {\n  const channel = socket.channel(oldChannel.topic, params || oldChannel.params);\n\n  migrateBindings(oldChannel, channel);\n\n  for (let i = 0, l = oldChannel.pushBuffer.length; i < l; i++) {\n    const item = oldChannel.pushBuffer[i];\n    channel.push(item.event, item.payload, item.timeout);\n  }\n\n  const oldJoinPush = oldChannel.joinPush;\n  const joinPush = channel.join();\n\n  for (let i = 0, l = oldJoinPush.recHooks.length; i < l; i++) {\n    const item = oldJoinPush.recHooks[i];\n    joinPush.receive(item.status, item.callback);\n  }\n\n  return new Promise(resolve => {\n    joinPush.receive(\"ok\", () => {\n      // Clear all event handlers first so no duplicate messages come in.\n      oldChannel.bindings = [];\n      resolve(channel);\n    });\n  });\n}\n\nexport function migrateToChannel(oldChannel, newChannel) {\n  migrateBindings(oldChannel, newChannel);\n\n  return new Promise((resolve, reject) => {\n    newChannel\n      .join()\n      .receive(\"ok\", data => {\n        oldChannel.leave();\n        oldChannel.bindings = [];\n        resolve(data);\n      })\n      .receive(\"error\", data => {\n        newChannel.leave();\n        reject(data);\n      });\n  });\n}\n\nexport function discordBridgesForPresences(presences) {\n  const channels = [];\n  for (const p of Object.values(presences)) {\n    for (const m of p.metas) {\n      if (m.profile && m.profile.discordBridges) {\n        Array.prototype.push.apply(\n          channels,\n          m.profile.discordBridges.map(b => b.channel.name)\n        );\n      }\n    }\n  }\n  return channels;\n}\n\nexport function hasEmbedPresences(presences) {\n  for (const p of Object.values(presences)) {\n    for (const m of p.metas) {\n      if (m.context && m.context.embed) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport function denoisePresence({ onJoin, onLeave, onChange }) {\n  return {\n    rawOnJoin: (key, beforeJoin, afterJoin) => {\n      if (beforeJoin === undefined) {\n        onJoin(key, afterJoin.metas[0]);\n      }\n    },\n    rawOnLeave: (key, remaining, removed) => {\n      if (remaining.metas.length === 0) {\n        onLeave(key, removed.metas[0]);\n      } else {\n        onChange(key, removed.metas[removed.metas.length - 1], remaining.metas[remaining.metas.length - 1]);\n      }\n    }\n  };\n}\n\nexport function presenceEventsForHub(events) {\n  const onJoin = (key, meta) => {\n    events.trigger(`hub:join`, { key, meta });\n  };\n  const onLeave = (key, meta) => {\n    events.trigger(`hub:leave`, { key, meta });\n  };\n  const onChange = (key, previous, current) => {\n    events.trigger(`hub:change`, { key, previous, current });\n  };\n  return {\n    onJoin,\n    onLeave,\n    onChange\n  };\n}\n\nexport const tryGetMatchingMeta = async ({ ret_pool, ret_version }, shouldAbandonMigration) => {\n  const backoffMS = 5000;\n  const randomMS = 15000;\n  const maxAttempts = 10;\n  let didMatchMeta = false;\n  let attempt = 0;\n  while (!didMatchMeta && attempt < maxAttempts && !shouldAbandonMigration()) {\n    try {\n      // Add randomness to the first request avoid flooding reticulum.\n      const delayMS = attempt * backoffMS + (attempt === 0 ? Math.random() * randomMS : 0);\n      console.log(\n        `[reconnect] Getting reticulum meta in ${Math.ceil(delayMS / 1000)} seconds.${\n          attempt ? ` (Attempt ${attempt + 1} of ${maxAttempts})` : \"\"\n        }`\n      );\n      await sleep(delayMS);\n      invalidateReticulumMeta();\n      console.log(`[reconnect] Getting reticulum meta.${attempt ? ` (Attempt ${attempt + 1} of ${maxAttempts})` : \"\"}`);\n      const { pool, version } = await getReticulumMeta();\n      didMatchMeta = ret_pool === pool && ret_version === version;\n    } catch {\n      didMatchMeta = false;\n    }\n\n    attempt = attempt + 1;\n  }\n  return didMatchMeta;\n};\n","import { fetchReticulumAuthenticated } from \"./phoenix-utils\";\nimport defaultAvatar from \"../assets/models/DefaultAvatar.glb\";\n\nconst names = [\n  \"Baers-Pochard\",\n  \"Baikal-Teal\",\n  \"Barrows-Goldeneye\",\n  \"Blue-Billed\",\n  \"Blue-Duck\",\n  \"Blue-Winged\",\n  \"Brown-Teal\",\n  \"Bufflehead\",\n  \"Canvasback\",\n  \"Cape-Shoveler\",\n  \"Chestnut-Teal\",\n  \"Chiloe-Wigeon\",\n  \"Cinnamon-Teal\",\n  \"Comb-Duck\",\n  \"Common-Eider\",\n  \"Common-Goldeneye\",\n  \"Common-Merganser\",\n  \"Common-Pochard\",\n  \"Common-Scoter\",\n  \"Common-Shelduck\",\n  \"Cotton-Pygmy\",\n  \"Crested-Duck\",\n  \"Crested-Shelduck\",\n  \"Eatons-Pintail\",\n  \"Falcated\",\n  \"Ferruginous\",\n  \"Freckled-Duck\",\n  \"Gadwall\",\n  \"Garganey\",\n  \"Greater-Scaup\",\n  \"Green-Pygmy\",\n  \"Grey-Teal\",\n  \"Hardhead\",\n  \"Harlequin\",\n  \"Hartlaubs\",\n  \"Hooded-Merganser\",\n  \"Kelp-Goose\",\n  \"King-Eider\",\n  \"Lake-Duck\",\n  \"Laysan-Duck\",\n  \"Lesser-Scaup\",\n  \"Long-Tailed\",\n  \"Maccoa-Duck\",\n  \"Mallard\",\n  \"Mandarin\",\n  \"Marbled-Teal\",\n  \"Mellers-Duck\",\n  \"Merganser\",\n  \"Northern-Pintail\",\n  \"Orinoco-Goose\",\n  \"Paradise-Shelduck\",\n  \"Plumed-Whistler\",\n  \"Puna-Teal\",\n  \"Pygmy-Goose\",\n  \"Radjah-Shelduck\",\n  \"Red-Billed\",\n  \"Red-Crested\",\n  \"Red-Shoveler\",\n  \"Ring-Necked\",\n  \"Ringed-Teal\",\n  \"Rosy-Billed\",\n  \"Ruddy-Shelduck\",\n  \"Salvadoris-Teal\",\n  \"Scaly-Sided\",\n  \"Shelduck\",\n  \"Shoveler\",\n  \"Silver-Teal\",\n  \"Smew\",\n  \"Spectacled-Eider\",\n  \"Spot-Billed\",\n  \"Spotted-Whistler\",\n  \"Steamerduck\",\n  \"Stellers-Eider\",\n  \"Sunda-Teal\",\n  \"Surf-Scoter\",\n  \"Tufted-Duck\",\n  \"Velvet-Scoter\",\n  \"Wandering-Whistler\",\n  \"Whistling-duck\",\n  \"White-Backed\",\n  \"White-Cheeked\",\n  \"White-Winged\",\n  \"Wigeon\",\n  \"Wood-Duck\",\n  \"Yellow-Billed\"\n];\n\nfunction chooseRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function generateRandomName() {\n  return `${chooseRandom(names)}-${Math.floor(10000 + Math.random() * 10000)}`;\n}\n\nexport async function fetchRandomDefaultAvatarId() {\n  const defaultAvatarEndpoint = \"/api/v1/media/search?filter=default&source=avatar_listings\";\n  const defaultAvatars = (await fetchReticulumAuthenticated(defaultAvatarEndpoint)).entries || [];\n  if (defaultAvatars.length === 0) {\n    // If reticulum doesn't return any default avatars, just default to the duck model. This should only happen\n    // when running against a fresh reticulum server, e.g. a local ret instance.\n    return new URL(defaultAvatar, location.href).href;\n  }\n  const avatarIds = defaultAvatars.map(avatar => avatar.id);\n  return chooseRandom(avatarIds);\n}\n","export const MediaDevicesEvents = Object.freeze({\n  PERMISSIONS_STATUS_CHANGED: \"permissions_status_changed\",\n  MIC_SHARE_STARTED: \"mic_share_started\",\n  MIC_SHARE_ENDED: \"mic_share_ended\",\n  VIDEO_SHARE_STARTED: \"video_share_started\",\n  VIDEO_SHARE_ENDED: \"video_share_ended\",\n  DEVICE_CHANGE: \"devicechange\"\n});\n\nexport const PermissionStatus = Object.freeze({\n  GRANTED: \"granted\",\n  DENIED: \"denied\",\n  PROMPT: \"prompt\"\n});\n\nexport const MediaDevices = Object.freeze({\n  MICROPHONE: \"microphone\",\n  SPEAKERS: \"speakers\",\n  CAMERA: \"camera\",\n  SCREEN: \"screen\"\n});\n\nexport const NO_DEVICE_ID = \"none\";\n","export enum COLLISION_LAYERS {\n  ALL = -1,\n  NONE = 0,\n  INTERACTABLES = 1 << 0,\n  ENVIRONMENT = 1 << 1,\n  AVATAR = 1 << 2,\n  HANDS = 1 << 3,\n  MEDIA_FRAMES = 1 << 4,\n  // @TODO we should split these \"sets\" off into something other than COLLISION_LAYERS or at least name\n  // them differently to indicate they are a combination of multiple bits\n  DEFAULT_INTERACTABLE = INTERACTABLES | ENVIRONMENT | AVATAR | HANDS | MEDIA_FRAMES,\n  UNOWNED_INTERACTABLE = INTERACTABLES | HANDS | MEDIA_FRAMES,\n  DEFAULT_SPAWNER = INTERACTABLES | HANDS\n};\n\nexport enum AAModes {\n  NONE = \"NONE\",\n  SMAA = \"SMAA\",\n  MSAA_2X = \"MSAA_2X\",\n  MSAA_4X = \"MSAA_4X\",\n  MSAA_8X = \"MSAA_8X\"\n}\n\nexport const PRIVACY = \"https://istudyonline.com.au/privacy\";\nexport const TERMS = \"https://istudyonline.com.au/term\";\n","import { Validator } from \"jsonschema\";\nimport merge from \"deepmerge\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { qsGet } from \"../utils/qs_truthy.js\";\nimport detectMobile, { isAndroid, isMobileVR } from \"../utils/is-mobile\";\n\nconst LOCAL_STORE_KEY = \"___hubs_store\";\nconst STORE_STATE_CACHE_KEY = Symbol();\nconst OAUTH_FLOW_CREDENTIALS_KEY = \"ret-oauth-flow-account-credentials\";\nconst validator = new Validator();\nimport { EventTarget } from \"event-target-shim\";\nimport { fetchRandomDefaultAvatarId, generateRandomName } from \"../utils/identity.js\";\nimport { NO_DEVICE_ID } from \"../utils/media-devices-utils.js\";\nimport { AAModes } from \"../constants\";\n\nconst defaultMaterialQuality = (function () {\n  const MATERIAL_QUALITY_OPTIONS = [\"low\", \"medium\", \"high\"];\n\n  // HACK: AFRAME is not available on all pages, so we catch the ReferenceError.\n  // We could move AFRAME's device utils into a separate package (or into this repo)\n  // if we wanted to use these checks without having to import all of AFRAME.\n  const isMobile = window.AFRAME && (AFRAME.utils.device.isMobile() || AFRAME.utils.device.isMobileVR());\n  if (isMobile) {\n    const qsMobileDefault = qsGet(\"default_mobile_material_quality\");\n    if (qsMobileDefault && MATERIAL_QUALITY_OPTIONS.indexOf(qsMobileDefault) !== -1) {\n      return qsMobileDefault;\n    }\n    return \"low\";\n  }\n\n  const qsDefault = qsGet(\"default_material_quality\");\n  if (qsDefault && MATERIAL_QUALITY_OPTIONS.indexOf(qsDefault) !== -1) {\n    return qsDefault;\n  }\n\n  return \"high\";\n})();\n\n// WebAudio on Android devices (only non-VR devices?) seems to have\n// a bug and audio can be broken if there are many people in a room.\n// We have reported the problem to the Android devs. We found that\n// using equal power panning mode can mitigate the problem so we\n// use low audio panning quality (= equal power mode) by default\n// on Android as workaround until the root issue is fixed on\n// Android end. See\n//   - https://github.com/mozilla/hubs/issues/5057\n//   - https://bugs.chromium.org/p/chromium/issues/detail?id=1308962\nconst defaultAudioPanningQuality = () => {\n  return isAndroid() && !isMobileVR() ? \"Low\" : \"High\";\n};\n\n//workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1626081 : disable echoCancellation, noiseSuppression, autoGainControl\nconst isFirefoxReality = window.AFRAME?.utils.device.isMobileVR() && navigator.userAgent.match(/Firefox/);\n\n// Durable (via local-storage) schema-enforced state that is meant to be consumed via forward data flow.\n// (Think flux but with way less incidental complexity, at least for now :))\nexport const SCHEMA = {\n  id: \"/HubsStore\",\n\n  definitions: {\n    profile: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        displayName: { type: \"string\", pattern: \"^[A-Za-z0-9_~ -]{3,32}$\" },\n        avatarId: { type: \"string\" },\n        // personalAvatarId is obsolete, but we need it here for backwards compatibility.\n        personalAvatarId: { type: \"string\" }\n      }\n    },\n\n    credentials: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        token: { type: [\"null\", \"string\"] },\n        email: { type: [\"null\", \"string\"] }\n      }\n    },\n\n    userinfo: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        memberid: { type: [\"null\", \"string\"] },\n        sellerid: { type: [\"null\", \"string\"] },\n        storeid: { type: [\"null\", \"string\"] },\n        name: { type: [\"null\", \"string\"] },\n        avatar: { type: [\"null\", \"string\"] },\n        token: { type: [\"null\", \"string\"] }\n      }\n    },\n    \n    activity: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        hasFoundFreeze: { type: \"boolean\" },\n        hasChangedName: { type: \"boolean\" },\n        hasAcceptedProfile: { type: \"boolean\" },\n        lastEnteredAt: { type: \"string\" },\n        hasPinned: { type: \"boolean\" },\n        hasRotated: { type: \"boolean\" },\n        hasRecentered: { type: \"boolean\" },\n        hasScaled: { type: \"boolean\" },\n        hasHoveredInWorldHud: { type: \"boolean\" },\n        hasOpenedShare: { type: \"boolean\" },\n        entryCount: { type: \"number\" }\n      }\n    },\n\n    settings: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        lastUsedMicDeviceId: { type: \"string\" },\n        micMuted: { type: \"bool\" }\n      }\n    },\n\n    preferences: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        shouldPromptForRefresh: { type: \"bool\", default: false },\n        // Preferred media will be set dynamically\n        preferredMic: { type: \"string\", default: NO_DEVICE_ID },\n        preferredSpeakers: { type: \"string\", default: NO_DEVICE_ID },\n        preferredCamera: { type: \"string\", default: NO_DEVICE_ID },\n        muteMicOnEntry: { type: \"bool\", default: false },\n        disableLeftRightPanning: { type: \"bool\", default: false },\n        audioNormalization: { type: \"bool\", default: 0.0 },\n        invertTouchscreenCameraMove: { type: \"bool\", default: true },\n        enableOnScreenJoystickLeft: { type: \"bool\", default: detectMobile() },\n        enableOnScreenJoystickRight: { type: \"bool\", default: detectMobile() },\n        enableGyro: { type: \"bool\", default: true },\n        animateWaypointTransitions: { type: \"bool\", default: true },\n        showFPSCounter: { type: \"bool\", default: false },\n        allowMultipleHubsInstances: { type: \"bool\", default: false },\n        disableIdleDetection: { type: \"bool\", default: false },\n        fastRoomSwitching: { type: \"bool\", default: false }, // No longer used. TODO How to remove this safely?\n        lazyLoadSceneMedia: { type: \"bool\", default: false },\n        preferMobileObjectInfoPanel: { type: \"bool\", default: false },\n        // if unset, maxResolution = screen resolution\n        maxResolutionWidth: { type: \"number\", default: undefined },\n        maxResolutionHeight: { type: \"number\", default: undefined },\n        globalVoiceVolume: { type: \"number\", default: 100 },\n        globalMediaVolume: { type: \"number\", default: 100 },\n        globalSFXVolume: { type: \"number\", default: 100 },\n        snapRotationDegrees: { type: \"number\", default: 45 },\n        materialQualitySetting: { type: \"string\", default: defaultMaterialQuality },\n        enableDynamicShadows: { type: \"bool\", default: false },\n        disableSoundEffects: { type: \"bool\", default: false },\n        disableMovement: { type: \"bool\", default: false },\n        disableBackwardsMovement: { type: \"bool\", default: false },\n        disableStrafing: { type: \"bool\", default: false },\n        disableTeleporter: { type: \"bool\", default: false },\n        disableAutoPixelRatio: { type: \"bool\", default: false },\n        movementSpeedModifier: { type: \"number\", default: 1 },\n        disableEchoCancellation: { type: \"bool\", default: isFirefoxReality },\n        disableNoiseSuppression: { type: \"bool\", default: isFirefoxReality },\n        disableAutoGainControl: { type: \"bool\", default: isFirefoxReality },\n        locale: { type: \"string\", default: \"browser\" },\n        showRtcDebugPanel: { type: \"bool\", default: false },\n        showAudioDebugPanel: { type: \"bool\", default: false },\n        enableAudioClipping: { type: \"bool\", default: false },\n        audioClippingThreshold: { type: \"number\", default: 0.015 },\n        audioPanningQuality: { type: \"string\", default: defaultAudioPanningQuality() },\n        theme: { type: \"string\", default: undefined },\n        cursorSize: { type: \"number\", default: 1 },\n        nametagVisibility: { type: \"string\", default: \"showAll\" },\n        nametagVisibilityDistance: { type: \"number\", default: 5 },\n        avatarVoiceLevels: { type: \"object\" },\n        enablePostEffects: { type: \"bool\", default: false },\n        enableBloom: { type: \"bool\", default: true }, // only applies if post effects are enabled\n        aaMode: { type: \"string\", default: AAModes.MSAA_4X } // only applies if post effects are enabled\n      }\n    },\n\n    // Legacy\n    confirmedDiscordRooms: {\n      type: \"array\",\n      items: { type: \"string\" }\n    },\n\n    confirmedBroadcastedRooms: {\n      type: \"array\",\n      items: { type: \"string\" }\n    },\n\n    uploadPromotionTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          fileId: { type: \"string\" },\n          promotionToken: { type: \"string\" }\n        }\n      }\n    },\n\n    creatorAssignmentTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          hubId: { type: \"string\" },\n          creatorAssignmentToken: { type: \"string\" }\n        }\n      }\n    },\n\n    embedTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          hubId: { type: \"string\" },\n          embedToken: { type: \"string\" }\n        }\n      }\n    },\n\n    onLoadActions: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          action: { type: \"string\" },\n          args: { type: \"object\" }\n        }\n      }\n    }\n  },\n\n  type: \"object\",\n\n  properties: {\n    profile: { $ref: \"#/definitions/profile\" },\n    credentials: { $ref: \"#/definitions/credentials\" },\n    userinfo: { $ref: \"#/definitions/userinfo\" },\n    activity: { $ref: \"#/definitions/activity\" },\n    settings: { $ref: \"#/definitions/settings\" },\n    preferences: { $ref: \"#/definitions/preferences\" },\n    confirmedDiscordRooms: { $ref: \"#/definitions/confirmedDiscordRooms\" }, // Legacy\n    confirmedBroadcastedRooms: { $ref: \"#/definitions/confirmedBroadcastedRooms\" },\n    uploadPromotionTokens: { $ref: \"#/definitions/uploadPromotionTokens\" },\n    creatorAssignmentTokens: { $ref: \"#/definitions/creatorAssignmentTokens\" },\n    embedTokens: { $ref: \"#/definitions/embedTokens\" },\n    onLoadActions: { $ref: \"#/definitions/onLoadActions\" }\n  },\n\n  additionalProperties: false\n};\n\nexport default class Store extends EventTarget {\n  constructor() {\n    super();\n\n    this._preferences = {};\n\n    if (localStorage.getItem(LOCAL_STORE_KEY) === null) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify({}));\n    }\n\n    // When storage is updated in another window\n    window.addEventListener(\"storage\", e => {\n      if (e.key !== LOCAL_STORE_KEY) return;\n      delete this[STORE_STATE_CACHE_KEY];\n      this.dispatchEvent(new CustomEvent(\"statechanged\"));\n    });\n\n    this.update({\n      activity: {},\n      settings: {},\n      credentials: {},\n      userinfo: {},\n      profile: {},\n      confirmedDiscordRooms: [],\n      confirmedBroadcastedRooms: [],\n      uploadPromotionTokens: [],\n      creatorAssignmentTokens: [],\n      embedTokens: [],\n      onLoadActions: [],\n      preferences: {}\n    });\n\n    this._shouldResetAvatarOnInit = false;\n\n    const oauthFlowCredentials = Cookies.getJSON(OAUTH_FLOW_CREDENTIALS_KEY);\n    if (oauthFlowCredentials) {\n      this.update({ credentials: oauthFlowCredentials });\n      this._shouldResetAvatarOnInit = true;\n      Cookies.remove(OAUTH_FLOW_CREDENTIALS_KEY);\n    }\n\n    this._signOutOnExpiredAuthToken();\n\n    const maybeDispatchThemeChanged = (() => {\n      let previous;\n      return () => {\n        const current = this.state.preferences.theme;\n        if ((previous || current) && previous !== current) {\n          this.dispatchEvent(new CustomEvent(\"themechanged\", { detail: { current, previous } }));\n        }\n        previous = current;\n        console.log(\"Theme updated to: \", current);\n      };\n    })();\n    this.addEventListener(\"statechanged\", maybeDispatchThemeChanged);\n  }\n\n  _signOutOnExpiredAuthToken = () => {\n    if (!this.state.credentials.token) return;\n\n    const expiry = jwtDecode(this.state.credentials.token).exp * 1000;\n    if (expiry <= Date.now()) {\n      this.update({ \n        credentials: { token: null, email: null },\n        userinfo: { memberid: null, sellerid: null, storeid: null, name: null, \n          avatar: null, classroomid: null,token: null } \n      });\n    }\n  };\n\n  initProfile = async () => {\n    if (this._shouldResetAvatarOnInit) {\n      await this.resetToRandomDefaultAvatar();\n    } else {\n      this.update({\n        profile: { avatarId: await fetchRandomDefaultAvatarId(), ...(this.state.profile || {}) }\n      });\n    }\n\n    // Regenerate name to encourage users to change it.\n    if (!this.state.activity.hasChangedName) {\n      this.update({ profile: { displayName: generateRandomName() } });\n    }\n  };\n\n  resetToRandomDefaultAvatar = async () => {\n    this.update({\n      profile: { ...(this.state.profile || {}), avatarId: await fetchRandomDefaultAvatarId() }\n    });\n  };\n\n  get state() {\n    if (!Object.prototype.hasOwnProperty.call(this, STORE_STATE_CACHE_KEY)) {\n      const state = (this[STORE_STATE_CACHE_KEY] = JSON.parse(localStorage.getItem(LOCAL_STORE_KEY)));\n      if (!state.preferences) state.preferences = {};\n      this._preferences = { ...state.preferences }; // cache prefs without injected defaults\n      // inject default values\n      for (const [key, props] of Object.entries(SCHEMA.definitions.preferences.properties)) {\n        if (!Object.prototype.hasOwnProperty.call(props, \"default\")) continue;\n        if (!Object.prototype.hasOwnProperty.call(state.preferences, key)) {\n          state.preferences[key] = props.default;\n        } else if (state.preferences[key] === props.default) {\n          delete this._preferences[key];\n        }\n      }\n    }\n\n    return this[STORE_STATE_CACHE_KEY];\n  }\n\n  get credentialsAccountId() {\n    if (this.state.credentials.token) {\n      return jwtDecode(this.state.credentials.token).sub;\n    } else {\n      return null;\n    }\n  }\n\n  resetConfirmedBroadcastedRooms() {\n    this.clearStoredArray(\"confirmedBroadcastedRooms\");\n  }\n\n  resetTipActivityFlags() {\n    this.update({\n      activity: { hasRotated: false, hasPinned: false, hasRecentered: false, hasScaled: false, entryCount: 0 }\n    });\n  }\n\n  bumpEntryCount() {\n    const currentEntryCount = this.state.activity.entryCount || 0;\n    this.update({ activity: { entryCount: currentEntryCount + 1 } });\n  }\n\n  // Sets a one-time action to perform the next time the page loads\n  enqueueOnLoadAction(action, args) {\n    this.update({ onLoadActions: [{ action, args }] });\n  }\n\n  executeOnLoadActions(sceneEl) {\n    for (let i = 0; i < this.state.onLoadActions.length; i++) {\n      const { action, args } = this.state.onLoadActions[i];\n\n      if (action === \"emit_scene_event\") {\n        sceneEl.emit(args.event, args.detail);\n      }\n    }\n\n    this.clearOnLoadActions();\n  }\n\n  clearOnLoadActions() {\n    this.clearStoredArray(\"onLoadActions\");\n  }\n\n  clearStoredArray(key) {\n    const overwriteMerge = (destinationArray, sourceArray) => sourceArray;\n    const update = {};\n    update[key] = [];\n\n    this.update(update, { arrayMerge: overwriteMerge });\n  }\n\n  update(newState, mergeOpts) {\n    const finalState = merge({ ...this.state, preferences: this._preferences }, newState, mergeOpts);\n    const { valid, errors } = validator.validate(finalState, SCHEMA);\n\n    // Cleanup unsupported properties\n    if (!valid) {\n      errors.forEach(error => {\n        console.error(`Removing invalid preference from store: ${error.message}`);\n        delete error.instance[error.argument];\n      });\n    }\n\n    if (newState.preferences) {\n      // clear preference if equal to default value so that, when client is updated with different defaults,\n      // new defaults will apply without user action\n      for (const [key, value] of Object.entries(finalState.preferences)) {\n        if (\n          SCHEMA.definitions.preferences.properties[key] &&\n          Object.prototype.hasOwnProperty.call(SCHEMA.definitions.preferences.properties[key], \"default\") &&\n          value === SCHEMA.definitions.preferences.properties[key].default\n        ) {\n          delete finalState.preferences[key];\n        }\n      }\n      this._preferences = finalState.preferences;\n    }\n\n    localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(finalState));\n    delete this[STORE_STATE_CACHE_KEY];\n\n    if (newState.profile !== undefined) {\n      this.dispatchEvent(new CustomEvent(\"profilechanged\"));\n    }\n    this.dispatchEvent(new CustomEvent(\"statechanged\"));\n\n    return finalState;\n  }\n\n  getEmbedTokenForHub(hub) {\n    const embedTokenEntry = this.state.embedTokens.find(embedTokenEntry => embedTokenEntry.hubId === hub.hub_id);\n    if (embedTokenEntry) {\n      return embedTokenEntry.embedToken;\n    } else {\n      return null;\n    }\n  }\n\n  clearUserInfo() {\n    this.update({ userinfo: {\n      memberid: null, sellerid: null, storeid: null, name: null, \n      avatar: null, classroomid: null,token: null\n    } });\n  }\n\n  updateClassRoomID(id) {\n    this.update({ userinfo: {...this.state.userinfo, classroomid: id} });\n  }\n\n  get schema() {\n    return SCHEMA;\n  }\n}\n","import Store from \"../storage/store\";\n\nexport const store = new Store();\n","import { waitForDOMContentLoaded } from \"./async-utils\";\nimport configs from \"./configs\";\nimport { store } from \"./store-instance\";\n\n// NOTE these should be synchronized with the top of shared.scss\nconst DEFAULT_ACTION_COLOR = \"#FF3464\";\nconst DEFAULT_ACTION_COLOR_LIGHT = \"#FF74A4\";\n\nconst DEFAULT_COLORS = {\n  \"action-color\": DEFAULT_ACTION_COLOR,\n  \"action-label-color\": DEFAULT_ACTION_COLOR,\n  \"action-color-disabled\": DEFAULT_ACTION_COLOR_LIGHT,\n  \"action-color-highlight\": DEFAULT_ACTION_COLOR_LIGHT,\n  \"action-text-color\": \"#FFFFFF\",\n  \"action-subtitle-color\": \"#F0F0F0\",\n  \"notice-background-color\": \"#2F80ED\",\n  \"notice-text-color\": \"#FFFFFF\",\n  \"favorited-color\": \"#FFC000\",\n  \"nametag-color\": \"#000000\",\n  \"nametag-volume-color\": \"#7ED320\",\n  \"nametag-text-color\": \"#FFFFFF\",\n  \"nametag-border-color\": \"#7ED320\",\n  \"nametag-border-color-raised-hand\": \"#FFCD74\"\n};\n\nconst config = (() => {\n  let config = process.env.APP_CONFIG;\n\n  // Storybook includes environment variables as a string\n  // https://storybook.js.org/docs/react/configure/environment-variables\n  if (!config && process.env.STORYBOOK_APP_CONFIG) {\n    config = JSON.parse(process.env.STORYBOOK_APP_CONFIG);\n  }\n\n  if (!config) {\n    config = window.APP_CONFIG;\n  }\n\n  if (config?.theme?.error) {\n    console.error(\n      `Custom themes failed to load.\\n${config.theme.error}\\nIf you are an admin, reconfigure your themes in the admin panel.`\n    );\n  }\n\n  return config;\n})();\n\nconst themes = config?.theme?.themes || [];\n\nfunction getDarkModeQuery() {\n  // window.matchMedia is not available when this module is imported in node.js,\n  // which happens when using `npm run login` for Hubs Cloud customization.\n  // So we return a dummy MediaQueryList instead.\n  if (typeof window.matchMedia !== \"undefined\") {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\");\n  } else {\n    return { matches: false, addEventListener: () => {}, removeEventListener: () => {} };\n  }\n}\n\nfunction registerDarkModeQuery(changeListener) {\n  const darkModeQuery = getDarkModeQuery();\n\n  // This is a workaround for old Safari.\n  // Prior to Safari 14, MediaQueryList is based on EventTarget, so you must use\n  // addListener() and removeListener() to observe media query lists.\n  // https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList/addListener\n  // We may remove this workaround when no one will use Safari 13 or before.\n  if (darkModeQuery.addEventListener) {\n    darkModeQuery.addEventListener(\"change\", changeListener);\n  } else {\n    darkModeQuery.addListener(changeListener);\n  }\n\n  const removeListener = () => {\n    if (darkModeQuery.removeEventListener) {\n      darkModeQuery.removeEventListener(\"change\", changeListener);\n    } else {\n      darkModeQuery.removeListener(changeListener);\n    }\n  };\n\n  return [darkModeQuery, removeListener];\n}\n\nfunction getDefaultTheme() {\n  return themes.find(t => t.default) || themes[0];\n}\n\nfunction tryGetTheme(themeId) {\n  if (!Array.isArray(themes)) return;\n\n  const theme = themeId && themes.find(t => t.id === themeId);\n  if (theme) {\n    return theme;\n  } else {\n    const darkMode = getDarkModeQuery().matches;\n    return (darkMode && themes.find(t => t.darkModeDefault)) || getDefaultTheme();\n  }\n}\n\nfunction getCurrentTheme() {\n  const preferredThemeId = store.state?.preferences?.theme;\n  return tryGetTheme(preferredThemeId);\n}\n\nfunction getThemeColor(name) {\n  const theme = getCurrentTheme();\n  return theme?.variables?.[name] || DEFAULT_COLORS[name];\n}\n\nfunction updateTextButtonColors() {\n  const actionColor = getThemeColor(\"action-color\");\n  const actionHoverColor = getThemeColor(\"action-color-highlight\");\n\n  if (document.querySelector(\"#rounded-text-button\")) {\n    // NOTE, using the object-based {} setAttribute variant in a-frame\n    // seems to not work in Firefox here -- the entities with the mixins are not\n    // updated.\n    document\n      .querySelector(\"#rounded-text-button\")\n      .setAttribute(\n        \"text-button\",\n        `textHoverColor: ${actionHoverColor}; textColor: ${actionColor}; backgroundColor: #fff; backgroundHoverColor: #aaa;`\n      );\n\n    document\n      .querySelector(\"#rounded-button\")\n      .setAttribute(\n        \"text-button\",\n        `textHoverColor: ${actionHoverColor}; textColor: ${actionColor}; backgroundColor: #fff; backgroundHoverColor: #aaa;`\n      );\n\n    document\n      .querySelector(\"#rounded-text-action-button\")\n      .setAttribute(\n        \"text-button\",\n        `textHoverColor: #fff; textColor: #fff; backgroundColor: ${actionColor}; backgroundHoverColor: ${actionHoverColor}`\n      );\n\n    document\n      .querySelector(\"#rounded-action-button\")\n      .setAttribute(\n        \"text-button\",\n        `textHoverColor: #fff; textColor: #fff; backgroundColor: ${actionColor}; backgroundHoverColor: ${actionHoverColor}`\n      );\n  }\n}\n\nfunction onThemeChanged(listener) {\n  store.addEventListener(\"themechanged\", listener);\n  const [_darkModeQuery, removeDarkModeListener] = registerDarkModeQuery(listener);\n\n  return () => {\n    store.removeEventListener(\"themechanged\", listener);\n    removeDarkModeListener();\n  };\n}\n\nwaitForDOMContentLoaded().then(() => {\n  if (process.env.NODE) {\n    // We're running in node.js, which happens when \"npm run login\" is used, for example,\n    // so don't bother doing anything UI related.\n    return;\n  }\n\n  if (configs.APP_CONFIG && configs.APP_CONFIG.theme && configs.APP_CONFIG.theme[\"dark-theme\"]) {\n    document.body.classList.add(\"dark-theme\");\n  } else {\n    document.body.classList.add(\"light-theme\");\n  }\n  updateTextButtonColors();\n  onThemeChanged(updateTextButtonColors);\n});\n\nfunction applyThemeToTextButton(el, highlighted) {\n  el.setAttribute(\n    \"text-button\",\n    \"backgroundColor\",\n    highlighted ? getThemeColor(\"action-color-highlight\") : getThemeColor(\"action-color\")\n  );\n  el.setAttribute(\n    \"text-button\",\n    \"backgroundHoverColor\",\n    highlighted ? \"#aaa\" : getThemeColor(\"action-color-highlight\")\n  );\n}\n\nexport {\n  applyThemeToTextButton,\n  getCurrentTheme,\n  getDefaultTheme,\n  getThemeColor,\n  onThemeChanged,\n  registerDarkModeQuery,\n  themes,\n  tryGetTheme\n};\n","export const waitForEvent = function (eventName, eventObj) {\n  return new Promise(resolve => {\n    eventObj.addEventListener(eventName, resolve, { once: true });\n  });\n};\n\nexport const waitForDOMContentLoaded = function () {\n  if (document.readyState === \"complete\" || document.readyState === \"loaded\" || document.readyState === \"interactive\") {\n    return Promise.resolve(null);\n  } else {\n    return waitForEvent(\"DOMContentLoaded\", window);\n  }\n};\n\nexport const sleep = function (milliseconds) {\n  return new Promise(resolve => {\n    setTimeout(resolve, milliseconds);\n  });\n};\n","// A-Frame blows away any npm debug log filters so this allow the user to set the log filter\n// via the query string.\nimport debug from \"debug\";\nimport qsTruthy from \"./qs_truthy\";\n\nconst qs = new URLSearchParams(location.search);\nconst isDebug = qsTruthy(\"debug\");\nconst logFilter = qs.get(\"log_filter\") || (isDebug && \"naf-janus-adapter:*,naf-dialog-adapter:*,mediasoup*\");\n\nif (logFilter) {\n  debug.enable(logFilter);\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { IntlProvider } from \"react-intl\";\nimport \"@formatjs/intl-locale/polyfill\";\nimport \"@formatjs/intl-pluralrules/polyfill\";\nimport \"@formatjs/intl-pluralrules/locale-data/en\";\nimport \"@formatjs/intl-relativetimeformat/polyfill\";\nimport \"@formatjs/intl-relativetimeformat/locale-data/en\";\nimport { getLocale, getMessages } from \"../utils/i18n\";\n\nexport class WrappedIntlProvider extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired\n  };\n\n  state = {\n    locale: getLocale(),\n    messages: getMessages()\n  };\n\n  updateLocale = () => {\n    this.setState({ locale: getLocale(), messages: getMessages() });\n  };\n\n  componentDidMount() {\n    this.updateLocale();\n    window.addEventListener(\"locale-updated\", this.updateLocale);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"locale-updated\", this.updateLocale);\n  }\n\n  render() {\n    return (\n      <IntlProvider locale={this.state.locale} messages={this.state.messages}>\n        {this.props.children}\n      </IntlProvider>\n    );\n  }\n}\n","import { isIOS as detectIOS } from \"./is-mobile\";\nconst isIOS = detectIOS();\n\n// TODO should we be using touch-action CSS for this?\nexport function disableiOSZoom() {\n  if (!isIOS) return;\n\n  let lastTouchAtMs = 0;\n\n  document.addEventListener(\"touchmove\", ev => {\n    if (ev.scale === 1) return;\n\n    ev.preventDefault();\n  });\n\n  document.addEventListener(\"touchend\", ev => {\n    const now = new Date().getTime();\n    const isDoubleTouch = now - lastTouchAtMs <= 300;\n    lastTouchAtMs = now;\n\n    if (isDoubleTouch) {\n      ev.preventDefault();\n    }\n  });\n}\n","import cubeMapPosX from \"../assets/images/cubemap/posx.jpg\";\nimport cubeMapNegX from \"../assets/images/cubemap/negx.jpg\";\nimport cubeMapPosY from \"../assets/images/cubemap/posy.jpg\";\nimport cubeMapNegY from \"../assets/images/cubemap/negy.jpg\";\nimport cubeMapPosZ from \"../assets/images/cubemap/posz.jpg\";\nimport cubeMapNegZ from \"../assets/images/cubemap/negz.jpg\";\n\nexport async function createDefaultEnvironmentMap() {\n  const urls = [cubeMapPosX, cubeMapNegX, cubeMapPosY, cubeMapNegY, cubeMapPosZ, cubeMapNegZ];\n  const texture = await new Promise((resolve, reject) =>\n    new THREE.CubeTextureLoader().load(urls, resolve, undefined, reject)\n  );\n  texture.format = THREE.RGBAFormat;\n  return texture;\n}\n","import {\r\n  FileLoader,\r\n  LoaderUtils\r\n} from 'three';\r\n\r\nconst loadPartially = (fileLoader, url, offset, length) => {\r\n  return new Promise((resolve, reject) => {\r\n    const currentRequestHeader = fileLoader.requestHeader;\r\n    fileLoader.setRequestHeader(Object.assign(\r\n      {Range: `bytes=${offset}-${offset + length - 1}`},\r\n      currentRequestHeader\r\n    ));\r\n    // Note: If server doesn't support HTTP range requests\r\n    //       reject callback is fired.\r\n    fileLoader.load(url, resolve, undefined, reject);\r\n    fileLoader.setRequestHeader(currentRequestHeader);\r\n  });\r\n};\r\n\r\n// Based on the code in FileLoader\r\n// Used if server doesn't support HTTP range requests.\r\nconst loadArrayBufferFromResponse = (response, onProgress) => {\r\n  const reader = response.body.getReader();\r\n  const contentLength = response.headers.get('Content-Length');\r\n  const total = contentLength ? parseInt(contentLength) : 0;\r\n  const lengthComputable = total !== 0;\r\n  let loaded = 0;\r\n\r\n  // periodically read data into the new stream tracking while download progress\r\n  return new Response(\r\n    new ReadableStream({\r\n      start(controller) {\r\n        readData();\r\n        function readData() {\r\n          reader.read().then(({done, value}) => {\r\n            if (done) {\r\n              controller.close();\r\n            } else {\r\n              loaded += value.byteLength;\r\n              const event = new ProgressEvent('progress', {lengthComputable, loaded, total});\r\n              if (onProgress) onProgress(event);\r\n              controller.enqueue(value);\r\n              readData();\r\n            }\r\n          });\r\n        }\r\n      }\r\n    })\r\n  ).arrayBuffer();\r\n};\r\n\r\n\r\n// GLB File Format handlers\r\n// Specification: https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#glb-file-format-specification\r\n\r\nconst BINARY_HEADER_MAGIC = 'glTF';\r\nconst BINARY_HEADER_LENGTH = 12;\r\nconst BINARY_CHUNK_TYPES = {JSON: 0x4E4F534A, BIN: 0x004E4942};\r\n\r\nexport default class GLBRangeRequests {\r\n  constructor(parser, url, binChunkOffset) {\r\n    this.name = 'GLB_range_requests';\r\n    this.parser = parser;\r\n    this.url = url;\r\n    this.binChunkOffset = binChunkOffset;\r\n  }\r\n\r\n  static load(url, loader, onLoad, onProgress, onError, fileLoader = null) {\r\n    const assetUrl = (loader.path || '') + url;\r\n    let resourcePath;\r\n    if (loader.resourcePath !== '') {\r\n      resourcePath = loader.resourcePath;\r\n    } else if (loader.path !== '') {\r\n      resourcePath = loader.path;\r\n    } else {\r\n      resourcePath = LoaderUtils.extractUrlBase(assetUrl);\r\n    }\r\n\r\n    GLBRangeRequests.loadContent(assetUrl, fileLoader).then(content => {\r\n      loader\r\n        .register(parser => new GLBRangeRequests(\r\n          parser,\r\n          assetUrl,\r\n          content.binChunkOffset\r\n        ))\r\n        .parse(content.jsonContent, resourcePath, onLoad, onError);\r\n    }).catch((error) => {\r\n      // If server doesn't support range requests.\r\n      // Response has full range content.\r\n      // Parse with the full range content as fallback.\r\n      if (error.response && error.response.status === 200) {\r\n        loadArrayBufferFromResponse(error.response, onProgress).then(buffer => {\r\n          loader.parse(buffer, resourcePath, onLoad, onError);\r\n        }).catch(error => {\r\n          if (onError) onError(error);\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Perhaps rejected due to the either one\r\n      // 1. The asset is not GLB (but glTF)\r\n      // 2. The asset includes EXT_meshopt_compression extension that the\r\n      //    this plugin can't handle\r\n      // so load in the regular way as fallback.\r\n      // @TODO: Check the error reason and don't run the fallback loading\r\n      //        if the error reason is others?\r\n\r\n      //console.error(error);\r\n      loader.load(url, onLoad, onProgress, onError);\r\n    });\r\n  }\r\n\r\n  // Note: Rejects if server doesn't support HTTP range requests\r\n  static async loadContent(url, fileLoader = null) {\r\n    if (fileLoader === null) {\r\n      fileLoader = new FileLoader().setResponseType('arraybuffer');\r\n    }\r\n\r\n    // Load the GLB header and the first chunk info\r\n    const buffer = await loadPartially(fileLoader, url, 0, BINARY_HEADER_LENGTH + 4);\r\n    const view = new DataView(buffer);\r\n    const header = {\r\n      magic: LoaderUtils.decodeText(new Uint8Array(buffer.slice(0, 4))),\r\n      version: view.getUint32(4, true),\r\n      length: view.getUint32(8, true)\r\n    };\r\n\r\n    if (header.magic !== BINARY_HEADER_MAGIC) {\r\n      return Promise.reject(new Error('GLBRangeRequests: The file is not GLB.'));\r\n    }\r\n\r\n    if (header.version < 2.0) {\r\n      return Promise.reject(new Error('GLBRangeRequests: Legacy binary file detected.'));\r\n    }\r\n\r\n    const firstChunkLength = view.getUint32(12, true);\r\n    let offset = BINARY_HEADER_LENGTH + 8;\r\n\r\n    // The json chunk is required and must be the first chunk.\r\n    // The bin chunk is optional and must be the second chunk if exists.\r\n    // The number of json chunks must be 1. The number of bin chunks must be 0 or 1.\r\n    // Specification: https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#chunks\r\n    // Note: Assuming the GLB format is valid\r\n\r\n    const result = {\r\n      jsonContent: null,\r\n      binChunkOffset: null\r\n    };\r\n\r\n    result.jsonContent = await loadPartially(fileLoader, url, offset, firstChunkLength);\r\n    offset += firstChunkLength;\r\n\r\n    if (offset < header.length) {\r\n      result.binChunkOffset = offset + 8;\r\n    }\r\n\r\n    if (result.jsonContent.extensionsUsed &&\r\n        result.jsonContent.extensionsUsed.indexOf('EXT_meshopt_compression') >= 0) {\r\n      // @TODO: Resolve this problem.\r\n      return Promise.reject(new Error('GLBRangeRequests: currently no EXT_meshopt_compression extension support.'));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  loadBufferView(bufferViewIndex) {\r\n    const parser = this.parser;\r\n    const json = parser.json;\r\n\r\n    const bufferViewDef = json.bufferViews[bufferViewIndex];\r\n    const bufferIndex = bufferViewDef.buffer;\r\n    const bufferDef = json.buffers[bufferIndex];\r\n\r\n    if (bufferDef.type !== undefined && bufferDef.type !== 'arraybuffer') {\r\n      return null;\r\n    }\r\n\r\n    if (bufferDef.uri !== undefined || bufferIndex !== 0) {\r\n      return null;\r\n    }\r\n\r\n    const fileLoader = parser.fileLoader;\r\n    const length = bufferViewDef.byteLength || 0;\r\n    const offset = bufferViewDef.byteOffset || 0;\r\n\r\n    return loadPartially(fileLoader, this.url, this.binChunkOffset + offset, length);\r\n  }\r\n}\r\n","import {\r\n  LOD,\r\n  Object3D\r\n} from 'three';\r\n\r\nconst LOADING_MODES = {\r\n  All: 'all', // Default\r\n  Any: 'any',\r\n  Progressive: 'progressive'\r\n};\r\n\r\nconst replaceLevelObject = (lod, object, levelNum) => {\r\n  const level = lod.levels[levelNum];\r\n  const oldObject = level.object;\r\n  level.object = object;\r\n  lod.remove(oldObject);\r\n  lod.add(object);\r\n};\r\n\r\nconst loadScreenCoverages = (def) => {\r\n  const extras = def.extras;\r\n\r\n  if (!extras) {\r\n    return [];\r\n  }\r\n\r\n  const screenCoverages = extras['MSFT_screencoverage'];\r\n\r\n  // extra field is free structure so validate more carefully\r\n  if (!screenCoverages || !Array.isArray(screenCoverages)) {\r\n    return [];\r\n  }\r\n\r\n  return screenCoverages;\r\n};\r\n\r\nconst LOADING_STATES = {\r\n  NotStarted: 0,\r\n  Loading: 1,\r\n  Complete: 2\r\n};\r\n\r\n/**\r\n * LOD Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_lod\r\n */\r\nexport default class GLTFLodExtension {\r\n  constructor(parser, options={}) {\r\n    this.name = 'MSFT_lod';\r\n    this.parser = parser;\r\n    this.options = options;\r\n  }\r\n\r\n  _hasLODMaterial(meshIndex) {\r\n    const parser = this.parser;\r\n    const json = parser.json;\r\n    const meshDef = json.meshes[meshIndex];\r\n\r\n    // Ignore LOD + multiple primitives so far because\r\n    // it might be a bit too complicated.\r\n    // @TODO: Fix me\r\n    if (meshDef.primitives.length > 1) {\r\n      return null;\r\n    }\r\n\r\n    for (const primitiveDef of meshDef.primitives) {\r\n      if (primitiveDef.material === undefined) {\r\n        continue;\r\n      }\r\n      const materialDef = json.materials[primitiveDef.material];\r\n      if (materialDef.extensions && materialDef.extensions[this.name]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _hasLODMaterialOrSkinInNodes(nodeIndex) {\r\n    const parser = this.parser;\r\n    const json = parser.json;\r\n    const nodeDef = json.nodes[nodeIndex];\r\n\r\n    const nodeIndices = (nodeDef.extensions && nodeDef.extensions[this.name])\r\n      ? nodeDef.extensions[this.name].ids.slice() : [];\r\n    nodeIndices.unshift(nodeIndex);\r\n\r\n    for (const nodeIndex of nodeIndices) {\r\n      if (json.nodes[nodeIndex].mesh !== undefined &&\r\n        this._hasLODMaterial(json.nodes[nodeIndex].mesh)) { \r\n        return true;\r\n      }\r\n      if (json.nodes[nodeIndex].skin !== undefined) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // level: 0 is the highest level\r\n  _calculateDistance(level, lowestLevel, def) {\r\n    const coverages = loadScreenCoverages(def);\r\n\r\n    // Use the distance set by users if calculateDistance callback is set\r\n    if (this.options.calculateDistance) {\r\n      return this.options.calculateDistance(level, lowestLevel, coverages);\r\n    }\r\n\r\n    if (level === 0) return 0;\r\n\r\n    const levelsLength = def.extensions[this.name].ids.length + 1;\r\n\r\n    // 1.0 / Math.pow(2, level * 2) is just a number that seems to be heuristically good so far.\r\n    const c = levelsLength === coverages.length ? coverages[level - 1] : 1.0 / Math.pow(2, level * 2);\r\n\r\n    // This is just an easy approximation. If users want more accurate value, they are expected\r\n    // to use calculateDistance hook.\r\n    return 1.0 / c;\r\n  }\r\n\r\n  // Set the lowest level first, and then progressively load the right level on demand.\r\n  _addProgressiveLoadingLevel(isNodeLOD, resourceIndex, lod, lowestMesh, level, lowestLevel, def, states) {\r\n    const currentOnBeforeRender = lowestMesh.onBeforeRender;\r\n    const clonedLowestMesh = lowestMesh.clone();\r\n    const _this = this;\r\n    // Using onBeforRender as a progressive loading trigger\r\n    clonedLowestMesh.onBeforeRender = function onBeforeRender() {\r\n      const clonedLowestMesh = this;\r\n      const lod = clonedLowestMesh.parent;\r\n      states[level] = LOADING_STATES.Loading;\r\n      const pending = isNodeLOD\r\n        ? _this.parser.createNodeMesh(resourceIndex)\r\n        : _this.parser.loadMesh(resourceIndex);\r\n      pending.then(mesh => {\r\n        states[level] = LOADING_STATES.Complete;\r\n        if (_this.options.onLoadMesh) {\r\n          mesh = _this.options.onLoadMesh(lod, mesh, level, lowestLevel);\r\n        }\r\n        replaceLevelObject(lod, mesh, level);\r\n\r\n        // Replace the higher level objects with this level object\r\n        // if they are not loaded (= using the lowest level now) yet.\r\n        for (let i = 0; i < level; i++) {\r\n          if (states[i] !== LOADING_STATES.Complete) {\r\n            const oldObject = lod.levels[i].object;\r\n            const clonedMesh = mesh.clone();\r\n            clonedMesh.onBeforeRender = oldObject.onBeforeRender;\r\n            replaceLevelObject(lod, clonedMesh, i);\r\n          }\r\n        }\r\n\r\n        if (_this.options.onUpdate) {\r\n          _this.options.onUpdate(lod, mesh, level, lowestLevel);\r\n        }\r\n      });\r\n      clonedLowestMesh.onBeforeRender = currentOnBeforeRender;\r\n    };\r\n    lod.addLevel(clonedLowestMesh, this._calculateDistance(level, lowestLevel, def));\r\n  }\r\n\r\n  // For LOD in materials\r\n  loadMesh(meshIndex) {\r\n    if (!this._hasLODMaterial(meshIndex)) {\r\n      return null;\r\n    }\r\n\r\n    const parser = this.parser;\r\n    const json = parser.json;\r\n    const meshDef = json.meshes[meshIndex];\r\n\r\n    const primitiveDef = meshDef.primitives[0];\r\n    const materialIndex = primitiveDef.material;\r\n    const materialDef = json.materials[materialIndex];\r\n    const extensionDef = materialDef.extensions[this.name];\r\n\r\n    const meshIndices = [meshIndex];\r\n    // Very hacky solution.\r\n    // Clone the mesh def, replace the material index with a lower level one,\r\n    // add to json.meshes.\r\n    // @TODO: Fix me. Polluting json is a bad idea.\r\n    for (const materialIndex of extensionDef.ids) {\r\n      const clonedMeshDef = Object.assign({}, meshDef);\r\n      clonedMeshDef.primitives = [Object.assign({}, clonedMeshDef.primitives[0])];\r\n      clonedMeshDef.primitives[0].material = materialIndex;\r\n      meshIndices.push(json.meshes.push(clonedMeshDef) - 1);\r\n    }\r\n\r\n    const lod = new LOD();\r\n    const lowestLevel = meshIndices.length - 1;\r\n\r\n    if (this.options.loadingMode === LOADING_MODES.Progressive) {\r\n      const states = new Array(meshIndices.length).fill(LOADING_STATES.NotStarted);\r\n      const firstLoadLevel = meshIndices.length - 1;\r\n      states[firstLoadLevel] = LOADING_STATES.Loading;\r\n      return parser.loadMesh(meshIndices[firstLoadLevel]).then(mesh => {\r\n        states[firstLoadLevel] = LOADING_STATES.Complete;\r\n        if (this.options.onLoadMesh) {\r\n          mesh = this.options.onLoadMesh(lod, mesh, firstLoadLevel, lowestLevel);\r\n        }\r\n\r\n        for (let level = 0; level < meshIndices.length - 1; level++) {\r\n          this._addProgressiveLoadingLevel(\r\n            false, meshIndices[level], lod, mesh, level, lowestLevel, materialDef, states);\r\n        }\r\n        lod.addLevel(mesh, this._calculateDistance(firstLoadLevel, lowestLevel, materialDef));\r\n\r\n        if (this.options.onUpdate) {\r\n          this.options.onUpdate(lod, mesh, firstLoadLevel, lowestLevel);\r\n        }\r\n\r\n        return lod;\r\n      });\r\n    } else {\r\n      const pending = [];\r\n\r\n      for (let level = 0; level < meshIndices.length; level++) {\r\n        pending.push(parser.loadMesh(meshIndices[level]).then(mesh => {\r\n          if (this.options.onLoadMesh) {\r\n            mesh = this.options.onLoadMesh(lod, mesh, level, lowestLevel);\r\n          }\r\n          lod.addLevel(mesh, this._calculateDistance(level, lowestLevel, materialDef));\r\n          if (this.options.onUpdate) {\r\n            this.options.onUpdate(lod, mesh, level, lowestLevel);\r\n          }\r\n        }));\r\n      }\r\n\r\n      return (this.options.loadingMode === LOADING_MODES.Any\r\n        ? Promise.any(pending)\r\n        : Promise.all(pending)\r\n      ).then(() => lod);\r\n    }\r\n  }\r\n\r\n  // For LOD in nodes\r\n  createNodeMesh(nodeIndex) {\r\n    const parser = this.parser;\r\n    const json = parser.json;\r\n    const nodeDef = json.nodes[nodeIndex];\r\n\r\n    if (!nodeDef.extensions || !nodeDef.extensions[this.name]) {\r\n      return null;\r\n    }\r\n\r\n    // If LODs are defined in both nodes and materials,\r\n    // ignore the ones in the nodes and use the ones in the materials.\r\n    // Refer to https://github.com/KhronosGroup/glTF/issues/1952\r\n    // Also, if LODs contain SkinnedMesh they are not handled correctly now\r\n    // so ignore LODs for now.\r\n    // @TODO: Process correctly\r\n    if (this._hasLODMaterialOrSkinInNodes(nodeIndex)) {\r\n      return null;\r\n    }\r\n\r\n    const extensionDef = nodeDef.extensions[this.name];\r\n\r\n    // Node indices from high to low levels\r\n    const nodeIndices = extensionDef.ids.slice();\r\n    nodeIndices.unshift(nodeIndex);\r\n\r\n    const lod = new LOD();\r\n    const lowestLevel = nodeIndices.length - 1;\r\n\r\n    for (let level = 0; level < nodeIndices.length; level++) {\r\n      const nodeDef = json.nodes[nodeIndices[level]];\r\n      if (nodeDef.mesh === undefined) {\r\n        lod.addLevel(new Object3D(), this._calculateDistance(level, lowestLevel, nodeDef));\r\n      }\r\n    }\r\n\r\n    if (this.options.loadingMode === LOADING_MODES.Progressive) {\r\n      const states = [];\r\n      let firstLoadLevel = null;\r\n      for (let level = 0; level < nodeIndices.length; level++) {\r\n        if (json.nodes[nodeIndices[level]].mesh !== undefined) {\r\n          firstLoadLevel = level;\r\n          states.push(LOADING_STATES.NotStarted);\r\n        } else {\r\n          states.push(LOADING_STATES.Complete);\r\n        }\r\n      }\r\n\r\n      if (firstLoadLevel === null) {\r\n        return Promise.resolve(lod);\r\n      }\r\n\r\n      states[firstLoadLevel] = LOADING_STATES.Loading;\r\n\r\n      return parser.createNodeMesh(nodeIndices[firstLoadLevel]).then(mesh => {\r\n        states[firstLoadLevel] = LOADING_STATES.Complete;\r\n        if (this.options.onLoadMesh) {\r\n          mesh = this.options.onLoadMesh(lod, mesh, firstLoadLevel, lowestLevel);\r\n        }\r\n\r\n        for (let level = 0; level < nodeIndices.length - 1; level++) {\r\n          if (json.nodes[nodeIndices[level]].mesh === undefined) {\r\n            continue;\r\n          }\r\n          this._addProgressiveLoadingLevel(\r\n            true, nodeIndices[level], lod, mesh, level, lowestLevel, nodeDef, states);\r\n        }\r\n        lod.addLevel(mesh, this._calculateDistance(firstLoadLevel, lowestLevel, nodeDef));\r\n\r\n        if (this.options.onUpdate) {\r\n          this.options.onUpdate(lod, mesh, firstLoadLevel, lowestLevel);\r\n        }\r\n\r\n        return lod;\r\n      });\r\n    } else {\r\n      const pending = [];\r\n\r\n      for (let level = 0; level < nodeIndices.length; level++) {\r\n        if (json.nodes[nodeIndices[level]].mesh === undefined) {\r\n          continue;\r\n        }\r\n\r\n        pending.push(parser.createNodeMesh(nodeIndices[level]).then(mesh => {\r\n          if (this.options.onLoadMesh) {\r\n            mesh = this.options.onLoadMesh(lod, mesh, level, lowestLevel);\r\n          }\r\n          lod.addLevel(mesh, this._calculateDistance(level, lowestLevel, nodeDef));\r\n          if (this.options.onUpdate) {\r\n            this.options.onUpdate(lod, mesh, level, lowestLevel);\r\n          }\r\n        }));\r\n      }\r\n\r\n      if (pending.length === 0) {\r\n        return Promise.resolve(lod);\r\n      }\r\n\r\n      return (this.options.loadingMode === LOADING_MODES.Any\r\n        ? Promise.any(pending)\r\n        : Promise.all(pending)\r\n      ).then(() => lod);\r\n    }\r\n  }\r\n}\r\n","\r\nexport default\r\nclass MeshBVHNode {\r\n\r\n\tconstructor() {\r\n\r\n\t\t// internal nodes have boundingData, left, right, and splitAxis\r\n\t\t// leaf nodes have offset and count (referring to primitives in the mesh geometry)\r\n\r\n\t}\r\n\r\n}\r\n","// Returns a Float32Array representing the bounds data for box.\r\nexport function boxToArray( bx ) {\r\n\r\n\tconst arr = new Float32Array( 6 );\r\n\r\n\tarr[ 0 ] = bx.min.x;\r\n\tarr[ 1 ] = bx.min.y;\r\n\tarr[ 2 ] = bx.min.z;\r\n\r\n\tarr[ 3 ] = bx.max.x;\r\n\tarr[ 4 ] = bx.max.y;\r\n\tarr[ 5 ] = bx.max.z;\r\n\r\n\treturn arr;\r\n\r\n}\r\n\r\nexport function arrayToBox( arr, target ) {\r\n\r\n\ttarget.min.x = arr[ 0 ];\r\n\ttarget.min.y = arr[ 1 ];\r\n\ttarget.min.z = arr[ 2 ];\r\n\r\n\ttarget.max.x = arr[ 3 ];\r\n\ttarget.max.y = arr[ 4 ];\r\n\ttarget.max.z = arr[ 5 ];\r\n\r\n\treturn target;\r\n\r\n}\r\n\r\nexport function getLongestEdgeIndex( bounds ) {\r\n\r\n\tlet splitDimIdx = - 1;\r\n\tlet splitDist = - Infinity;\r\n\r\n\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\tconst dist = bounds[ i + 3 ] - bounds[ i ];\r\n\t\tif ( dist > splitDist ) {\r\n\r\n\t\t\tsplitDist = dist;\r\n\t\t\tsplitDimIdx = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn splitDimIdx;\r\n\r\n}\r\n","import { Box3, BufferAttribute } from 'three';\r\nimport MeshBVHNode from './MeshBVHNode.js';\r\nimport { arrayToBox, boxToArray, getLongestEdgeIndex } from './Utils/ArrayBoxUtilities.js';\r\nimport { CENTER, AVERAGE, SAH } from './Constants.js';\r\n\r\n// https://en.wikipedia.org/wiki/Machine_epsilon#Values_for_standard_hardware_floating_point_arithmetics\r\nconst FLOAT32_EPSILON = Math.pow( 2, - 24 );\r\nconst xyzFields = [ 'x', 'y', 'z' ];\r\nconst boxTemp = new Box3();\r\n\r\nfunction ensureIndex( geo ) {\r\n\r\n\tif ( ! geo.index ) {\r\n\r\n\t\tconst vertexCount = geo.attributes.position.count;\r\n\t\tconst index = new ( vertexCount > 65535 ? Uint32Array : Uint16Array )( vertexCount );\r\n\t\tgeo.setIndex( new BufferAttribute( index, 1 ) );\r\n\r\n\t\tfor ( let i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tindex[ i ] = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Computes the set of { offset, count } ranges which need independent BVH roots. Each\r\n// region in the geometry index that belongs to a different set of material groups requires\r\n// a separate BVH root, so that triangles indices belonging to one group never get swapped\r\n// with triangle indices belongs to another group. For example, if the groups were like this:\r\n//\r\n// [-------------------------------------------------------------]\r\n// |__________________|\r\n//   g0 = [0, 20]  |______________________||_____________________|\r\n//                      g1 = [16, 40]           g2 = [41, 60]\r\n//\r\n// we would need four BVH roots: [0, 15], [16, 20], [21, 40], [41, 60].\r\nfunction getRootIndexRanges( geo ) {\r\n\r\n\tif ( ! geo.groups || ! geo.groups.length ) {\r\n\r\n\t\treturn [ { offset: 0, count: geo.index.count / 3 } ];\r\n\r\n\t}\r\n\r\n\tconst ranges = [];\r\n\tconst rangeBoundaries = new Set();\r\n\tfor ( const group of geo.groups ) {\r\n\r\n\t\trangeBoundaries.add( group.start );\r\n\t\trangeBoundaries.add( group.start + group.count );\r\n\r\n\t}\r\n\r\n\t// note that if you don't pass in a comparator, it sorts them lexicographically as strings :-(\r\n\tconst sortedBoundaries = Array.from( rangeBoundaries.values() ).sort( ( a, b ) => a - b );\r\n\tfor ( let i = 0; i < sortedBoundaries.length - 1; i ++ ) {\r\n\r\n\t\tconst start = sortedBoundaries[ i ], end = sortedBoundaries[ i + 1 ];\r\n\t\tranges.push( { offset: ( start / 3 ), count: ( end - start ) / 3 } );\r\n\r\n\t}\r\n\r\n\treturn ranges;\r\n\r\n}\r\n\r\n// computes the union of the bounds of all of the given triangles and puts the resulting box in target. If\r\n// centroidTarget is provided then a bounding box is computed for the centroids of the triangles, as well.\r\n// These are computed together to avoid redundant accesses to bounds array.\r\nfunction getBounds( triangleBounds, offset, count, target, centroidTarget = null ) {\r\n\r\n\tlet minx = Infinity;\r\n\tlet miny = Infinity;\r\n\tlet minz = Infinity;\r\n\tlet maxx = - Infinity;\r\n\tlet maxy = - Infinity;\r\n\tlet maxz = - Infinity;\r\n\r\n\tlet cminx = Infinity;\r\n\tlet cminy = Infinity;\r\n\tlet cminz = Infinity;\r\n\tlet cmaxx = - Infinity;\r\n\tlet cmaxy = - Infinity;\r\n\tlet cmaxz = - Infinity;\r\n\r\n\tconst includeCentroid = centroidTarget !== null;\r\n\tfor ( let i = offset * 6, end = ( offset + count ) * 6; i < end; i += 6 ) {\r\n\r\n\t\tconst cx = triangleBounds[ i + 0 ];\r\n\t\tconst hx = triangleBounds[ i + 1 ];\r\n\t\tconst lx = cx - hx;\r\n\t\tconst rx = cx + hx;\r\n\t\tif ( lx < minx ) minx = lx;\r\n\t\tif ( rx > maxx ) maxx = rx;\r\n\t\tif ( includeCentroid && cx < cminx ) cminx = cx;\r\n\t\tif ( includeCentroid && cx > cmaxx ) cmaxx = cx;\r\n\r\n\t\tconst cy = triangleBounds[ i + 2 ];\r\n\t\tconst hy = triangleBounds[ i + 3 ];\r\n\t\tconst ly = cy - hy;\r\n\t\tconst ry = cy + hy;\r\n\t\tif ( ly < miny ) miny = ly;\r\n\t\tif ( ry > maxy ) maxy = ry;\r\n\t\tif ( includeCentroid && cy < cminy ) cminy = cy;\r\n\t\tif ( includeCentroid && cy > cmaxy ) cmaxy = cy;\r\n\r\n\t\tconst cz = triangleBounds[ i + 4 ];\r\n\t\tconst hz = triangleBounds[ i + 5 ];\r\n\t\tconst lz = cz - hz;\r\n\t\tconst rz = cz + hz;\r\n\t\tif ( lz < minz ) minz = lz;\r\n\t\tif ( rz > maxz ) maxz = rz;\r\n\t\tif ( includeCentroid && cz < cminz ) cminz = cz;\r\n\t\tif ( includeCentroid && cz > cmaxz ) cmaxz = cz;\r\n\r\n\t}\r\n\r\n\ttarget[ 0 ] = minx;\r\n\ttarget[ 1 ] = miny;\r\n\ttarget[ 2 ] = minz;\r\n\r\n\ttarget[ 3 ] = maxx;\r\n\ttarget[ 4 ] = maxy;\r\n\ttarget[ 5 ] = maxz;\r\n\r\n\tif ( includeCentroid ) {\r\n\r\n\t\tcentroidTarget[ 0 ] = cminx;\r\n\t\tcentroidTarget[ 1 ] = cminy;\r\n\t\tcentroidTarget[ 2 ] = cminz;\r\n\r\n\t\tcentroidTarget[ 3 ] = cmaxx;\r\n\t\tcentroidTarget[ 4 ] = cmaxy;\r\n\t\tcentroidTarget[ 5 ] = cmaxz;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// A stand alone function for retrieving the centroid bounds.\r\nfunction getCentroidBounds( triangleBounds, offset, count, centroidTarget ) {\r\n\r\n\tlet cminx = Infinity;\r\n\tlet cminy = Infinity;\r\n\tlet cminz = Infinity;\r\n\tlet cmaxx = - Infinity;\r\n\tlet cmaxy = - Infinity;\r\n\tlet cmaxz = - Infinity;\r\n\r\n\tfor ( let i = offset * 6, end = ( offset + count ) * 6; i < end; i += 6 ) {\r\n\r\n\t\tconst cx = triangleBounds[ i + 0 ];\r\n\t\tif ( cx < cminx ) cminx = cx;\r\n\t\tif ( cx > cmaxx ) cmaxx = cx;\r\n\r\n\t\tconst cy = triangleBounds[ i + 2 ];\r\n\t\tif ( cy < cminy ) cminy = cy;\r\n\t\tif ( cy > cmaxy ) cmaxy = cy;\r\n\r\n\t\tconst cz = triangleBounds[ i + 4 ];\r\n\t\tif ( cz < cminz ) cminz = cz;\r\n\t\tif ( cz > cmaxz ) cmaxz = cz;\r\n\r\n\t}\r\n\r\n\tcentroidTarget[ 0 ] = cminx;\r\n\tcentroidTarget[ 1 ] = cminy;\r\n\tcentroidTarget[ 2 ] = cminz;\r\n\r\n\tcentroidTarget[ 3 ] = cmaxx;\r\n\tcentroidTarget[ 4 ] = cmaxy;\r\n\tcentroidTarget[ 5 ] = cmaxz;\r\n\r\n}\r\n\r\n\r\n// reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\r\n// will be on the left and elements on the right side of the split will be on the right. returns the index\r\n// of the first element on the right side, or offset + count if there are no elements on the right side.\r\nfunction partition( index, triangleBounds, sahPlanes, offset, count, split ) {\r\n\r\n\tlet left = offset;\r\n\tlet right = offset + count - 1;\r\n\tconst pos = split.pos;\r\n\tconst axisOffset = split.axis * 2;\r\n\r\n\t// hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\r\n\twhile ( true ) {\r\n\r\n\t\twhile ( left <= right && triangleBounds[ left * 6 + axisOffset ] < pos ) {\r\n\r\n\t\t\tleft ++;\r\n\r\n\t\t}\r\n\r\n\t\twhile ( left <= right && triangleBounds[ right * 6 + axisOffset ] >= pos ) {\r\n\r\n\t\t\tright --;\r\n\r\n\t\t}\r\n\r\n\t\tif ( left < right ) {\r\n\r\n\t\t\t// we need to swap all of the information associated with the triangles at index\r\n\t\t\t// left and right; that's the verts in the geometry index, the bounds,\r\n\t\t\t// and perhaps the SAH planes\r\n\r\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\tlet t0 = index[ left * 3 + i ];\r\n\t\t\t\tindex[ left * 3 + i ] = index[ right * 3 + i ];\r\n\t\t\t\tindex[ right * 3 + i ] = t0;\r\n\r\n\t\t\t\tlet t1 = triangleBounds[ left * 6 + i * 2 + 0 ];\r\n\t\t\t\ttriangleBounds[ left * 6 + i * 2 + 0 ] = triangleBounds[ right * 6 + i * 2 + 0 ];\r\n\t\t\t\ttriangleBounds[ right * 6 + i * 2 + 0 ] = t1;\r\n\r\n\t\t\t\tlet t2 = triangleBounds[ left * 6 + i * 2 + 1 ];\r\n\t\t\t\ttriangleBounds[ left * 6 + i * 2 + 1 ] = triangleBounds[ right * 6 + i * 2 + 1 ];\r\n\t\t\t\ttriangleBounds[ right * 6 + i * 2 + 1 ] = t2;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( sahPlanes ) {\r\n\r\n\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\tlet t = sahPlanes[ i ][ left ];\r\n\t\t\t\t\tsahPlanes[ i ][ left ] = sahPlanes[ i ][ right ];\r\n\t\t\t\t\tsahPlanes[ i ][ right ] = t;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tleft ++;\r\n\t\t\tright --;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn left;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction getOptimalSplit( nodeBoundingData, centroidBoundingData, triangleBounds, sahPlanes, offset, count, strategy ) {\r\n\r\n\tlet axis = - 1;\r\n\tlet pos = 0;\r\n\r\n\t// Center\r\n\tif ( strategy === CENTER ) {\r\n\r\n\t\taxis = getLongestEdgeIndex( centroidBoundingData );\r\n\t\tif ( axis !== - 1 ) {\r\n\r\n\t\t\tpos = ( centroidBoundingData[ axis ] + centroidBoundingData[ axis + 3 ] ) / 2;\r\n\r\n\t\t}\r\n\r\n\t} else if ( strategy === AVERAGE ) {\r\n\r\n\t\taxis = getLongestEdgeIndex( nodeBoundingData );\r\n\t\tif ( axis !== - 1 ) {\r\n\r\n\t\t\tpos = getAverage( triangleBounds, offset, count, axis );\r\n\r\n\t\t}\r\n\r\n\t} else if ( strategy === SAH ) {\r\n\r\n\t\t// Surface Area Heuristic\r\n\t\t// In order to make this code more terse, the x, y, and z\r\n\t\t// variables of various structures have been stuffed into\r\n\t\t// 0, 1, and 2 array indices so they can be easily computed\r\n\t\t// and accessed within array iteration\r\n\r\n\t\t// Cost values defineed for operations. We're using bounds for traversal, so\r\n\t\t// the cost of traversing one more layer is more than intersecting a triangle.\r\n\t\tconst TRAVERSAL_COST = 3;\r\n\t\tconst INTERSECTION_COST = 1;\r\n\t\tconst bb = arrayToBox( nodeBoundingData, boxTemp );\r\n\r\n\t\t// Define the width, height, and depth of the bounds as a box\r\n\t\tconst dim = [\r\n\t\t\tbb.max.x - bb.min.x,\r\n\t\t\tbb.max.y - bb.min.y,\r\n\t\t\tbb.max.z - bb.min.z\r\n\t\t];\r\n\t\tconst sa = 2 * ( dim[ 0 ] * dim[ 1 ] + dim[ 0 ] * dim[ 2 ] + dim[ 1 ] * dim[ 2 ] );\r\n\r\n\t\t// Get the precalculated planes based for the triangles we're\r\n\t\t// testing here\r\n\t\tconst filteredLists = [[], [], []];\r\n\t\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\r\n\r\n\t\t\tfor ( let v = 0; v < 3; v ++ ) {\r\n\r\n\t\t\t\tfilteredLists[ v ].push( sahPlanes[ v ][ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfilteredLists.forEach( planes => planes.sort( ( a, b ) => a.p - b.p ) );\r\n\r\n\t\t// this bounds surface area, left bound SA, left triangles, right bound SA, right triangles\r\n\t\tconst getCost = ( sa, sal, nl, sar, nr ) =>\r\n\t\t\t  TRAVERSAL_COST + INTERSECTION_COST * ( ( sal / sa ) * nl + ( sar / sa ) * nr );\r\n\r\n\t\t// the cost of _not_ splitting into smaller bounds\r\n\t\tconst noSplitCost = INTERSECTION_COST * count;\r\n\r\n\t\taxis = - 1;\r\n\t\tlet bestCost = noSplitCost;\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t// o1 and o2 represent the _other_ two axes in the\r\n\t\t\t// the space. So if we're checking the x (0) dimension,\r\n\t\t\t// then o1 and o2 would be y and z (1 and 2)\r\n\t\t\tconst o1 = ( i + 1 ) % 3;\r\n\t\t\tconst o2 = ( i + 2 ) % 3;\r\n\r\n\t\t\tconst bmin = bb.min[ xyzFields[ i ] ];\r\n\t\t\tconst bmax = bb.max[ xyzFields[ i ] ];\r\n\t\t\tconst planes = filteredLists[ i ];\r\n\r\n\t\t\t// The number of left and right triangles on either side\r\n\t\t\t// given the current split\r\n\t\t\tlet nl = 0;\r\n\t\t\tlet nr = count;\r\n\t\t\tfor ( let p = 0; p < planes.length; p ++ ) {\r\n\r\n\t\t\t\tconst pinfo = planes[ p ];\r\n\r\n\t\t\t\t// As the plane moves, we have to increment or decrement the\r\n\t\t\t\t// number of triangles on either side of the plane\r\n\t\t\t\tnl ++;\r\n\t\t\t\tnr --;\r\n\r\n\t\t\t\t// the distance from the plane to the edge of the broader bounds\r\n\t\t\t\tconst ldim = pinfo.p - bmin;\r\n\t\t\t\tconst rdim = bmax - pinfo.p;\r\n\r\n\t\t\t\t// same for the other two dimensions\r\n\t\t\t\tlet ldimo1 = dim[ o1 ], rdimo1 = dim[ o1 ];\r\n\t\t\t\tlet ldimo2 = dim[ o2 ], rdimo2 = dim[ o2 ];\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t// compute the other bounding planes for the box\r\n\t\t\t\t// if only the current triangles are considered to\r\n\t\t\t\t// be in the box\r\n\t\t\t\t// This is really slow and probably not really worth it\r\n\t\t\t\tconst o1planes = sahPlanes[o1];\r\n\t\t\t\tconst o2planes = sahPlanes[o2];\r\n\t\t\t\tlet lmin = Infinity, lmax = -Infinity;\r\n\t\t\t\tlet rmin = Infinity, rmax = -Infinity;\r\n\t\t\t\tplanes.forEach((p, i) => {\r\n\t\t\t\tconst tri2 = p.tri * 2;\r\n\t\t\t\tconst inf1 = o1planes[tri2 + 0];\r\n\t\t\t\tconst inf2 = o1planes[tri2 + 1];\r\n\t\t\t\tif (i <= nl) {\r\n\t\t\t\tlmin = Math.min(inf1.p, inf2.p, lmin);\r\n\t\t\t\tlmax = Math.max(inf1.p, inf2.p, lmax);\r\n\t\t\t\t}\r\n\t\t\t\tif (i >= nr) {\r\n\t\t\t\trmin = Math.min(inf1.p, inf2.p, rmin);\r\n\t\t\t\trmax = Math.max(inf1.p, inf2.p, rmax);\r\n\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tldimo1 = Math.min(lmax - lmin, ldimo1);\r\n\t\t\t\trdimo1 = Math.min(rmax - rmin, rdimo1);\r\n\r\n\t\t\t\tplanes.forEach((p, i) => {\r\n\t\t\t\tconst tri2 = p.tri * 2;\r\n\t\t\t\tconst inf1 = o2planes[tri2 + 0];\r\n\t\t\t\tconst inf2 = o2planes[tri2 + 1];\r\n\t\t\t\tif (i <= nl) {\r\n\t\t\t\tlmin = Math.min(inf1.p, inf2.p, lmin);\r\n\t\t\t\tlmax = Math.max(inf1.p, inf2.p, lmax);\r\n\t\t\t\t}\r\n\t\t\t\tif (i >= nr) {\r\n\t\t\t\trmin = Math.min(inf1.p, inf2.p, rmin);\r\n\t\t\t\trmax = Math.max(inf1.p, inf2.p, rmax);\r\n\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tldimo2 = Math.min(lmax - lmin, ldimo2);\r\n\t\t\t\trdimo2 = Math.min(rmax - rmin, rdimo2);\r\n\t\t\t\t*/\r\n\r\n\t\t\t\t// surface areas and cost\r\n\t\t\t\tconst sal = 2 * ( ldimo1 * ldimo2 + ldimo1 * ldim + ldimo2 * ldim );\r\n\t\t\t\tconst sar = 2 * ( rdimo1 * rdimo2 + rdimo1 * rdim + rdimo2 * rdim );\r\n\t\t\t\tconst cost = getCost( sa, sal, nl, sar, nr );\r\n\r\n\t\t\t\tif ( cost < bestCost ) {\r\n\r\n\t\t\t\t\taxis = i;\r\n\t\t\t\t\tpos = pinfo.p;\r\n\t\t\t\t\tbestCost = cost;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { axis, pos };\r\n\r\n}\r\n\r\n// returns the average coordinate on the specified axis of the all the provided triangles\r\nfunction getAverage( triangleBounds, offset, count, axis ) {\r\n\r\n\tlet avg = 0;\r\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\r\n\r\n\t\tavg += triangleBounds[ i * 6 + axis * 2 ];\r\n\r\n\t}\r\n\r\n\treturn avg / count;\r\n\r\n}\r\n\r\nfunction computeSAHPlanes( triangleBounds ) {\r\n\r\n\tconst triCount = triangleBounds.length / 6;\r\n\tconst sahPlanes = [ new Array( triCount ), new Array( triCount ), new Array( triCount ) ];\r\n\tfor ( let tri = 0; tri < triCount; tri ++ ) {\r\n\r\n\t\tfor ( let el = 0; el < 3; el ++ ) {\r\n\r\n\t\t\tsahPlanes[ el ][ tri ] = { p: triangleBounds[ tri * 6 + el * 2 ], tri };\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn sahPlanes;\r\n\r\n}\r\n\r\n// precomputes the bounding box for each triangle; required for quickly calculating tree splits.\r\n// result is an array of size tris.length * 6 where triangle i maps to a\r\n// [x_center, x_delta, y_center, y_delta, z_center, z_delta] tuple starting at index i * 6,\r\n// representing the center and half-extent in each dimension of triangle i\r\nfunction computeTriangleBounds( geo ) {\r\n\r\n\tconst verts = geo.attributes.position.array;\r\n\tconst index = geo.index.array;\r\n\tconst triCount = index.length / 3;\r\n\tconst triangleBounds = new Float32Array( triCount * 6 );\r\n\r\n\tfor ( let tri = 0; tri < triCount; tri ++ ) {\r\n\r\n\t\tconst tri3 = tri * 3;\r\n\t\tconst tri6 = tri * 6;\r\n\t\tconst ai = index[ tri3 + 0 ] * 3;\r\n\t\tconst bi = index[ tri3 + 1 ] * 3;\r\n\t\tconst ci = index[ tri3 + 2 ] * 3;\r\n\r\n\t\tfor ( let el = 0; el < 3; el ++ ) {\r\n\r\n\t\t\tconst a = verts[ ai + el ];\r\n\t\t\tconst b = verts[ bi + el ];\r\n\t\t\tconst c = verts[ ci + el ];\r\n\r\n\t\t\tlet min = a;\r\n\t\t\tif ( b < min ) min = b;\r\n\t\t\tif ( c < min ) min = c;\r\n\r\n\t\t\tlet max = a;\r\n\t\t\tif ( b > max ) max = b;\r\n\t\t\tif ( c > max ) max = c;\r\n\r\n\t\t\t// Increase the bounds size by float32 epsilon to avoid precision errors when\r\n\t\t\t// converting to 32 bit float. Scale the epsilon by the size of the numbers being\r\n\t\t\t// worked with.\r\n\t\t\tconst halfExtents = ( max - min ) / 2;\r\n\t\t\tconst el2 = el * 2;\r\n\t\t\ttriangleBounds[ tri6 + el2 + 0 ] = min + halfExtents;\r\n\t\t\ttriangleBounds[ tri6 + el2 + 1 ] = halfExtents + ( Math.abs( min ) + halfExtents ) * FLOAT32_EPSILON;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn triangleBounds;\r\n\r\n}\r\n\r\nexport function buildTree( geo, options ) {\r\n\r\n\t// either recursively splits the given node, creating left and right subtrees for it, or makes it a leaf node,\r\n\t// recording the offset and count of its triangles and writing them into the reordered geometry index.\r\n\tfunction splitNode( node, offset, count, centroidBoundingData = null, depth = 0 ) {\r\n\r\n\t\tif ( ! reachedMaxDepth && depth >= maxDepth ) {\r\n\r\n\t\t\treachedMaxDepth = true;\r\n\t\t\tif ( verbose ) {\r\n\r\n\t\t\t\tconsole.warn( `MeshBVH: Max depth of ${ maxDepth } reached when generating BVH. Consider increasing maxDepth.` );\r\n\t\t\t\tconsole.warn( this, geo );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// early out if we've met our capacity\r\n\t\tif ( count <= maxLeafTris || depth >= maxDepth ) {\r\n\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\t\t\treturn node;\r\n\r\n\t\t}\r\n\r\n\t\t// Find where to split the volume\r\n\t\tconst split = getOptimalSplit( node.boundingData, centroidBoundingData, triangleBounds, sahPlanes, offset, count, strategy );\r\n\t\tif ( split.axis === - 1 ) {\r\n\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\t\t\treturn node;\r\n\r\n\t\t}\r\n\r\n\t\tconst splitOffset = partition( indexArray, triangleBounds, sahPlanes, offset, count, split );\r\n\r\n\t\t// create the two new child nodes\r\n\t\tif ( splitOffset === offset || splitOffset === offset + count ) {\r\n\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tnode.splitAxis = split.axis;\r\n\r\n\t\t\t// create the left child and compute its bounding box\r\n\t\t\tconst left = new MeshBVHNode();\r\n\t\t\tconst lstart = offset;\r\n\t\t\tconst lcount = splitOffset - offset;\r\n\t\t\tnode.left = left;\r\n\t\t\tleft.boundingData = new Float32Array( 6 );\r\n\r\n\t\t\tif ( lazyGeneration ) {\r\n\r\n\t\t\t\tgetBounds( triangleBounds, lstart, lcount, left.boundingData );\r\n\t\t\t\tleft.continueGeneration = function () {\r\n\r\n\t\t\t\t\tdelete this.continueGeneration;\r\n\t\t\t\t\tgetCentroidBounds( triangleBounds, lstart, lcount, cacheCentroidBoundingData );\r\n\t\t\t\t\tsplitNode( left, lstart, lcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgetBounds( triangleBounds, lstart, lcount, left.boundingData, cacheCentroidBoundingData );\r\n\t\t\t\tsplitNode( left, lstart, lcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// repeat for right\r\n\t\t\tconst right = new MeshBVHNode();\r\n\t\t\tconst rstart = splitOffset;\r\n\t\t\tconst rcount = count - lcount;\r\n\t\t\tnode.right = right;\r\n\t\t\tright.boundingData = new Float32Array( 6 );\r\n\r\n\t\t\tif ( lazyGeneration ) {\r\n\r\n\t\t\t\tgetBounds( triangleBounds, rstart, rcount, right.boundingData );\r\n\t\t\t\tright.continueGeneration = function () {\r\n\r\n\t\t\t\t\tdelete this.continueGeneration;\r\n\t\t\t\t\tgetCentroidBounds( triangleBounds, rstart, rcount, cacheCentroidBoundingData );\r\n\t\t\t\t\tsplitNode( right, rstart, rcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgetBounds( triangleBounds, rstart, rcount, right.boundingData, cacheCentroidBoundingData );\r\n\t\t\t\tsplitNode( right, rstart, rcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\r\n\t}\r\n\r\n\tensureIndex( geo );\r\n\r\n\tconst cacheCentroidBoundingData = new Float32Array( 6 );\r\n\tconst triangleBounds = computeTriangleBounds( geo );\r\n\tconst sahPlanes = options.strategy === SAH ? computeSAHPlanes( triangleBounds ) : null;\r\n\tconst indexArray = geo.index.array;\r\n\tconst maxDepth = options.maxDepth;\r\n\tconst verbose = options.verbose;\r\n\tconst maxLeafTris = options.maxLeafTris;\r\n\tconst strategy = options.strategy;\r\n\tconst lazyGeneration = options.lazyGeneration;\r\n\tlet reachedMaxDepth = false;\r\n\r\n\tconst roots = [];\r\n\tconst ranges = getRootIndexRanges( geo );\r\n\r\n\tif ( ranges.length === 1 ) {\r\n\r\n\t\tconst root = new MeshBVHNode();\r\n\t\tconst range = ranges[ 0 ];\r\n\r\n\t\tif ( geo.boundingBox != null ) {\r\n\r\n\t\t\troot.boundingData = boxToArray( geo.boundingBox );\r\n\t\t\tgetCentroidBounds( triangleBounds, range.offset, range.count, cacheCentroidBoundingData );\r\n\r\n\t\t} else {\r\n\r\n\t\t\troot.boundingData = new Float32Array( 6 );\r\n\t\t\tgetBounds( triangleBounds, range.offset, range.count, root.boundingData, cacheCentroidBoundingData );\r\n\r\n\t\t}\r\n\r\n\t\tsplitNode( root, range.offset, range.count, cacheCentroidBoundingData );\r\n\t\troots.push( root );\r\n\r\n\t} else {\r\n\r\n\t\tfor ( let range of ranges ) {\r\n\r\n\t\t\tconst root = new MeshBVHNode();\r\n\t\t\troot.boundingData = new Float32Array( 6 );\r\n\t\t\tgetBounds( triangleBounds, range.offset, range.count, root.boundingData, cacheCentroidBoundingData );\r\n\r\n\t\t\tsplitNode( root, range.offset, range.count, cacheCentroidBoundingData );\r\n\t\t\troots.push( root );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// if the geometry doesn't have a bounding box, then let's politely populate it using\r\n\t// the work we did to determine the BVH root bounds\r\n\tif ( geo.boundingBox == null ) {\r\n\r\n\t\tconst rootBox = new Box3();\r\n\t\tgeo.boundingBox = new Box3();\r\n\r\n\t\tfor ( let root of roots ) {\r\n\r\n\t\t\tgeo.boundingBox.union( arrayToBox( root.boundingData, rootBox ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn roots;\r\n\r\n}\r\n","import { Vector3 } from 'three';\r\n\r\nexport class SeparatingAxisBounds {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.min = Infinity;\r\n\t\tthis.max = - Infinity;\r\n\r\n\t}\r\n\r\n\tsetFromPointsField( points, field ) {\r\n\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst p = points[ i ];\r\n\t\t\tconst val = p[ field ];\r\n\t\t\tmin = Math.min( val, min );\r\n\t\t\tmax = Math.max( val, max );\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\r\n\t}\r\n\r\n\tsetFromPoints( axis, points ) {\r\n\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst p = points[ i ];\r\n\t\t\tconst val = axis.dot( p );\r\n\t\t\tmin = Math.min( val, min );\r\n\t\t\tmax = Math.max( val, max );\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t}\r\n\r\n\tisSeparated( other ) {\r\n\r\n\t\treturn this.min > other.max || other.min > this.max;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSeparatingAxisBounds.prototype.setFromBox = ( function () {\r\n\r\n\tconst p = new Vector3();\r\n\treturn function setFromBox( axis, box ) {\r\n\r\n\t\tconst boxMin = box.min;\r\n\t\tconst boxMax = box.max;\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\r\n\r\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\r\n\r\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\r\n\r\n\t\t\t\t\tp.x = boxMin.x * x + boxMax.x * ( 1 - x );\r\n\t\t\t\t\tp.y = boxMin.y * y + boxMax.y * ( 1 - y );\r\n\t\t\t\t\tp.z = boxMin.z * z + boxMax.z * ( 1 - z );\r\n\r\n\t\t\t\t\tconst val = axis.dot( p );\r\n\t\t\t\t\tmin = Math.min( val, min );\r\n\t\t\t\t\tmax = Math.max( val, max );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nexport const areIntersecting = ( function () {\r\n\r\n\tconst cacheSatBounds = new SeparatingAxisBounds();\r\n\treturn function areIntersecting( shape1, shape2 ) {\r\n\r\n\t\tconst points1 = shape1.points;\r\n\t\tconst satAxes1 = shape1.satAxes;\r\n\t\tconst satBounds1 = shape1.satBounds;\r\n\r\n\t\tconst points2 = shape2.points;\r\n\t\tconst satAxes2 = shape2.satAxes;\r\n\t\tconst satBounds2 = shape2.satBounds;\r\n\r\n\t\t// check axes of the first shape\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds1[ i ];\r\n\t\t\tconst sa = satAxes1[ i ];\r\n\t\t\tcacheSatBounds.setFromPoints( sa, points2 );\r\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\t// check axes of the second shape\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds2[ i ];\r\n\t\t\tconst sa = satAxes2[ i ];\r\n\t\t\tcacheSatBounds.setFromPoints( sa, points1 );\r\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n","import { Vector3, Vector2, Plane, Line3 } from 'three';\nexport const closestPointLineToLine = ( function () {\n\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/Line.cpp#L56\n\tconst dir1 = new Vector3();\n\tconst dir2 = new Vector3();\n\tconst v02 = new Vector3();\n\treturn function closestPointLineToLine( l1, l2, result ) {\n\n\t\tconst v0 = l1.start;\n\t\tconst v10 = dir1;\n\t\tconst v2 = l2.start;\n\t\tconst v32 = dir2;\n\n\t\tv02.subVectors( v0, v2 );\n\t\tdir1.subVectors( l1.end, l2.start );\n\t\tdir2.subVectors( l2.end, l2.start );\n\n\t\t// float d0232 = v02.Dot(v32);\n\t\tconst d0232 = v02.dot( v32 );\n\n\t\t// float d3210 = v32.Dot(v10);\n\t\tconst d3210 = v32.dot( v10 );\n\n\t\t// float d3232 = v32.Dot(v32);\n\t\tconst d3232 = v32.dot( v32 );\n\n\t\t// float d0210 = v02.Dot(v10);\n\t\tconst d0210 = v02.dot( v10 );\n\n\t\t// float d1010 = v10.Dot(v10);\n\t\tconst d1010 = v10.dot( v10 );\n\n\t\t// float denom = d1010*d3232 - d3210*d3210;\n\t\tconst denom = d1010 * d3232 - d3210 * d3210;\n\n\t\tlet d, d2;\n\t\tif ( denom !== 0 ) {\n\n\t\t\td = ( d0232 * d3210 - d0210 * d3232 ) / denom;\n\n\t\t} else {\n\n\t\t\td = 0;\n\n\t\t}\n\n\t\td2 = ( d0232 + d * d3210 ) / d3232;\n\n\t\tresult.x = d;\n\t\tresult.y = d2;\n\n\t};\n\n} )();\n\nexport const closestPointsSegmentToSegment = ( function () {\n\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/LineSegment.cpp#L187\n\tconst paramResult = new Vector2();\n\tconst temp1 = new Vector3();\n\tconst temp2 = new Vector3();\n\treturn function closestPointsSegmentToSegment( l1, l2, target1, target2 ) {\n\n\t\tclosestPointLineToLine( l1, l2, paramResult );\n\n\t\tlet d = paramResult.x;\n\t\tlet d2 = paramResult.y;\n\t\tif ( d >= 0 && d <= 1 && d2 >= 0 && d2 <= 1 ) {\n\n\t\t\tl1.at( d, target1 );\n\t\t\tl2.at( d2, target2 );\n\n\t\t\treturn;\n\n\t\t} else if ( d >= 0 && d <= 1 ) {\n\n\t\t\t// Only d2 is out of bounds.\n\t\t\tif ( d2 < 0 ) {\n\n\t\t\t\tl2.at( 0, target2 );\n\n\t\t\t} else {\n\n\t\t\t\tl2.at( 1, target2 );\n\n\t\t\t}\n\n\t\t\tl1.closestPointToPoint( target2, true, target1 );\n\t\t\treturn;\n\n\t\t} else if ( d2 >= 0 && d2 <= 1 ) {\n\n\t\t\t// Only d is out of bounds.\n\t\t\tif ( d < 0 ) {\n\n\t\t\t\tl1.at( 0, target1 );\n\n\t\t\t} else {\n\n\t\t\t\tl1.at( 1, target1 );\n\n\t\t\t}\n\n\t\t\tl2.closestPointToPoint( target1, true, target2 );\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// Both u and u2 are out of bounds.\n\t\t\tlet p;\n\t\t\tif ( d < 0 ) {\n\n\t\t\t\tp = l1.start;\n\n\t\t\t} else {\n\n\t\t\t\tp = l1.end;\n\n\t\t\t}\n\n\t\t\tlet p2;\n\t\t\tif ( d2 < 0 ) {\n\n\t\t\t\tp2 = l2.start;\n\n\t\t\t} else {\n\n\t\t\t\tp2 = l2.end;\n\n\t\t\t}\n\n\t\t\tconst closestPoint = temp1;\n\t\t\tconst closestPoint2 = temp2;\n\t\t\tl1.closestPointToPoint( p2, true, temp1 );\n\t\t\tl2.closestPointToPoint( p, true, temp2 );\n\n\t\t\tif ( closestPoint.distanceToSquared( p2 ) <= closestPoint2.distanceToSquared( p ) ) {\n\n\t\t\t\ttarget1.copy( closestPoint );\n\t\t\t\ttarget2.copy( p2 );\n\t\t\t\treturn;\n\n\t\t\t} else {\n\n\t\t\t\ttarget1.copy( p );\n\t\t\t\ttarget2.copy( closestPoint2 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n} )();\n\n\nexport const sphereIntersectTriangle = ( function () {\n\n\t// https://stackoverflow.com/questions/34043955/detect-collision-between-sphere-and-triangle-in-three-js\n\tconst closestPointTemp = new Vector3();\n\tconst projectedPointTemp = new Vector3();\n\tconst planeTemp = new Plane();\n\tconst lineTemp = new Line3();\n\treturn function sphereIntersectTriangle( sphere, triangle ) {\n\n\t\tconst { radius, center } = sphere;\n\t\tconst { a, b, c } = triangle;\n\n\t\t// phase 1\n\t\tlineTemp.start = a;\n\t\tlineTemp.end = b;\n\t\tconst closestPoint1 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint1.distanceTo( center ) <= radius ) return true;\n\n\t\tlineTemp.start = a;\n\t\tlineTemp.end = c;\n\t\tconst closestPoint2 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint2.distanceTo( center ) <= radius ) return true;\n\n\t\tlineTemp.start = b;\n\t\tlineTemp.end = c;\n\t\tconst closestPoint3 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint3.distanceTo( center ) <= radius ) return true;\n\n\t\t// phase 2\n\t\tconst plane = triangle.getPlane( planeTemp );\n\t\tconst dp = Math.abs( plane.distanceToPoint( center ) );\n\t\tif ( dp <= radius ) {\n\n\t\t\tconst pp = plane.projectPoint( center, projectedPointTemp );\n\t\t\tconst cp = triangle.containsPoint( pp );\n\t\t\tif ( cp ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n} )();\n","import { Triangle, Vector3, Line3, Sphere } from 'three';\r\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\r\nimport { closestPointsSegmentToSegment, sphereIntersectTriangle } from './MathUtilities.js';\r\n\r\nexport class SeparatingAxisTriangle extends Triangle {\r\n\r\n\tconstructor( ...args ) {\r\n\r\n\t\tsuper( ...args );\r\n\r\n\t\tthis.isSeparatingAxisTriangle = true;\r\n\t\tthis.satAxes = new Array( 4 ).fill().map( () => new Vector3() );\r\n\t\tthis.satBounds = new Array( 4 ).fill().map( () => new SeparatingAxisBounds() );\r\n\t\tthis.points = [ this.a, this.b, this.c ];\r\n\t\tthis.sphere = new Sphere();\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\treturn sphereIntersectTriangle( sphere, this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nSeparatingAxisTriangle.prototype.update = ( function () {\r\n\r\n\tconst arr = new Array( 3 );\r\n\treturn function update() {\r\n\r\n\t\tconst a = this.a;\r\n\t\tconst b = this.b;\r\n\t\tconst c = this.c;\r\n\r\n\t\tarr[ 0 ] = this.a;\r\n\t\tarr[ 1 ] = this.b;\r\n\t\tarr[ 2 ] = this.c;\r\n\r\n\t\tconst satAxes = this.satAxes;\r\n\t\tconst satBounds = this.satBounds;\r\n\r\n\t\tconst axis0 = satAxes[ 0 ];\r\n\t\tconst sab0 = satBounds[ 0 ];\r\n\t\tthis.getNormal( axis0 );\r\n\t\tsab0.setFromPoints( axis0, arr );\r\n\r\n\t\tconst axis1 = satAxes[ 1 ];\r\n\t\tconst sab1 = satBounds[ 1 ];\r\n\t\taxis1.subVectors( a, b );\r\n\t\tsab1.setFromPoints( axis1, arr );\r\n\r\n\t\tconst axis2 = satAxes[ 2 ];\r\n\t\tconst sab2 = satBounds[ 2 ];\r\n\t\taxis2.subVectors( b, c );\r\n\t\tsab2.setFromPoints( axis2, arr );\r\n\r\n\t\tconst axis3 = satAxes[ 3 ];\r\n\t\tconst sab3 = satBounds[ 3 ];\r\n\t\taxis3.subVectors( c, a );\r\n\t\tsab3.setFromPoints( axis3, arr );\r\n\r\n\t\tthis.sphere.setFromPoints( this.points );\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nSeparatingAxisTriangle.prototype.closestPointToSegment = ( function () {\r\n\r\n\tconst point1 = new Vector3();\r\n\tconst point2 = new Vector3();\r\n\tconst edge = new Line3();\r\n\r\n\treturn function distanceToSegment( segment, target1 = null, target2 = null ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tconst { start, end } = segment;\r\n\t\tconst points = this.points;\r\n\t\tlet distSq;\r\n\t\tlet closestDistanceSq = Infinity;\r\n\r\n\t\t// check the triangle edges\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst nexti = ( i + 1 ) % 3;\r\n\t\t\tedge.start.copy( points[ i ] );\r\n\t\t\tedge.end.copy( points[ nexti ] );\r\n\r\n\t\t\tclosestPointsSegmentToSegment( edge, segment, point1, point2 );\r\n\r\n\t\t\tdistSq = point1.distanceToSquared( point2 );\r\n\t\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = distSq;\r\n\t\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// check end points\r\n\t\tthis.closestPointToPoint( start, point1 );\r\n\t\tdistSq = start.distanceToSquared( point1 );\r\n\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\tclosestDistanceSq = distSq;\r\n\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\tif ( target2 ) target2.copy( start );\r\n\r\n\t\t}\r\n\r\n\t\tthis.closestPointToPoint( end, point1 );\r\n\t\tdistSq = end.distanceToSquared( point1 );\r\n\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\tclosestDistanceSq = distSq;\r\n\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\tif ( target2 ) target2.copy( end );\r\n\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( closestDistanceSq );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nSeparatingAxisTriangle.prototype.intersectsTriangle = ( function () {\r\n\r\n\tconst saTri2 = new SeparatingAxisTriangle();\r\n\tconst arr1 = new Array( 3 );\r\n\tconst arr2 = new Array( 3 );\r\n\tconst cachedSatBounds = new SeparatingAxisBounds();\r\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\r\n\tconst cachedAxis = new Vector3();\r\n\treturn function intersectsTriangle( other ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! other.isSeparatingAxisTriangle ) {\r\n\r\n\t\t\tsaTri2.copy( other );\r\n\t\t\tsaTri2.update();\r\n\t\t\tother = saTri2;\r\n\r\n\t\t}\r\n\r\n\t\tconst satBounds1 = this.satBounds;\r\n\t\tconst satAxes1 = this.satAxes;\r\n\t\tarr2[ 0 ] = other.a;\r\n\t\tarr2[ 1 ] = other.b;\r\n\t\tarr2[ 2 ] = other.c;\r\n\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds1[ i ];\r\n\t\t\tconst sa = satAxes1[ i ];\r\n\t\t\tcachedSatBounds.setFromPoints( sa, arr2 );\r\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\tconst satBounds2 = other.satBounds;\r\n\t\tconst satAxes2 = other.satAxes;\r\n\t\tarr1[ 0 ] = this.a;\r\n\t\tarr1[ 1 ] = this.b;\r\n\t\tarr1[ 2 ] = this.c;\r\n\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds2[ i ];\r\n\t\t\tconst sa = satAxes2[ i ];\r\n\t\t\tcachedSatBounds.setFromPoints( sa, arr1 );\r\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\t// check crossed axes\r\n\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\tconst sa1 = satAxes1[ i ];\r\n\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\r\n\r\n\t\t\t\tconst sa2 = satAxes2[ i2 ];\r\n\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\r\n\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, arr1 );\r\n\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, arr2 );\r\n\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nSeparatingAxisTriangle.prototype.distanceToPoint = ( function () {\r\n\r\n\tconst target = new Vector3();\r\n\treturn function distanceToPoint( point ) {\r\n\r\n\t\tthis.closestPointToPoint( point, target );\r\n\t\treturn point.distanceTo( target );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nSeparatingAxisTriangle.prototype.distanceToTriangle = ( function () {\r\n\r\n\tconst point = new Vector3();\r\n\tconst point2 = new Vector3();\r\n\tconst cornerFields = [ 'a', 'b', 'c' ];\r\n\tconst line1 = new Line3();\r\n\tconst line2 = new Line3();\r\n\r\n\treturn function distanceToTriangle( other, target1 = null, target2 = null ) {\r\n\r\n\t\tif ( other.needsUpdate ) {\r\n\r\n\t\t\tother.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.intersectsTriangle( other ) ) {\r\n\r\n\t\t\t// TODO: This will not result in a point that lies on\r\n\t\t\t// the intersection line of the triangles\r\n\t\t\tif ( target1 || target2 ) {\r\n\r\n\t\t\t\tthis.getMidpoint( point );\r\n\t\t\t\tother.closestPointToPoint( point, point2 );\r\n\t\t\t\tthis.closestPointToPoint( point2, point );\r\n\r\n\t\t\t\tif ( target1 ) target1.copy( point );\r\n\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\r\n\t\t}\r\n\r\n\t\tlet closestDistanceSq = Infinity;\r\n\r\n\t\t// check all point distances\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tlet dist;\r\n\t\t\tconst field = cornerFields[ i ];\r\n\t\t\tconst otherVec = other[ field ];\r\n\t\t\tthis.closestPointToPoint( otherVec, point );\r\n\r\n\t\t\tdist = otherVec.distanceToSquared( point );\r\n\r\n\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\tif ( target1 ) target1.copy( point );\r\n\t\t\t\tif ( target2 ) target2.copy( otherVec );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst thisVec = this[ field ];\r\n\t\t\tother.closestPointToPoint( thisVec, point );\r\n\r\n\t\t\tdist = thisVec.distanceToSquared( point );\r\n\r\n\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\tif ( target1 ) target1.copy( thisVec );\r\n\t\t\t\tif ( target2 ) target2.copy( point );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst f11 = cornerFields[ i ];\r\n\t\t\tconst f12 = cornerFields[ ( i + 1 ) % 3 ];\r\n\t\t\tline1.set( this[ f11 ], this[ f12 ] );\r\n\t\t\tfor ( let i2 = 0; i2 < 3; i2 ++ ) {\r\n\r\n\t\t\t\tconst f21 = cornerFields[ i2 ];\r\n\t\t\t\tconst f22 = cornerFields[ ( i2 + 1 ) % 3 ];\r\n\t\t\t\tline2.set( other[ f21 ], other[ f22 ] );\r\n\r\n\t\t\t\tclosestPointsSegmentToSegment( line1, line2, point, point2 );\r\n\r\n\t\t\t\tconst dist = point.distanceToSquared( point2 );\r\n\t\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\t\tif ( target1 ) target1.copy( point );\r\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( closestDistanceSq );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n","import { Box3, Vector3, Matrix4, Sphere, Line3 } from 'three';\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\nimport { SeparatingAxisTriangle } from './SeparatingAxisTriangle.js';\nimport { closestPointsSegmentToSegment } from './MathUtilities.js';\n\nexport class OrientedBox extends Box3 {\n\n\tconstructor( ...args ) {\n\n\t\tsuper( ...args );\n\n\t\tthis.isOrientedBox = true;\n\t\tthis.matrix = new Matrix4();\n\t\tthis.invMatrix = new Matrix4();\n\t\tthis.points = new Array( 8 ).fill().map( () => new Vector3() );\n\t\tthis.satAxes = new Array( 3 ).fill().map( () => new Vector3() );\n\t\tthis.satBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\n\t\tthis.alignedSatBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\n\t\tthis.sphere = new Sphere();\n\n\t}\n\n\tset( min, max, matrix ) {\n\n\t\tsuper.set( min, max );\n\t\tthis.matrix = matrix;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tsuper.copy( other );\n\t\tthis.matrix.copy( other.matrix );\n\n\t}\n\n}\n\nOrientedBox.prototype.update = ( function () {\n\n\treturn function update() {\n\n\t\tconst matrix = this.matrix;\n\t\tconst min = this.min;\n\t\tconst max = this.max;\n\n\t\tconst points = this.points;\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\n\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\n\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\n\n\t\t\t\t\tconst i = ( ( 1 << 0 ) * x ) | ( ( 1 << 1 ) * y ) | ( ( 1 << 2 ) * z );\n\t\t\t\t\tconst v = points[ i ];\n\t\t\t\t\tv.x = x ? max.x : min.x;\n\t\t\t\t\tv.y = y ? max.y : min.y;\n\t\t\t\t\tv.z = z ? max.z : min.z;\n\n\t\t\t\t\tv.applyMatrix4( matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.sphere.setFromPoints( this.points );\n\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\t\tconst minVec = points[ 0 ];\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst axis = satAxes[ i ];\n\t\t\tconst sb = satBounds[ i ];\n\t\t\tconst index = 1 << i;\n\t\t\tconst pi = points[ index ];\n\n\t\t\taxis.subVectors( minVec, pi );\n\t\t\tsb.setFromPoints( axis, points );\n\n\t\t}\n\n\t\tconst alignedSatBounds = this.alignedSatBounds;\n\t\talignedSatBounds[ 0 ].setFromPointsField( points, 'x' );\n\t\talignedSatBounds[ 1 ].setFromPointsField( points, 'y' );\n\t\talignedSatBounds[ 2 ].setFromPointsField( points, 'z' );\n\n\t\tthis.invMatrix.copy( this.matrix ).invert();\n\n\t};\n\n} )();\n\nOrientedBox.prototype.intersectsBox = ( function () {\n\n\tconst aabbBounds = new SeparatingAxisBounds();\n\treturn function intersectsBox( box ) {\n\n\t\tif ( ! box.intersectsSphere( this.sphere ) ) return false;\n\n\t\tconst min = box.min;\n\t\tconst max = box.max;\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\t\tconst alignedSatBounds = this.alignedSatBounds;\n\n\t\taabbBounds.min = min.x;\n\t\taabbBounds.max = max.x;\n\t\tif ( alignedSatBounds[ 0 ].isSeparated( aabbBounds ) ) return false;\n\n\t\taabbBounds.min = min.y;\n\t\taabbBounds.max = max.y;\n\t\tif ( alignedSatBounds[ 1 ].isSeparated( aabbBounds ) ) return false;\n\n\t\taabbBounds.min = min.z;\n\t\taabbBounds.max = max.z;\n\t\tif ( alignedSatBounds[ 2 ].isSeparated( aabbBounds ) ) return false;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst axis = satAxes[ i ];\n\t\t\tconst sb = satBounds[ i ];\n\t\t\taabbBounds.setFromBox( axis, box );\n\t\t\tif ( sb.isSeparated( aabbBounds ) ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.intersectsTriangle = ( function () {\n\n\tconst saTri = new SeparatingAxisTriangle();\n\tconst pointsArr = new Array( 3 );\n\tconst cachedSatBounds = new SeparatingAxisBounds();\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\n\tconst cachedAxis = new Vector3();\n\treturn function intersectsTriangle( triangle ) {\n\n\t\tif ( ! triangle.isSeparatingAxisTriangle ) {\n\n\t\t\tsaTri.copy( triangle );\n\t\t\tsaTri.update();\n\t\t\ttriangle = saTri;\n\n\t\t} else if ( triangle.needsUpdate ) {\n\n\t\t\ttriangle.update();\n\n\t\t}\n\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\n\t\tpointsArr[ 0 ] = triangle.a;\n\t\tpointsArr[ 1 ] = triangle.b;\n\t\tpointsArr[ 2 ] = triangle.c;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = satBounds[ i ];\n\t\t\tconst sa = satAxes[ i ];\n\t\t\tcachedSatBounds.setFromPoints( sa, pointsArr );\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t}\n\n\t\tconst triSatBounds = triangle.satBounds;\n\t\tconst triSatAxes = triangle.satAxes;\n\t\tconst points = this.points;\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = triSatBounds[ i ];\n\t\t\tconst sa = triSatAxes[ i ];\n\t\t\tcachedSatBounds.setFromPoints( sa, points );\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t}\n\n\t\t// check crossed axes\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sa1 = satAxes[ i ];\n\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\n\n\t\t\t\tconst sa2 = triSatAxes[ i2 ];\n\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\n\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, pointsArr );\n\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, points );\n\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.closestPointToPoint = ( function () {\n\n\treturn function closestPointToPoint( point, target1 ) {\n\n\t\ttarget1\n\t\t\t.copy( point )\n\t\t\t.applyMatrix4( this.invMatrix )\n\t\t\t.clamp( this.min, this.max )\n\t\t\t.applyMatrix4( this.matrix );\n\n\t\treturn target1;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.distanceToPoint = ( function () {\n\n\tconst target = new Vector3();\n\treturn function distanceToPoint( point ) {\n\n\t\tthis.closestPointToPoint( point, target );\n\t\treturn point.distanceTo( target );\n\n\t};\n\n} )();\n\n\nOrientedBox.prototype.distanceToBox = ( function () {\n\n\tconst xyzFields = [ 'x', 'y', 'z' ];\n\tconst segments1 = new Array( 12 ).fill().map( () => new Line3() );\n\tconst segments2 = new Array( 12 ).fill().map( () => new Line3() );\n\n\tconst point1 = new Vector3();\n\tconst point2 = new Vector3();\n\n\treturn function distanceToBox( box, threshold = 0, target1 = null, target2 = null ) {\n\n\t\tif ( this.intersectsBox( box ) ) {\n\n\t\t\tif ( target1 || target2 ) {\n\n\t\t\t\tbox.getCenter( point2 );\n\t\t\t\tthis.closestPointToPoint( point2, point1 );\n\t\t\t\tbox.closestPointToPoint( point1, point2 );\n\n\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t}\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tconst threshold2 = threshold * threshold;\n\t\tconst min = box.min;\n\t\tconst max = box.max;\n\t\tconst points = this.points;\n\n\n\t\t// iterate over every edge and compare distances\n\t\tlet closestDistanceSq = Infinity;\n\n\t\t// check over all these points\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst p = points[ i ];\n\t\t\tpoint2.copy( p ).clamp( min, max );\n\n\t\t\tconst dist = p.distanceToSquared( point2 );\n\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\tif ( target1 ) target1.copy( p );\n\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate and check all line segment distances\n\t\tlet count = 0;\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let i1 = 0; i1 <= 1; i1 ++ ) {\n\n\t\t\t\tfor ( let i2 = 0; i2 <= 1; i2 ++ ) {\n\n\t\t\t\t\tconst nextIndex = ( i + 1 ) % 3;\n\t\t\t\t\tconst nextIndex2 = ( i + 2 ) % 3;\n\n\t\t\t\t\t// get obb line segments\n\t\t\t\t\tconst index = i1 << nextIndex | i2 << nextIndex2;\n\t\t\t\t\tconst index2 = 1 << i | i1 << nextIndex | i2 << nextIndex2;\n\t\t\t\t\tconst p1 = points[ index ];\n\t\t\t\t\tconst p2 = points[ index2 ];\n\t\t\t\t\tconst line1 = segments1[ count ];\n\t\t\t\t\tline1.set( p1, p2 );\n\n\n\t\t\t\t\t// get aabb line segments\n\t\t\t\t\tconst f1 = xyzFields[ i ];\n\t\t\t\t\tconst f2 = xyzFields[ nextIndex ];\n\t\t\t\t\tconst f3 = xyzFields[ nextIndex2 ];\n\t\t\t\t\tconst line2 = segments2[ count ];\n\t\t\t\t\tconst start = line2.start;\n\t\t\t\t\tconst end = line2.end;\n\n\t\t\t\t\tstart[ f1 ] = min[ f1 ];\n\t\t\t\t\tstart[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\n\t\t\t\t\tstart[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\n\n\t\t\t\t\tend[ f1 ] = max[ f1 ];\n\t\t\t\t\tend[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\n\t\t\t\t\tend[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\n\n\t\t\t\t\tcount ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// check all the other boxes point\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\n\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\n\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\n\n\t\t\t\t\tpoint2.x = x ? max.x : min.x;\n\t\t\t\t\tpoint2.y = y ? max.y : min.y;\n\t\t\t\t\tpoint2.z = z ? max.z : min.z;\n\n\t\t\t\t\tthis.closestPointToPoint( point2, point1 );\n\t\t\t\t\tconst dist = point2.distanceToSquared( point1 );\n\t\t\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 12; i ++ ) {\n\n\t\t\tconst l1 = segments1[ i ];\n\t\t\tfor ( let i2 = 0; i2 < 12; i2 ++ ) {\n\n\t\t\t\tconst l2 = segments2[ i2 ];\n\t\t\t\tclosestPointsSegmentToSegment( l1, l2, point1, point2 );\n\t\t\t\tconst dist = point1.distanceToSquared( point2 );\n\t\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Math.sqrt( closestDistanceSq );\n\n\t};\n\n} )();\n","// sets the vertices of triangle `tri` with the 3 vertices after i\r\nexport function setTriangle( tri, i, index, pos ) {\r\n\r\n\tconst ta = tri.a;\r\n\tconst tb = tri.b;\r\n\tconst tc = tri.c;\r\n\r\n\tlet i3 = index.getX( i );\r\n\tta.x = pos.getX( i3 );\r\n\tta.y = pos.getY( i3 );\r\n\tta.z = pos.getZ( i3 );\r\n\r\n\ti3 = index.getX( i + 1 );\r\n\ttb.x = pos.getX( i3 );\r\n\ttb.y = pos.getY( i3 );\r\n\ttb.z = pos.getZ( i3 );\r\n\r\n\ti3 = index.getX( i + 2 );\r\n\ttc.x = pos.getX( i3 );\r\n\ttc.y = pos.getY( i3 );\r\n\ttc.z = pos.getZ( i3 );\r\n\r\n}\r\n","import { Vector3, Vector2, Triangle, DoubleSide, BackSide } from 'three';\r\n\r\n// Ripped and modified From THREE.js Mesh raycast\r\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\r\nvar vA = new Vector3();\r\nvar vB = new Vector3();\r\nvar vC = new Vector3();\r\n\r\nvar uvA = new Vector2();\r\nvar uvB = new Vector2();\r\nvar uvC = new Vector2();\r\n\r\nvar intersectionPoint = new Vector3();\r\nvar intersectionPointWorld = new Vector3();\r\n\r\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\r\n\r\n\tvar intersect;\r\n\tif ( material.side === BackSide ) {\r\n\r\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\r\n\r\n\t} else {\r\n\r\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\r\n\r\n\t}\r\n\r\n\tif ( intersect === null ) return null;\r\n\r\n\tintersectionPointWorld.copy( point );\r\n\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\r\n\r\n\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\r\n\r\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\r\n\r\n\treturn {\r\n\t\tdistance: distance,\r\n\t\tpoint: intersectionPointWorld.clone(),\r\n\t\tobject: object\r\n\t};\r\n\r\n}\r\n\r\nfunction checkBufferGeometryIntersection( object, raycaster, ray, position, uv, a, b, c ) {\r\n\r\n\tvA.fromBufferAttribute( position, a );\r\n\tvB.fromBufferAttribute( position, b );\r\n\tvC.fromBufferAttribute( position, c );\r\n\r\n\tvar intersection = checkIntersection( object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tif ( uv ) {\r\n\r\n\t\t\tuvA.fromBufferAttribute( uv, a );\r\n\t\t\tuvB.fromBufferAttribute( uv, b );\r\n\t\t\tuvC.fromBufferAttribute( uv, c );\r\n\r\n\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2( ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst face = {\r\n\t\t\ta: a,\r\n\t\t\tb: b,\r\n\t\t\tc: c,\r\n\t\t\tnormal: new Vector3( ),\r\n\t\t\tmaterialIndex: 0\r\n\t\t};\r\n\r\n\t\tTriangle.getNormal( vA, vB, vC, face.normal );\r\n\r\n\t\tintersection.face = face;\r\n\t\tintersection.faceIndex = a;\r\n\r\n\t}\r\n\r\n\treturn intersection;\r\n\r\n}\r\n\r\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\r\nfunction intersectTri( mesh, geo, raycaster, ray, tri, intersections ) {\r\n\r\n\tconst triOffset = tri * 3;\r\n\tconst a = geo.index.getX( triOffset );\r\n\tconst b = geo.index.getX( triOffset + 1 );\r\n\tconst c = geo.index.getX( triOffset + 2 );\r\n\r\n\tconst intersection = checkBufferGeometryIntersection( mesh, raycaster, ray, geo.attributes.position, geo.attributes.uv, a, b, c );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tintersection.faceIndex = tri;\r\n\t\tif ( intersections ) intersections.push( intersection );\r\n\t\treturn intersection;\r\n\r\n\t}\r\n\r\n\treturn null;\r\n\r\n}\r\n\r\nexport { intersectTri };\r\n","import { intersectTri } from './ThreeIntersectionUtilities.js';\r\n\r\nexport function intersectTris( mesh, geo, raycaster, ray, offset, count, intersections ) {\r\n\r\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\r\n\r\n\t\tintersectTri( mesh, geo, raycaster, ray, i, intersections );\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport function intersectClosestTri( mesh, geo, raycaster, ray, offset, count ) {\r\n\r\n\tlet dist = Infinity;\r\n\tlet res = null;\r\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\r\n\r\n\t\tconst intersection = intersectTri( mesh, geo, raycaster, ray, i );\r\n\t\tif ( intersection && intersection.distance < dist ) {\r\n\r\n\t\t\tres = intersection;\r\n\t\t\tdist = intersection.distance;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn res;\r\n\r\n};\r\n","\r\nimport { Box3, Vector3, Mesh, Matrix4 } from 'three';\r\nimport { intersectTris, intersectClosestTri } from './Utils/RayIntersectTriUtlities.js';\r\nimport { arrayToBox } from './Utils/ArrayBoxUtilities.js';\r\nimport { OrientedBox } from './Utils/OrientedBox.js';\r\nimport { setTriangle } from './Utils/TriangleUtils.js';\r\nimport { SeparatingAxisTriangle } from './Utils/SeparatingAxisTriangle.js';\r\nimport { CONTAINED } from './Constants.js';\r\n\r\nconst boundingBox = new Box3();\r\nconst boxIntersection = new Vector3();\r\nconst xyzFields = [ 'x', 'y', 'z' ];\r\n\r\nfunction intersectRay( node, ray, target ) {\r\n\r\n\tarrayToBox( node.boundingData, boundingBox );\r\n\r\n\treturn ray.intersectBox( boundingBox, target );\r\n\r\n}\r\n\r\nexport function raycast( node, mesh, raycaster, ray, intersects ) {\r\n\r\n\tif ( node.continueGeneration ) {\r\n\r\n\t\tnode.continueGeneration();\r\n\r\n\t}\r\n\r\n\tconst isLeaf = ! ! node.count;\r\n\tif ( isLeaf ) {\r\n\r\n\t\tintersectTris( mesh, mesh.geometry, raycaster, ray, node.offset, node.count, intersects );\r\n\r\n\t} else {\r\n\r\n\t\tif ( intersectRay( node.left, ray, boxIntersection ) ) {\r\n\r\n\t\t\traycast( node.left, mesh, raycaster, ray, intersects );\r\n\r\n\t\t}\r\n\r\n\t\tif ( intersectRay( node.right, ray, boxIntersection ) ) {\r\n\r\n\t\t\traycast( node.right, mesh, raycaster, ray, intersects );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport function raycastFirst( node, mesh, raycaster, ray ) {\r\n\r\n\tif ( node.continueGeneration ) {\r\n\r\n\t\tnode.continueGeneration();\r\n\r\n\t}\r\n\r\n\tconst isLeaf = ! ! node.count;\r\n\tif ( isLeaf ) {\r\n\r\n\t\treturn intersectClosestTri( mesh, mesh.geometry, raycaster, ray, node.offset, node.count );\r\n\r\n\t} else {\r\n\r\n\r\n\t\t// consider the position of the split plane with respect to the oncoming ray; whichever direction\r\n\t\t// the ray is coming from, look for an intersection among that side of the tree first\r\n\t\tconst splitAxis = node.splitAxis;\r\n\t\tconst xyzAxis = xyzFields[ splitAxis ];\r\n\t\tconst rayDir = ray.direction[ xyzAxis ];\r\n\t\tconst leftToRight = rayDir >= 0;\r\n\r\n\t\t// c1 is the child to check first\r\n\t\tlet c1, c2;\r\n\t\tif ( leftToRight ) {\r\n\r\n\t\t\tc1 = node.left;\r\n\t\t\tc2 = node.right;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tc1 = node.right;\r\n\t\t\tc2 = node.left;\r\n\r\n\t\t}\r\n\r\n\t\tconst c1Intersection = intersectRay( c1, ray, boxIntersection );\r\n\t\tconst c1Result = c1Intersection ? raycastFirst( c1, mesh, raycaster, ray ) : null;\r\n\r\n\t\t// if we got an intersection in the first node and it's closer than the second node's bounding\r\n\t\t// box, we don't need to consider the second node because it couldn't possibly be a better result\r\n\t\tif ( c1Result ) {\r\n\r\n\t\t\t// check if the point is within the second bounds\r\n\t\t\tconst point = c1Result.point[ xyzAxis ];\r\n\t\t\tconst isOutside = leftToRight ?\r\n\t\t\t\tpoint <= c2.boundingData[ splitAxis ] :\r\n\t\t\t\tpoint >= c2.boundingData[ splitAxis + 3 ];\r\n\r\n\t\t\tif ( isOutside ) {\r\n\r\n\t\t\t\treturn c1Result;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// either there was no intersection in the first node, or there could still be a closer\r\n\t\t// intersection in the second, so check the second node and then take the better of the two\r\n\t\tconst c2Intersection = intersectRay( c2, ray, boxIntersection );\r\n\t\tconst c2Result = c2Intersection ? raycastFirst( c2, mesh, raycaster, ray ) : null;\r\n\r\n\t\tif ( c1Result && c2Result ) {\r\n\r\n\t\t\treturn c1Result.distance <= c2Result.distance ? c1Result : c2Result;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn c1Result || c2Result || null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport const shapecast = ( function () {\r\n\r\n\tconst _triangle = new SeparatingAxisTriangle();\r\n\tconst _cachedBox1 = new Box3();\r\n\tconst _cachedBox2 = new Box3();\r\n\r\n\tfunction iterateOverTriangles(\r\n\t\toffset,\r\n\t\tcount,\r\n\t\tgeometry,\r\n\t\tintersectsTriangleFunc,\r\n\t\tcontained,\r\n\t\tdepth,\r\n\t\ttriangle\r\n\t) {\r\n\r\n\t\tconst index = geometry.index;\r\n\t\tconst pos = geometry.attributes.position;\r\n\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\tsetTriangle( triangle, i, index, pos );\r\n\t\t\ttriangle.needsUpdate = true;\r\n\r\n\t\t\tif ( intersectsTriangleFunc( triangle, i, i + 1, i + 2, contained, depth ) ) {\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn function shapecast(\r\n\t\tnode,\r\n\t\tmesh,\r\n\t\tintersectsBoundsFunc,\r\n\t\tintersectsTriangleFunc = null,\r\n\t\tnodeScoreFunc = null,\r\n\t\tdepth = 0,\r\n\t\ttriangle = _triangle,\r\n\t\tcachedBox1 = _cachedBox1,\r\n\t\tcachedBox2 = _cachedBox2\r\n\t) {\r\n\r\n\t\t// Define these inside the function so it has access to the local variables needed\r\n\t\t// when converting to the buffer equivalents\r\n\t\tfunction getLeftOffset( node ) {\r\n\r\n\t\t\tif ( node.continueGeneration ) {\r\n\r\n\t\t\t\tnode.continueGeneration();\r\n\r\n\t\t\t}\r\n\r\n\t\t\twhile ( ! node.count ) {\r\n\r\n\t\t\t\tnode = node.left;\r\n\t\t\t\tif ( /* skip */ node.continueGeneration ) {\r\n\r\n\t\t\t\t\tnode.continueGeneration();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.offset;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getRightEndOffset( node ) {\r\n\r\n\t\t\tif ( node.continueGeneration ) {\r\n\r\n\t\t\t\tnode.continueGeneration();\r\n\r\n\t\t\t}\r\n\r\n\t\t\twhile ( ! node.count ) {\r\n\r\n\t\t\t\tnode = node.right;\r\n\t\t\t\tif ( /* skip */ node.continueGeneration ) {\r\n\r\n\t\t\t\t\tnode.continueGeneration();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.offset + node.count;\r\n\r\n\t\t}\r\n\r\n\t\tif ( node.continueGeneration ) {\r\n\r\n\t\t\tnode.continueGeneration();\r\n\r\n\t\t}\r\n\r\n\t\tconst isLeaf = ! ! node.count;\r\n\t\tif ( isLeaf && intersectsTriangleFunc ) {\r\n\r\n\t\t\tconst geometry = mesh.geometry;\r\n\t\t\tconst offset = node.offset;\r\n\t\t\tconst count = node.count;\r\n\t\t\treturn iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, false, depth, triangle );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst left = node.left;\r\n\t\t\tconst right = node.right;\r\n\t\t\tlet c1 = left;\r\n\t\t\tlet c2 = right;\r\n\r\n\t\t\tlet score1, score2;\r\n\t\t\tlet box1, box2;\r\n\t\t\tif ( nodeScoreFunc ) {\r\n\r\n\t\t\t\tbox1 = cachedBox1;\r\n\t\t\t\tbox2 = cachedBox2;\r\n\r\n\t\t\t\tarrayToBox( c1.boundingData, box1 );\r\n\t\t\t\tarrayToBox( c2.boundingData, box2 );\r\n\r\n\t\t\t\tscore1 = nodeScoreFunc( box1 );\r\n\t\t\t\tscore2 = nodeScoreFunc( box2 );\r\n\r\n\t\t\t\tif ( score2 < score1 ) {\r\n\r\n\t\t\t\t\tc1 = right;\r\n\t\t\t\t\tc2 = left;\r\n\r\n\t\t\t\t\tconst temp = score1;\r\n\t\t\t\t\tscore1 = score2;\r\n\t\t\t\t\tscore2 = temp;\r\n\r\n\t\t\t\t\tbox1 = box2;\r\n\t\t\t\t\t// box2 is always set before use below\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Check box 1 intersection\r\n\t\t\tif ( ! box1 ) {\r\n\r\n\t\t\t\tbox1 = cachedBox1;\r\n\t\t\t\tarrayToBox( c1.boundingData, box1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst isC1Leaf = ! ! c1.count;\r\n\t\t\tconst c1Intersection = intersectsBoundsFunc( box1, isC1Leaf, score1, depth + 1 );\r\n\r\n\t\t\tlet c1StopTraversal;\r\n\t\t\tif ( c1Intersection === CONTAINED ) {\r\n\r\n\t\t\t\tconst geometry = mesh.geometry;\r\n\t\t\t\tconst offset = getLeftOffset( c1 );\r\n\t\t\t\tconst end = getRightEndOffset( c1 );\r\n\t\t\t\tconst count = end - offset;\r\n\r\n\t\t\t\tc1StopTraversal = iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, true, depth + 1, triangle );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tc1StopTraversal =\r\n\t\t\t\t\tc1Intersection &&\r\n\t\t\t\t\tshapecast(\r\n\t\t\t\t\t\tc1,\r\n\t\t\t\t\t\tmesh,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsTriangleFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tdepth + 1,\r\n\t\t\t\t\t\ttriangle,\r\n\t\t\t\t\t\tcachedBox1,\r\n\t\t\t\t\t\tcachedBox2\r\n\t\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( c1StopTraversal ) return true;\r\n\r\n\t\t\t// Check box 2 intersection\r\n\t\t\t// cached box2 will have been overwritten by previous traversal\r\n\t\t\tbox2 = cachedBox2;\r\n\t\t\tarrayToBox( c2.boundingData, box2 );\r\n\r\n\t\t\tconst isC2Leaf = ! ! c2.count;\r\n\t\t\tconst c2Intersection = intersectsBoundsFunc( box2, isC2Leaf, score2, depth + 1 );\r\n\r\n\t\t\tlet c2StopTraversal;\r\n\t\t\tif ( c2Intersection === CONTAINED ) {\r\n\r\n\t\t\t\tconst geometry = mesh.geometry;\r\n\t\t\t\tconst offset = getLeftOffset( c2 );\r\n\t\t\t\tconst end = getRightEndOffset( c2 );\r\n\t\t\t\tconst count = end - offset;\r\n\r\n\t\t\t\tc2StopTraversal = iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, true, depth + 1, triangle );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tc2StopTraversal =\r\n\t\t\t\t\tc2Intersection &&\r\n\t\t\t\t\tshapecast(\r\n\t\t\t\t\t\tc2,\r\n\t\t\t\t\t\tmesh,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsTriangleFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tdepth + 1,\r\n\t\t\t\t\t\ttriangle,\r\n\t\t\t\t\t\tcachedBox1,\r\n\t\t\t\t\t\tcachedBox2\r\n\t\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( c2StopTraversal ) return true;\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nexport const intersectsGeometry = ( function () {\r\n\r\n\tconst triangle = new SeparatingAxisTriangle();\r\n\tconst triangle2 = new SeparatingAxisTriangle();\r\n\tconst cachedMesh = new Mesh();\r\n\tconst invertedMat = new Matrix4();\r\n\r\n\tconst obb = new OrientedBox();\r\n\tconst obb2 = new OrientedBox();\r\n\r\n\treturn function intersectsGeometry( node, mesh, geometry, geometryToBvh, cachedObb = null ) {\r\n\r\n\t\tif ( node.continueGeneration ) {\r\n\r\n\t\t\tnode.continueGeneration();\r\n\r\n\t\t}\r\n\r\n\t\tif ( cachedObb === null ) {\r\n\r\n\t\t\tif ( ! geometry.boundingBox ) {\r\n\r\n\t\t\t\tgeometry.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobb.set( geometry.boundingBox.min, geometry.boundingBox.max, geometryToBvh );\r\n\t\t\tobb.update();\r\n\t\t\tcachedObb = obb;\r\n\r\n\t\t}\r\n\r\n\t\tconst isLeaf = ! ! node.count;\r\n\t\tif ( isLeaf ) {\r\n\r\n\t\t\tconst thisGeometry = mesh.geometry;\r\n\t\t\tconst thisIndex = thisGeometry.index;\r\n\t\t\tconst thisPos = thisGeometry.attributes.position;\r\n\r\n\t\t\tconst index = geometry.index;\r\n\t\t\tconst pos = geometry.attributes.position;\r\n\r\n\t\t\tconst offset = node.offset;\r\n\t\t\tconst count = node.count;\r\n\r\n\t\t\t// get the inverse of the geometry matrix so we can transform our triangles into the\r\n\t\t\t// geometry space we're trying to test. We assume there are fewer triangles being checked\r\n\t\t\t// here.\r\n\t\t\tinvertedMat.copy( geometryToBvh ).invert();\r\n\r\n\t\t\tif ( geometry.boundsTree ) {\r\n\r\n\t\t\t\tarrayToBox( node.boundingData, obb2 );\r\n\t\t\t\tobb2.matrix.copy( invertedMat );\r\n\t\t\t\tobb2.update();\r\n\r\n\t\t\t\tcachedMesh.geometry = geometry;\r\n\t\t\t\tconst res = geometry.boundsTree.shapecast( cachedMesh, box => obb2.intersectsBox( box ), function ( tri ) {\r\n\r\n\t\t\t\t\ttri.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.update();\r\n\r\n\t\t\t\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\t\tsetTriangle( triangle2, i, thisIndex, thisPos );\r\n\t\t\t\t\t\ttriangle2.update();\r\n\t\t\t\t\t\tif ( tri.intersectsTriangle( triangle2 ) ) {\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tcachedMesh.geometry = null;\r\n\r\n\t\t\t\treturn res;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( let i = offset * 3, l = ( count + offset * 3 ); i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\tsetTriangle( triangle, i, thisIndex, thisPos );\r\n\t\t\t\t\ttriangle.a.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.b.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.c.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.update();\r\n\r\n\t\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\r\n\r\n\t\t\t\t\t\tsetTriangle( triangle2, i2, index, pos );\r\n\t\t\t\t\t\ttriangle2.update();\r\n\r\n\t\t\t\t\t\tif ( triangle.intersectsTriangle( triangle2 ) ) {\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst left = node.left;\r\n\t\t\tconst right = node.right;\r\n\r\n\t\t\tarrayToBox( left.boundingData, boundingBox );\r\n\t\t\tconst leftIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometry( left, mesh, geometry, geometryToBvh, cachedObb );\r\n\r\n\t\t\tif ( leftIntersection ) return true;\r\n\r\n\r\n\t\t\tarrayToBox( right.boundingData, boundingBox );\r\n\t\t\tconst rightIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometry( right, mesh, geometry, geometryToBvh, cachedObb );\r\n\r\n\t\t\tif ( rightIntersection ) return true;\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n","// Split strategy constants\r\nexport const CENTER = 0;\r\nexport const AVERAGE = 1;\r\nexport const SAH = 2;\r\n\r\nexport const NOT_INTERSECTED = 0;\r\nexport const INTERSECTED = 1;\r\nexport const CONTAINED = 2;\r\n","\n/**************************************************************************************************\n *\n * This file is generated from castFunctions.js and scripts/generate-cast-function.mjs. Do not edit.\n *\n *************************************************************************************************/\n\nimport { Box3, Vector3, Mesh, Matrix4 } from 'three';\r\nimport { intersectTris, intersectClosestTri } from './Utils/RayIntersectTriUtlities.js';\n\nimport { OrientedBox } from './Utils/OrientedBox.js';\r\nimport { setTriangle } from './Utils/TriangleUtils.js';\r\nimport { SeparatingAxisTriangle } from './Utils/SeparatingAxisTriangle.js';\r\nimport { CONTAINED } from './Constants.js';\n\nconst boundingBox = new Box3();\r\nconst boxIntersection = new Vector3();\r\nconst xyzFields = [ 'x', 'y', 'z' ];\n\nexport function raycastBuffer( stride4Offset, mesh, raycaster, ray, intersects ) {\n\n\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\tconst isLeaf = ! /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff );\r\n\tif ( isLeaf ) {\n\n\t\tintersectTris( mesh, mesh.geometry, raycaster, ray, /* node offset */ uint32Array[ stride4Offset + 6 ], /* node count */ uint16Array[ stride2Offset + 14 ], intersects );\n\n\t} else {\n\n\t\tif ( intersectRayBuffer( /* node left */ stride4Offset + 8, float32Array, ray, boxIntersection ) ) {\n\n\t\t\traycastBuffer( /* node left */ stride4Offset + 8, mesh, raycaster, ray, intersects );\n\n\t\t}\n\n\t\tif ( intersectRayBuffer( /* node right */ uint32Array[ stride4Offset + 6 ], float32Array, ray, boxIntersection ) ) {\n\n\t\t\traycastBuffer( /* node right */ uint32Array[ stride4Offset + 6 ], mesh, raycaster, ray, intersects );\n\n\t\t}\n\n\t}\n\n}\n\nexport function raycastFirstBuffer( stride4Offset, mesh, raycaster, ray ) {\n\n\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\tconst isLeaf = ! /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff );\r\n\tif ( isLeaf ) {\n\n\t\treturn intersectClosestTri( mesh, mesh.geometry, raycaster, ray, /* node offset */ uint32Array[ stride4Offset + 6 ], /* node count */ uint16Array[ stride2Offset + 14 ] );\n\n\t} else {\n\n\t\t// consider the position of the split plane with respect to the oncoming ray; whichever direction\r\n\t\t// the ray is coming from, look for an intersection among that side of the tree first\r\n\t\tconst splitAxis = /* node splitAxis */ uint32Array[ stride4Offset + 7 ];\r\n\t\tconst xyzAxis = xyzFields[ splitAxis ];\r\n\t\tconst rayDir = ray.direction[ xyzAxis ];\r\n\t\tconst leftToRight = rayDir >= 0;\n\n\t\t// c1 is the child to check first\r\n\t\tlet c1, c2;\r\n\t\tif ( leftToRight ) {\n\n\t\t\tc1 = /* node left */ stride4Offset + 8;\r\n\t\t\tc2 = /* node right */ uint32Array[ stride4Offset + 6 ];\n\n\t\t} else {\n\n\t\t\tc1 = /* node right */ uint32Array[ stride4Offset + 6 ];\r\n\t\t\tc2 = /* node left */ stride4Offset + 8;\n\n\t\t}\n\n\t\tconst c1Intersection = intersectRayBuffer( c1, float32Array, ray, boxIntersection );\r\n\t\tconst c1Result = c1Intersection ? raycastFirstBuffer( c1, mesh, raycaster, ray ) : null;\n\n\t\t// if we got an intersection in the first node and it's closer than the second node's bounding\r\n\t\t// box, we don't need to consider the second node because it couldn't possibly be a better result\r\n\t\tif ( c1Result ) {\n\n\t\t\t// check if the point is within the second bounds\r\n\t\t\tconst point = c1Result.point[ xyzAxis ];\r\n\t\t\tconst isOutside = leftToRight ?\r\n\t\t\t\tpoint <= /* c2 boundingData */ float32Array[ c2 + splitAxis ] :\r\n\t\t\t\tpoint >= /* c2 boundingData */ float32Array[ c2 + splitAxis + 3 ];\n\n\t\t\tif ( isOutside ) {\n\n\t\t\t\treturn c1Result;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// either there was no intersection in the first node, or there could still be a closer\r\n\t\t// intersection in the second, so check the second node and then take the better of the two\r\n\t\tconst c2Intersection = intersectRayBuffer( c2, float32Array, ray, boxIntersection );\r\n\t\tconst c2Result = c2Intersection ? raycastFirstBuffer( c2, mesh, raycaster, ray ) : null;\n\n\t\tif ( c1Result && c2Result ) {\n\n\t\t\treturn c1Result.distance <= c2Result.distance ? c1Result : c2Result;\n\n\t\t} else {\n\n\t\t\treturn c1Result || c2Result || null;\n\n\t\t}\n\n\t}\n\n}\n\nexport const shapecastBuffer = ( function () {\n\n\tconst _triangle = new SeparatingAxisTriangle();\r\n\tconst _cachedBox1 = new Box3();\r\n\tconst _cachedBox2 = new Box3();\n\n\tfunction iterateOverTriangles(\r\n\t\toffset,\r\n\t\tcount,\r\n\t\tgeometry,\r\n\t\tintersectsTriangleFunc,\r\n\t\tcontained,\r\n\t\tdepth,\r\n\t\ttriangle\r\n\t) {\n\n\t\tconst index = geometry.index;\r\n\t\tconst pos = geometry.attributes.position;\r\n\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\n\n\t\t\tsetTriangle( triangle, i, index, pos );\r\n\t\t\ttriangle.needsUpdate = true;\n\n\t\t\tif ( intersectsTriangleFunc( triangle, i, i + 1, i + 2, contained, depth ) ) {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\treturn function shapecastBuffer( stride4Offset,\r\n\t\tmesh,\r\n\t\tintersectsBoundsFunc,\r\n\t\tintersectsTriangleFunc = null,\r\n\t\tnodeScoreFunc = null,\r\n\t\tdepth = 0,\r\n\t\ttriangle = _triangle,\r\n\t\tcachedBox1 = _cachedBox1,\r\n\t\tcachedBox2 = _cachedBox2\r\n\t) {\n\n\t\t// Define these inside the function so it has access to the local variables needed\r\n\t\t// when converting to the buffer equivalents\r\n\t\tfunction getLeftOffsetBuffer( stride4Offset ) {\n\n\t\t\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\t\t\twhile ( /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff ) ) {\n\n\t\t\t\t/* node */ stride4Offset = /* node left */ stride4Offset + 8, stride2Offset = stride4Offset * 2;\n\n\t\t\t}\n\n\t\t\treturn /* node offset */ uint32Array[ stride4Offset + 6 ];\n\n\t\t}\n\n\t\tfunction getRightEndOffsetBuffer( stride4Offset ) {\n\n\t\t\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\t\t\twhile ( /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff ) ) {\n\n\t\t\t\t/* node */ stride4Offset = /* node right */ uint32Array[ stride4Offset + 6 ], stride2Offset = stride4Offset * 2;\n\n\t\t\t}\n\n\t\t\treturn /* node offset */ uint32Array[ stride4Offset + 6 ] + /* node count */ uint16Array[ stride2Offset + 14 ];\n\n\t\t}\n\n\t\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\t\tconst isLeaf = ! /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff );\r\n\t\tif ( isLeaf && intersectsTriangleFunc ) {\n\n\t\t\tconst geometry = mesh.geometry;\r\n\t\t\tconst offset = /* node offset */ uint32Array[ stride4Offset + 6 ];\r\n\t\t\tconst count = /* node count */ uint16Array[ stride2Offset + 14 ];\r\n\t\t\treturn iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, false, depth, triangle );\n\n\t\t} else {\n\n\t\t\tconst left = /* node left */ stride4Offset + 8;\r\n\t\t\tconst right = /* node right */ uint32Array[ stride4Offset + 6 ];\r\n\t\t\tlet c1 = left;\r\n\t\t\tlet c2 = right;\n\n\t\t\tlet score1, score2;\r\n\t\t\tlet box1, box2;\r\n\t\t\tif ( nodeScoreFunc ) {\n\n\t\t\t\tbox1 = cachedBox1;\r\n\t\t\t\tbox2 = cachedBox2;\n\n\t\t\t\tarrayToBoxBuffer( /* c1 boundingData */ c1, float32Array, box1 );\r\n\t\t\t\tarrayToBoxBuffer( /* c2 boundingData */ c2, float32Array, box2 );\n\n\t\t\t\tscore1 = nodeScoreFunc( box1 );\r\n\t\t\t\tscore2 = nodeScoreFunc( box2 );\n\n\t\t\t\tif ( score2 < score1 ) {\n\n\t\t\t\t\tc1 = right;\r\n\t\t\t\t\tc2 = left;\n\n\t\t\t\t\tconst temp = score1;\r\n\t\t\t\t\tscore1 = score2;\r\n\t\t\t\t\tscore2 = temp;\n\n\t\t\t\t\tbox1 = box2;\r\n\t\t\t\t\t// box2 is always set before use below\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Check box 1 intersection\r\n\t\t\tif ( ! box1 ) {\n\n\t\t\t\tbox1 = cachedBox1;\r\n\t\t\t\tarrayToBoxBuffer( /* c1 boundingData */ c1, float32Array, box1 );\n\n\t\t\t}\n\n\t\t\tconst isC1Leaf = ! /* c1 count */ ( uint16Array[ c1 + 15 ] !== 0xffff );\r\n\t\t\tconst c1Intersection = intersectsBoundsFunc( box1, isC1Leaf, score1, depth + 1 );\n\n\t\t\tlet c1StopTraversal;\r\n\t\t\tif ( c1Intersection === CONTAINED ) {\n\n\t\t\t\tconst geometry = mesh.geometry;\r\n\t\t\t\tconst offset = getLeftOffsetBuffer( c1 );\r\n\t\t\t\tconst end = getRightEndOffsetBuffer( c1 );\r\n\t\t\t\tconst count = end - offset;\n\n\t\t\t\tc1StopTraversal = iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, true, depth + 1, triangle );\n\n\t\t\t} else {\n\n\t\t\t\tc1StopTraversal =\r\n\t\t\t\t\tc1Intersection &&\r\n\t\t\t\t\tshapecastBuffer(\r\n\t\t\t\t\t\tc1,\r\n\t\t\t\t\t\tmesh,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsTriangleFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tdepth + 1,\r\n\t\t\t\t\t\ttriangle,\r\n\t\t\t\t\t\tcachedBox1,\r\n\t\t\t\t\t\tcachedBox2\r\n\t\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( c1StopTraversal ) return true;\n\n\t\t\t// Check box 2 intersection\r\n\t\t\t// cached box2 will have been overwritten by previous traversal\r\n\t\t\tbox2 = cachedBox2;\r\n\t\t\tarrayToBoxBuffer( /* c2 boundingData */ c2, float32Array, box2 );\n\n\t\t\tconst isC2Leaf = ! /* c2 count */ ( uint16Array[ c2 + 15 ] !== 0xffff );\r\n\t\t\tconst c2Intersection = intersectsBoundsFunc( box2, isC2Leaf, score2, depth + 1 );\n\n\t\t\tlet c2StopTraversal;\r\n\t\t\tif ( c2Intersection === CONTAINED ) {\n\n\t\t\t\tconst geometry = mesh.geometry;\r\n\t\t\t\tconst offset = getLeftOffsetBuffer( c2 );\r\n\t\t\t\tconst end = getRightEndOffsetBuffer( c2 );\r\n\t\t\t\tconst count = end - offset;\n\n\t\t\t\tc2StopTraversal = iterateOverTriangles( offset, count, geometry, intersectsTriangleFunc, true, depth + 1, triangle );\n\n\t\t\t} else {\n\n\t\t\t\tc2StopTraversal =\r\n\t\t\t\t\tc2Intersection &&\r\n\t\t\t\t\tshapecastBuffer(\r\n\t\t\t\t\t\tc2,\r\n\t\t\t\t\t\tmesh,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsTriangleFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tdepth + 1,\r\n\t\t\t\t\t\ttriangle,\r\n\t\t\t\t\t\tcachedBox1,\r\n\t\t\t\t\t\tcachedBox2\r\n\t\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( c2StopTraversal ) return true;\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n} )();\n\nexport const intersectsGeometryBuffer = ( function () {\n\n\tconst triangle = new SeparatingAxisTriangle();\r\n\tconst triangle2 = new SeparatingAxisTriangle();\r\n\tconst cachedMesh = new Mesh();\r\n\tconst invertedMat = new Matrix4();\n\n\tconst obb = new OrientedBox();\r\n\tconst obb2 = new OrientedBox();\n\n\treturn function intersectsGeometryBuffer( stride4Offset, mesh, geometry, geometryToBvh, cachedObb = null ) {\n\n\t\tlet stride2Offset = stride4Offset * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\n\n\t\tif ( cachedObb === null ) {\n\n\t\t\tif ( ! geometry.boundingBox ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\tobb.set( geometry.boundingBox.min, geometry.boundingBox.max, geometryToBvh );\r\n\t\t\tobb.update();\r\n\t\t\tcachedObb = obb;\n\n\t\t}\n\n\t\tconst isLeaf = ! /* node count */ ( uint16Array[ stride2Offset + 15 ] !== 0xffff );\r\n\t\tif ( isLeaf ) {\n\n\t\t\tconst thisGeometry = mesh.geometry;\r\n\t\t\tconst thisIndex = thisGeometry.index;\r\n\t\t\tconst thisPos = thisGeometry.attributes.position;\n\n\t\t\tconst index = geometry.index;\r\n\t\t\tconst pos = geometry.attributes.position;\n\n\t\t\tconst offset = /* node offset */ uint32Array[ stride4Offset + 6 ];\r\n\t\t\tconst count = /* node count */ uint16Array[ stride2Offset + 14 ];\n\n\t\t\t// get the inverse of the geometry matrix so we can transform our triangles into the\r\n\t\t\t// geometry space we're trying to test. We assume there are fewer triangles being checked\r\n\t\t\t// here.\r\n\t\t\tinvertedMat.copy( geometryToBvh ).invert();\n\n\t\t\tif ( geometry.boundsTree ) {\n\n\t\t\t\tarrayToBoxBuffer( /* node boundingData */ stride4Offset, float32Array, obb2 );\r\n\t\t\t\tobb2.matrix.copy( invertedMat );\r\n\t\t\t\tobb2.update();\n\n\t\t\t\tcachedMesh.geometry = geometry;\r\n\t\t\t\tconst res = geometry.boundsTree.shapecast( cachedMesh, box => obb2.intersectsBox( box ), function ( tri ) {\n\n\t\t\t\t\ttri.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri.update();\n\n\t\t\t\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\n\n\t\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\t\tsetTriangle( triangle2, i, thisIndex, thisPos );\r\n\t\t\t\t\t\ttriangle2.update();\r\n\t\t\t\t\t\tif ( tri.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t} );\r\n\t\t\t\tcachedMesh.geometry = null;\n\n\t\t\t\treturn res;\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = offset * 3, l = ( count + offset * 3 ); i < l; i += 3 ) {\n\n\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\tsetTriangle( triangle, i, thisIndex, thisPos );\r\n\t\t\t\t\ttriangle.a.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.b.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.c.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.update();\n\n\t\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\n\n\t\t\t\t\t\tsetTriangle( triangle2, i2, index, pos );\r\n\t\t\t\t\t\ttriangle2.update();\n\n\t\t\t\t\t\tif ( triangle.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst left = /* node left */ stride4Offset + 8;\r\n\t\t\tconst right = /* node right */ uint32Array[ stride4Offset + 6 ];\n\n\t\t\tarrayToBoxBuffer( /* left boundingData */ left, float32Array, boundingBox );\r\n\t\t\tconst leftIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometryBuffer( left, mesh, geometry, geometryToBvh, cachedObb );\n\n\t\t\tif ( leftIntersection ) return true;\n\n\t\t\tarrayToBoxBuffer( /* right boundingData */ right, float32Array, boundingBox );\r\n\t\t\tconst rightIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometryBuffer( right, mesh, geometry, geometryToBvh, cachedObb );\n\n\t\t\tif ( rightIntersection ) return true;\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n} )();\n\nfunction intersectRayBuffer( stride4Offset, array, ray, target ) {\n\n\tarrayToBoxBuffer( stride4Offset, array, boundingBox );\n\treturn ray.intersectBox( boundingBox, target );\n\n}\n\nconst bufferStack = [];\nlet _prevBuffer;\nlet _float32Array;\nlet _uint16Array;\nlet _uint32Array;\nexport function setBuffer( buffer ) {\n\n\tif ( _prevBuffer ) {\n\n\t\tbufferStack.push( _prevBuffer );\n\n\t}\n\n\t_prevBuffer = buffer;\n\t_float32Array = new Float32Array( buffer );\n\t_uint16Array = new Uint16Array( buffer );\n\t_uint32Array = new Uint32Array( buffer );\n\n}\n\nexport function clearBuffer() {\n\n\t_prevBuffer = null;\n\t_float32Array = null;\n\t_uint16Array = null;\n\t_uint32Array = null;\n\n\tif ( bufferStack.length ) {\n\n\t\tsetBuffer( bufferStack.pop() );\n\n\t}\n\n}\n\nfunction arrayToBoxBuffer( stride4Offset, array, target ) {\n\n\ttarget.min.x = array[ stride4Offset ];\n\ttarget.min.y = array[ stride4Offset + 1 ];\n\ttarget.min.z = array[ stride4Offset + 2 ];\n\n\ttarget.max.x = array[ stride4Offset + 3 ];\n\ttarget.max.y = array[ stride4Offset + 4 ];\n\ttarget.max.z = array[ stride4Offset + 5 ];\n\n}\n","import { Vector3, BufferAttribute } from 'three';\r\nimport { CENTER } from './Constants.js';\r\nimport { buildTree } from './buildFunctions.js';\r\nimport { OrientedBox } from './Utils/OrientedBox.js';\r\nimport { SeparatingAxisTriangle } from './Utils/SeparatingAxisTriangle.js';\r\nimport { setTriangle } from './Utils/TriangleUtils.js';\r\nimport {\r\n\traycast,\r\n\traycastFirst,\r\n\tshapecast,\r\n\tintersectsGeometry,\r\n} from './castFunctions.js';\r\n\r\nimport {\r\n\traycastBuffer,\r\n\traycastFirstBuffer,\r\n\tshapecastBuffer,\r\n\tintersectsGeometryBuffer,\r\n\tsetBuffer,\r\n\tclearBuffer,\r\n} from './castFunctionsBuffer.js';\r\n\r\n// boundingData  \t\t\t\t: 6 float32\r\n// right / offset \t\t\t\t: 1 uint32\r\n// splitAxis / isLeaf + count \t: 1 uint32 / 2 uint16\r\nconst BYTES_PER_NODE = 6 * 4 + 4 + 4;\r\nconst IS_LEAFNODE_FLAG = 0xFFFF;\r\nconst SKIP_GENERATION = Symbol( 'skip tree generation' );\r\n\r\nconst obb = new OrientedBox();\r\nconst temp = new Vector3();\r\nconst tri2 = new SeparatingAxisTriangle();\r\nconst temp1 = new Vector3();\r\nconst temp2 = new Vector3();\r\n\r\nexport default class MeshBVH {\r\n\r\n\tstatic serialize( bvh, geometry, copyIndexBuffer = true ) {\r\n\r\n\t\tfunction finishTree( node ) {\r\n\r\n\t\t\tif ( node.continueGeneration ) {\r\n\r\n\t\t\t\tnode.continueGeneration();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! node.count ) {\r\n\r\n\t\t\t\tfinishTree( node.left );\r\n\t\t\t\tfinishTree( node.right );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction countNodes( node ) {\r\n\r\n\t\t\tif ( node.count ) {\r\n\r\n\t\t\t\treturn 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn 1 + countNodes( node.left ) + countNodes( node.right );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction populateBuffer( byteOffset, node ) {\r\n\r\n\t\t\tconst stride4Offset = byteOffset / 4;\r\n\t\t\tconst stride2Offset = byteOffset / 2;\r\n\t\t\tconst isLeaf = ! ! node.count;\r\n\t\t\tconst boundingData = node.boundingData;\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tfloat32Array[ stride4Offset + i ] = boundingData[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\tconst offset = node.offset;\r\n\t\t\t\tconst count = node.count;\r\n\t\t\t\tuint32Array[ stride4Offset + 6 ] = offset;\r\n\t\t\t\tuint16Array[ stride2Offset + 14 ] = count;\r\n\t\t\t\tuint16Array[ stride2Offset + 15 ] = IS_LEAFNODE_FLAG;\r\n\t\t\t\treturn byteOffset + BYTES_PER_NODE;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst left = node.left;\r\n\t\t\t\tconst right = node.right;\r\n\t\t\t\tconst splitAxis = node.splitAxis;\r\n\r\n\t\t\t\tlet nextUnusedPointer;\r\n\t\t\t\tnextUnusedPointer = populateBuffer( byteOffset + BYTES_PER_NODE, left );\r\n\r\n\t\t\t\tuint32Array[ stride4Offset + 6 ] = nextUnusedPointer / 4;\r\n\t\t\t\tnextUnusedPointer = populateBuffer( nextUnusedPointer, right );\r\n\r\n\t\t\t\tuint32Array[ stride4Offset + 7 ] = splitAxis;\r\n\t\t\t\treturn nextUnusedPointer;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlet float32Array;\r\n\t\tlet uint32Array;\r\n\t\tlet uint16Array;\r\n\r\n\t\tconst roots = bvh._roots;\r\n\t\tlet rootData;\r\n\r\n\t\tif ( bvh._isPacked ) {\r\n\r\n\t\t\trootData = roots;\r\n\r\n\t\t} else {\r\n\r\n\t\t\trootData = [];\r\n\t\t\tfor ( let i = 0; i < roots.length; i ++ ) {\r\n\r\n\t\t\t\tconst root = roots[ i ];\r\n\t\t\t\tfinishTree( root );\r\n\t\t\t\tlet nodeCount = countNodes( root );\r\n\r\n\t\t\t\tconst buffer = new ArrayBuffer( BYTES_PER_NODE * nodeCount );\r\n\t\t\t\tfloat32Array = new Float32Array( buffer );\r\n\t\t\t\tuint32Array = new Uint32Array( buffer );\r\n\t\t\t\tuint16Array = new Uint16Array( buffer );\r\n\t\t\t\tpopulateBuffer( 0, root );\r\n\t\t\t\trootData.push( buffer );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst indexAttribute = geometry.getIndex();\r\n\t\tconst result = {\r\n\t\t\troots: rootData,\r\n\t\t\tindex: copyIndexBuffer ? indexAttribute.array.slice() : indexAttribute.array,\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tstatic deserialize( data, geometry, setIndex = true ) {\r\n\r\n\t\tconst { index, roots } = data;\r\n\t\tconst bvh = new MeshBVH( geometry, { [ SKIP_GENERATION ]: true } );\r\n\t\tbvh._roots = roots;\r\n\t\tbvh._isPacked = true;\r\n\r\n\t\tif ( setIndex ) {\r\n\r\n\t\t\tconst indexAttribute = geometry.getIndex();\r\n\t\t\tif ( indexAttribute === null ) {\r\n\r\n\t\t\t\tconst newIndex = new BufferAttribute( data.index, 1, false );\r\n\t\t\t\tgeometry.setIndex( newIndex );\r\n\r\n\t\t\t} else if ( indexAttribute.array !== index ) {\r\n\r\n\t\t\t\tindexAttribute.array.set( index );\r\n\t\t\t\tindexAttribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn bvh;\r\n\r\n\t}\r\n\r\n\tconstructor( geo, options = {} ) {\r\n\r\n\t\tif ( ! geo.isBufferGeometry ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: Only BufferGeometries are supported.' );\r\n\r\n\t\t} else if ( geo.attributes.position.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: InterleavedBufferAttribute is not supported for the position attribute.' );\r\n\r\n\t\t} else if ( geo.index && geo.index.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.' );\r\n\r\n\t\t}\r\n\r\n\t\t// default options\r\n\t\toptions = Object.assign( {\r\n\r\n\t\t\tstrategy: CENTER,\r\n\t\t\tmaxDepth: 40,\r\n\t\t\tmaxLeafTris: 10,\r\n\t\t\tverbose: true,\r\n\t\t\tlazyGeneration: true,\r\n\r\n\t\t\t// undocumented options\r\n\r\n\t\t\t// whether to the pack the data as a buffer or not. The data\r\n\t\t\t// will not be packed if lazyGeneration is true.\r\n\t\t\tpackData: true,\r\n\r\n\t\t\t// Whether to skip generating the tree. Used for deserialization.\r\n\t\t\t[ SKIP_GENERATION ]: false\r\n\r\n\t\t}, options );\r\n\t\toptions.strategy = Math.max( 0, Math.min( 2, options.strategy ) );\r\n\r\n\t\tthis._isPacked = false;\r\n\t\tthis._roots = null;\r\n\t\tif ( ! options[ SKIP_GENERATION ] ) {\r\n\r\n\t\t\tthis._roots = buildTree( geo, options );\r\n\t\t\tif ( ! options.lazyGeneration && options.packData ) {\r\n\r\n\t\t\t\tthis._roots = MeshBVH.serialize( this, geo, false ).roots;\r\n\t\t\t\tthis._isPacked = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttraverse( callback, rootIndex = 0 ) {\r\n\r\n\t\tif ( this._isPacked ) {\r\n\r\n\t\t\tconst buffer = this._roots[ rootIndex ];\r\n\t\t\tconst uint32Array = new Uint32Array( buffer );\r\n\t\t\tconst uint16Array = new Uint16Array( buffer );\r\n\t\t\t_traverseBuffer( 0 );\r\n\r\n\t\t\tfunction _traverseBuffer( stride4Offset, depth = 0 ) {\r\n\r\n\t\t\t\tconst stride2Offset = stride4Offset * 2;\r\n\t\t\t\tconst isLeaf = uint16Array[ stride2Offset + 15 ];\r\n\t\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\t\tconst offset = uint32Array[ stride4Offset + 6 ];\r\n\t\t\t\t\tconst count = uint16Array[ stride2Offset + 14 ];\r\n\t\t\t\t\tcallback( depth, isLeaf, new Float32Array( buffer, stride4Offset * 4, 6 ), offset, count );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst left = stride4Offset + BYTES_PER_NODE / 4;\r\n\t\t\t\t\tconst right = uint32Array[ stride4Offset + 6 ];\r\n\t\t\t\t\tconst splitAxis = uint32Array[ stride4Offset + 7 ];\r\n\t\t\t\t\tconst stopTraversal = callback( depth, isLeaf, new Float32Array( buffer, stride4Offset * 4, 6 ), splitAxis, false );\r\n\r\n\t\t\t\t\tif ( ! stopTraversal ) {\r\n\r\n\t\t\t\t\t\t_traverseBuffer( left, depth + 1 );\r\n\t\t\t\t\t\t_traverseBuffer( right, depth + 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_traverseNode( this._roots[ rootIndex ] );\r\n\r\n\t\t\tfunction _traverseNode( node, depth = 0 ) {\r\n\r\n\t\t\t\tconst isLeaf = ! ! node.count;\r\n\t\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\t\tcallback( depth, isLeaf, node.boundingData, node.offset, node.count );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst stopTraversal = callback( depth, isLeaf, node.boundingData, node.splitAxis, ! ! node.continueGeneration );\r\n\r\n\t\t\t\t\tif ( ! stopTraversal ) {\r\n\r\n\t\t\t\t\t\tif ( node.left ) _traverseNode( node.left, depth + 1 );\r\n\t\t\t\t\t\tif ( node.right ) _traverseNode( node.right, depth + 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/* Core Cast Functions */\r\n\traycast( mesh, raycaster, ray, intersects ) {\r\n\r\n\t\tconst isPacked = this._isPacked;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tif ( isPacked ) {\r\n\r\n\t\t\t\tsetBuffer( root );\r\n\t\t\t\traycastBuffer( 0, mesh, raycaster, ray, intersects );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\traycast( root, mesh, raycaster, ray, intersects );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisPacked && clearBuffer();\r\n\r\n\t}\r\n\r\n\traycastFirst( mesh, raycaster, ray ) {\r\n\r\n\t\tconst isPacked = this._isPacked;\r\n\t\tlet closestResult = null;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tlet result;\r\n\t\t\tif ( isPacked ) {\r\n\r\n\t\t\t\tsetBuffer( root );\r\n\t\t\t\tresult = raycastFirstBuffer( 0, mesh, raycaster, ray );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult = raycastFirst( root, mesh, raycaster, ray );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( result != null && ( closestResult == null || result.distance < closestResult.distance ) ) {\r\n\r\n\t\t\t\tclosestResult = result;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisPacked && clearBuffer();\r\n\r\n\t\treturn closestResult;\r\n\r\n\t}\r\n\r\n\tintersectsGeometry( mesh, geometry, geomToMesh ) {\r\n\r\n\t\tconst isPacked = this._isPacked;\r\n\t\tlet result = false;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tif ( isPacked ) {\r\n\r\n\t\t\t\tsetBuffer( root );\r\n\t\t\t\tresult = intersectsGeometryBuffer( 0, mesh, geometry, geomToMesh );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult = intersectsGeometry( root, mesh, geometry, geomToMesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( result ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisPacked && clearBuffer();\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tshapecast( mesh, intersectsBoundsFunc, intersectsTriangleFunc = null, orderNodesFunc = null ) {\r\n\r\n\t\tconst isPacked = this._isPacked;\r\n\t\tlet result = false;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tif ( isPacked ) {\r\n\r\n\t\t\t\tsetBuffer( root );\r\n\t\t\t\tresult = shapecastBuffer( 0, mesh, intersectsBoundsFunc, intersectsTriangleFunc, orderNodesFunc );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult = shapecast( root, mesh, intersectsBoundsFunc, intersectsTriangleFunc, orderNodesFunc );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( result ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisPacked && clearBuffer();\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/* Derived Cast Functions */\r\n\tintersectsBox( mesh, box, boxToMesh ) {\r\n\r\n\t\tobb.set( box.min, box.max, boxToMesh );\r\n\t\tobb.update();\r\n\r\n\t\treturn this.shapecast(\r\n\t\t\tmesh,\r\n\t\t\tbox => obb.intersectsBox( box ),\r\n\t\t\ttri => obb.intersectsTriangle( tri )\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tintersectsSphere( mesh, sphere ) {\r\n\r\n\t\treturn this.shapecast(\r\n\t\t\tmesh,\r\n\t\t\tbox => sphere.intersectsBox( box ),\r\n\t\t\ttri => tri.intersectsSphere( sphere )\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tclosestPointToGeometry( mesh, geom, geometryToBvh, target1 = null, target2 = null, minThreshold = 0, maxThreshold = Infinity ) {\r\n\r\n\t\tif ( ! geom.boundingBox ) {\r\n\r\n\t\t\tgeom.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tobb.set( geom.boundingBox.min, geom.boundingBox.max, geometryToBvh );\r\n\t\tobb.update();\r\n\r\n\t\tconst pos = geom.attributes.position;\r\n\t\tconst index = geom.index;\r\n\r\n\t\tlet tempTarget1 = null;\r\n\t\tlet tempTarget2 = null;\r\n\t\tif ( target1 ) {\r\n\r\n\t\t\ttempTarget1 = temp1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( target2 ) {\r\n\r\n\t\t\ttempTarget2 = temp2;\r\n\r\n\t\t}\r\n\r\n\t\tlet closestDistance = Infinity;\r\n\t\tthis.shapecast(\r\n\t\t\tmesh,\r\n\t\t\t( box, isLeaf, score ) => score < closestDistance && score < maxThreshold,\r\n\t\t\ttri => {\r\n\r\n\t\t\t\tif ( tri.needsUpdate ) {\r\n\r\n\t\t\t\t\ttri.update();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst sphere1 = tri.sphere;\r\n\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\r\n\r\n\t\t\t\t\tsetTriangle( tri2, i2, index, pos );\r\n\t\t\t\t\ttri2.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri2.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri2.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\ttri2.sphere.setFromPoints( tri2.points );\r\n\r\n\t\t\t\t\tconst sphere2 = tri2.sphere;\r\n\t\t\t\t\tconst sphereDist = sphere2.center.distanceTo( sphere1.center ) - sphere2.radius - sphere1.radius;\r\n\t\t\t\t\tif ( sphereDist > closestDistance ) {\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttri2.update();\r\n\r\n\t\t\t\t\tconst dist = tri.distanceToTriangle( tri2, tempTarget1, tempTarget2 );\r\n\t\t\t\t\tif ( dist < closestDistance ) {\r\n\r\n\t\t\t\t\t\tif ( target1 ) {\r\n\r\n\t\t\t\t\t\t\ttarget1.copy( tempTarget1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( target2 ) {\r\n\r\n\t\t\t\t\t\t\ttarget2.copy( tempTarget2 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tclosestDistance = dist;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\r\n\t\t\t\t\tif ( dist < minThreshold ) {\r\n\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t},\r\n\t\t\tbox => obb.distanceToBox( box, Math.min( closestDistance, maxThreshold ) )\r\n\r\n\t\t);\r\n\r\n\t\treturn closestDistance;\r\n\r\n\t}\r\n\r\n\tdistanceToGeometry( mesh, geom, matrix, minThreshold, maxThreshold ) {\r\n\r\n\t\treturn this.closestPointToGeometry( mesh, geom, matrix, null, null, minThreshold, maxThreshold );\r\n\r\n\t}\r\n\r\n\tclosestPointToPoint( mesh, point, target, minThreshold = 0, maxThreshold = Infinity ) {\r\n\r\n\t\t// early out if under minThreshold\r\n\t\t// skip checking if over maxThreshold\r\n\t\t// set minThreshold = maxThreshold to quickly check if a point is within a threshold\r\n\t\t// returns Infinity if no value found\r\n\t\tlet closestDistance = Infinity;\r\n\t\tthis.shapecast(\r\n\r\n\t\t\tmesh,\r\n\t\t\t( box, isLeaf, score ) => score < closestDistance && score < maxThreshold,\r\n\t\t\ttri => {\r\n\r\n\t\t\t\ttri.closestPointToPoint( point, temp );\r\n\t\t\t\tconst dist = point.distanceTo( temp );\r\n\t\t\t\tif ( dist < closestDistance ) {\r\n\r\n\t\t\t\t\tif ( target ) {\r\n\r\n\t\t\t\t\t\ttarget.copy( temp );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tclosestDistance = dist;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( dist < minThreshold ) {\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tbox => box.distanceToPoint( point )\r\n\r\n\t\t);\r\n\r\n\t\treturn closestDistance;\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( mesh, point, minThreshold, maxThreshold ) {\r\n\r\n\t\treturn this.closestPointToPoint( mesh, point, null, minThreshold, maxThreshold );\r\n\r\n\t}\r\n\r\n}\r\n","import { LineBasicMaterial, Box3Helper, Box3, Group, LineSegments } from 'three';\r\nimport { arrayToBox } from './Utils/ArrayBoxUtilities.js';\r\n\r\nconst wiremat = new LineBasicMaterial( { color: 0x00FF88, transparent: true, opacity: 0.3 } );\r\nconst boxGeom = new Box3Helper().geometry;\r\nlet boundingBox = new Box3();\r\n\r\nclass MeshBVHRootVisualizer extends Group {\r\n\r\n\tconstructor( mesh, depth = 10, group = 0 ) {\r\n\r\n\t\tsuper( 'MeshBVHRootVisualizer' );\r\n\r\n\t\tthis.depth = depth;\r\n\t\tthis._oldDepth = - 1;\r\n\t\tthis.mesh = mesh;\r\n\t\tthis._boundsTree = null;\r\n\t\tthis._group = group;\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tthis._oldDepth = this.depth;\r\n\t\tthis._boundsTree = this.mesh.geometry.boundsTree;\r\n\r\n\t\tlet requiredChildren = 0;\r\n\t\tif ( this._boundsTree ) {\r\n\r\n\t\t\tthis._boundsTree.traverse( ( depth, isLeaf, boundingData, offsetOrSplit, countOrIsUnfinished ) => {\r\n\r\n\t\t\t\tlet isTerminal = isLeaf || countOrIsUnfinished;\r\n\r\n\t\t\t\t// Stop traversal\r\n\t\t\t\tif ( depth >= this.depth ) {\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( depth === this.depth - 1 || isTerminal ) {\r\n\r\n\t\t\t\t\tlet m = requiredChildren < this.children.length ? this.children[ requiredChildren ] : null;\r\n\t\t\t\t\tif ( ! m ) {\r\n\r\n\t\t\t\t\t\tm = new LineSegments( boxGeom, wiremat );\r\n\t\t\t\t\t\tm.raycast = () => [];\r\n\t\t\t\t\t\tthis.add( m );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trequiredChildren ++;\r\n\t\t\t\t\tarrayToBox( boundingData, boundingBox );\r\n\t\t\t\t\tboundingBox.getCenter( m.position );\r\n\t\t\t\t\tm.scale.subVectors( boundingBox.max, boundingBox.min ).multiplyScalar( 0.5 );\r\n\r\n\t\t\t\t\tif ( m.scale.x === 0 ) m.scale.x = Number.EPSILON;\r\n\t\t\t\t\tif ( m.scale.y === 0 ) m.scale.y = Number.EPSILON;\r\n\t\t\t\t\tif ( m.scale.z === 0 ) m.scale.z = Number.EPSILON;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\twhile ( this.children.length > requiredChildren ) this.remove( this.children.pop() );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass MeshBVHVisualizer extends Group {\r\n\r\n\tconstructor( mesh, depth = 10 ) {\r\n\r\n\t\tsuper( 'MeshBVHVisualizer' );\r\n\r\n\t\tthis.depth = depth;\r\n\t\tthis.mesh = mesh;\r\n\t\tthis._roots = [];\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst bvh = this.mesh.geometry.boundsTree;\r\n\t\tconst totalRoots = bvh ? bvh._roots.length : 0;\r\n\t\twhile ( this._roots.length > totalRoots ) {\r\n\r\n\t\t\tthis._roots.pop();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < totalRoots; i ++ ) {\r\n\r\n\t\t\tif ( i >= this._roots.length ) {\r\n\r\n\t\t\t\tconst root = new MeshBVHRootVisualizer( this.mesh, this.depth, i );\r\n\t\t\t\tthis.add( root );\r\n\t\t\t\tthis._roots.push( root );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet root = this._roots[ i ];\r\n\t\t\t\troot.depth = this.depth;\r\n\t\t\t\troot.update();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( ...args ) {\r\n\r\n\t\tthis.position.copy( this.mesh.position );\r\n\t\tthis.rotation.copy( this.mesh.rotation );\r\n\t\tthis.scale.copy( this.mesh.scale );\r\n\r\n\t\tsuper.updateMatrixWorld( ...args );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tthis.depth = source.depth;\r\n\t\tthis.mesh = source.mesh;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new MeshBVHVisualizer( this.mesh, this.depth );\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport default MeshBVHVisualizer;\r\n","import { Box3, Vector3 } from 'three';\r\nimport { arrayToBox } from './Utils/ArrayBoxUtilities.js';\r\nconst box1 = new Box3();\r\nconst box2 = new Box3();\r\nconst vec = new Vector3();\r\n\r\nexport class MeshBVHDebug {\r\n\r\n\tconstructor( bvh, geometry ) {\r\n\r\n\t\tthis.bvh = bvh;\r\n\t\tthis.geometry = geometry;\r\n\r\n\t}\r\n\r\n\t// Returns a simple, human readable object that represents the BVH.\r\n\tgetJSONStructure() {\r\n\r\n\t\tconst { bvh } = this;\r\n\t\tconst depthStack = [];\r\n\r\n\t\tbvh.traverse( ( depth, isLeaf, boundingData, offset, count ) => {\r\n\r\n\t\t\tconst info = {\r\n\t\t\t\tbounds: arrayToBox( boundingData, new Box3() ),\r\n\t\t\t};\r\n\r\n\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\tinfo.count = count;\r\n\t\t\t\tinfo.offset = offset;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tinfo.left = null;\r\n\t\t\t\tinfo.right = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdepthStack[ depth ] = info;\r\n\r\n\t\t\t// traversal hits the left then right node\r\n\t\t\tconst parent = depthStack[ depth - 1 ];\r\n\t\t\tif ( parent ) {\r\n\r\n\t\t\t\tif ( parent.left === null ) {\r\n\r\n\t\t\t\t\tparent.left = info;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tparent.right = info;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\treturn depthStack[ 0 ];\r\n\r\n\t}\r\n\r\n\tvalidateBounds() {\r\n\r\n\t\tconst { bvh, geometry } = this;\r\n\t\tconst depthStack = [];\r\n\t\tconst index = geometry.index;\r\n\t\tconst position = geometry.getAttribute( 'position' );\r\n\t\tlet passes = true;\r\n\r\n\t\tbvh.traverse( ( depth, isLeaf, boundingData, offset, count ) => {\r\n\r\n\t\t\tconst info = {\r\n\t\t\t\tdepth,\r\n\t\t\t\tisLeaf,\r\n\t\t\t\tboundingData,\r\n\t\t\t\toffset,\r\n\t\t\t\tcount,\r\n\t\t\t};\r\n\t\t\tdepthStack[ depth ] = info;\r\n\r\n\t\t\tarrayToBox( boundingData, box1 );\r\n\t\t\tconst parent = depthStack[ depth - 1 ];\r\n\r\n\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\t// check triangles\r\n\t\t\t\tfor ( let i = offset * 3, l = ( offset + count ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\tconst i0 = index.getX( i );\r\n\t\t\t\t\tconst i1 = index.getX( i + 1 );\r\n\t\t\t\t\tconst i2 = index.getX( i + 2 );\r\n\r\n\t\t\t\t\tlet isContained;\r\n\r\n\t\t\t\t\tvec.fromBufferAttribute( position, i0 );\r\n\t\t\t\t\tisContained = box1.containsPoint( vec );\r\n\r\n\t\t\t\t\tvec.fromBufferAttribute( position, i1 );\r\n\t\t\t\t\tisContained = isContained && box1.containsPoint( vec );\r\n\r\n\t\t\t\t\tvec.fromBufferAttribute( position, i2 );\r\n\t\t\t\t\tisContained = isContained && box1.containsPoint( vec );\r\n\r\n\t\t\t\t\tconsole.assert( isContained, 'Leaf bounds does not fully contain triangle.' );\r\n\t\t\t\t\tpasses = passes && isContained;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( parent ) {\r\n\r\n\t\t\t\t// check if my bounds fit in my parents\r\n\t\t\t\tarrayToBox( boundingData, box2 );\r\n\r\n\t\t\t\tconst isContained = box2.containsBox( box1 );\r\n\t\t\t\tconsole.assert( isContained, 'Parent bounds does not fully contain child.' );\r\n\t\t\t\tpasses = passes && isContained;\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\treturn passes;\r\n\r\n\t}\r\n\r\n}\r\n","import { Ray, Matrix4, Mesh } from 'three';\r\nimport MeshBVH from './MeshBVH.js';\r\nimport Visualizer from './MeshBVHVisualizer.js';\r\nimport { CENTER, AVERAGE, SAH, NOT_INTERSECTED, INTERSECTED, CONTAINED } from './Constants.js';\r\nimport { getBVHExtremes, estimateMemoryInBytes } from './Utils/Debug.js';\r\nimport { MeshBVHDebug } from './MeshBVHDebug.js';\r\n\r\nconst ray = new Ray();\r\nconst tmpInverseMatrix = new Matrix4();\r\nconst origMeshRaycastFunc = Mesh.prototype.raycast;\r\n\r\nfunction acceleratedRaycast( raycaster, intersects ) {\r\n\r\n\tif ( this.geometry.boundsTree ) {\r\n\r\n\t\tif ( this.material === undefined ) return;\r\n\r\n\t\ttmpInverseMatrix.copy( this.matrixWorld ).invert();\r\n\t\tray.copy( raycaster.ray ).applyMatrix4( tmpInverseMatrix );\r\n\r\n\t\tif ( raycaster.firstHitOnly === true ) {\r\n\r\n\t\t\tconst res = this.geometry.boundsTree.raycastFirst( this, raycaster, ray );\r\n\t\t\tif ( res ) intersects.push( res );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.geometry.boundsTree.raycast( this, raycaster, ray, intersects );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\torigMeshRaycastFunc.call( this, raycaster, intersects );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction computeBoundsTree( options ) {\r\n\r\n\tthis.boundsTree = new MeshBVH( this, options );\r\n\treturn this.boundsTree;\r\n\r\n}\r\n\r\nfunction disposeBoundsTree() {\r\n\r\n\tthis.boundsTree = null;\r\n\r\n}\r\n\r\nexport {\r\n\tMeshBVH, Visualizer, Visualizer as MeshBVHVisualizer, MeshBVHDebug,\r\n\tacceleratedRaycast, computeBoundsTree, disposeBoundsTree,\r\n\tCENTER, AVERAGE, SAH, NOT_INTERSECTED, INTERSECTED, CONTAINED,\r\n\testimateMemoryInBytes, getBVHExtremes\r\n};\r\n","import { isIOS as detectIOS } from \"../utils/is-mobile\";\n\nconst isIOS = detectIOS();\n\n// Disable ImageBitmap for Firefox so far because\n// createImageBitmap() with option fails on Firefox due to the bug.\n// Three.js ImageBitmapLoader passes {colorSpaceConversion: 'none'} option.\n// Without the option, the rendering result can be wrong if image file has ICC profiles.\n// See https://github.com/mrdoob/three.js/pull/21336\nconst HAS_IMAGE_BITMAP =\n  window.createImageBitmap !== undefined && /Firefox/.test(navigator.userAgent) === false && !isIOS;\nexport const TEXTURES_FLIP_Y = !HAS_IMAGE_BITMAP;\n\n// Browsers on iOS devices can crash if huge or many textures are used in a room.\n// Perhaps huge VRAM usage may cause it. We already reported it to the webkit devs.\n// Until the root issue is fixed on iOS end, we resize huge texture images in the\n// low material quality mode as workaround. It isn't a perfect solution but it\n// should mitigate the problem. Also disable image bitmap (See the above)\n// because huge textures resize + image bitmap can still even crash browsers.\n//\n// See\n//   - https://github.com/mozilla/hubs/issues/5295\n//   - https://bugs.webkit.org/show_bug.cgi?id=241478\n\nconst IOS_TEXTURE_MAX_WIDTH = 2048;\nconst IOS_TEXTURE_MAX_HEIGHT = 2048;\n\nfunction resizeIfNeeded(texture) {\n  if (!isIOS || window.APP.store.state.preferences.materialQualitySetting !== \"low\") {\n    return texture;\n  }\n\n  const image = texture.image;\n\n  // Just in case.\n  if (!image || image.width === undefined || image.height === undefined) {\n    return texture;\n  }\n\n  if (image.width <= IOS_TEXTURE_MAX_WIDTH && image.height <= IOS_TEXTURE_MAX_HEIGHT) {\n    return texture;\n  }\n\n  const conversionRatio = Math.min(IOS_TEXTURE_MAX_WIDTH / image.width, IOS_TEXTURE_MAX_HEIGHT / image.height);\n\n  const newWidth = Math.round(image.width * conversionRatio);\n  const newHeight = Math.round(image.height * conversionRatio);\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = newWidth;\n  canvas.height = newHeight;\n  const context = canvas.getContext(\"2d\");\n  context.drawImage(image, 0, 0, newWidth, newHeight);\n\n  texture.image = canvas;\n\n  if (image.close !== undefined) {\n    image.close();\n  }\n\n  texture.format = THREE.RGBAFormat;\n  texture.type = THREE.UnsignedByteType;\n  return texture;\n}\n\nexport default class HubsTextureLoader extends THREE.TextureLoader {\n  constructor(manager) {\n    super(manager);\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const callback = texture => {\n      resizeIfNeeded(texture);\n      if (onLoad) {\n        onLoad(texture);\n      }\n    };\n\n    const texture = HAS_IMAGE_BITMAP\n      ? this._loadImageBitmapTexture(url, callback, onProgress, onError)\n      : super.load(url, callback, onProgress, onError);\n\n    texture.onUpdate = function () {\n      // Delete texture data once it has been uploaded to the GPU\n      texture.image.close && texture.image.close();\n      texture.image = null;\n    };\n\n    return texture;\n  }\n\n  async loadAsync(url, onProgress) {\n    return new Promise((resolve, reject) => {\n      this.load(url, resolve, onProgress, reject);\n    });\n  }\n\n  _loadImageBitmapTexture(url, onLoad, onProgress, onError) {\n    const texture = new THREE.Texture();\n    const loader = new THREE.ImageBitmapLoader(this.manager);\n    loader.setCrossOrigin(this.crossOrigin);\n    loader.setPath(this.path);\n\n    loader.load(\n      url,\n      bitmap => {\n        texture.image = bitmap;\n        texture.needsUpdate = true;\n\n        // We close the image bitmap when it's uploaded to texture.\n        // Closed image bitmap can't be reused so we remove the cache\n        // added in ImageBitmapLoader.\n        // You can remove this line once we entirely disable THREE.Cache.\n        THREE.Cache.remove(this.manager.resolveURL(url));\n\n        if (onLoad !== undefined) {\n          onLoad(texture);\n        }\n      },\n      onProgress,\n      onError\n    );\n\n    texture.flipY = false;\n    return texture;\n  }\n}\n","export function forEachMaterial(object3D, fn) {\n  if (!object3D.material) return;\n\n  if (Array.isArray(object3D.material)) {\n    object3D.material.forEach(fn);\n  } else {\n    fn(object3D.material);\n  }\n}\n\nexport function updateMaterials(object3D, fn) {\n  if (!object3D.material) return;\n\n  if (Array.isArray(object3D.material)) {\n    object3D.material = object3D.material.map(fn);\n  } else {\n    object3D.material = fn(object3D.material);\n  }\n}\n\nexport function mapMaterials(object3D, fn) {\n  if (!object3D.material) return [];\n\n  if (Array.isArray(object3D.material)) {\n    return object3D.material.map(fn);\n  } else {\n    return [fn(object3D.material)];\n  }\n}\n\n// HubsMeshBasicMaterial exists because we need to be able to set the emissiveMap in the avatar preview.\n// It also allows the material to be properly copied/cloned.\nclass HubsMeshBasicMaterial extends THREE.MeshBasicMaterial {\n  static fromMeshStandardMaterial(source) {\n    const material = new HubsMeshBasicMaterial();\n\n    THREE.Material.prototype.copy.call(material, source);\n    material.onBeforeRender = source.onBeforeRender;\n\n    material.color.copy(source.color);\n\n    material.emissive.copy(source.emissive);\n    material.emissiveIntensity = source.emissiveIntensity;\n    material.emissiveMap = source.emissiveMap;\n\n    material.map = source.map;\n\n    material.lightMap = source.lightMap;\n    // See https://github.com/mrdoob/three.js/pull/23613 for \"* Math.PI\"\n    material.lightMapIntensity = source.lightMapIntensity * Math.PI;\n\n    material.aoMap = source.aoMap;\n    material.aoMapIntensity = source.aoMapIntensity;\n\n    material.alphaMap = source.alphaMap;\n\n    material.wireframe = source.wireframe;\n    material.wireframeLinewidth = source.wireframeLinewidth;\n    material.wireframeLinecap = source.wireframeLinecap;\n    material.wireframeLinejoin = source.wireframeLinejoin;\n\n    return material;\n  }\n\n  constructor({ emissive, emissiveMap, emissiveIntensity, ...rest } = {}) {\n    super(rest);\n    this._emissive = { value: emissive || new THREE.Color() };\n    this._emissiveIntensity = { value: emissiveIntensity === undefined ? 1 : emissiveIntensity };\n    this._emissiveMap = { value: emissiveMap };\n  }\n\n  get emissive() {\n    return this._emissive.value;\n  }\n\n  set emissive(emissive) {\n    this._emissive.value = emissive;\n  }\n\n  get emissiveIntensity() {\n    return this._emissiveIntensity.value;\n  }\n\n  set emissiveIntensity(emissiveIntensity) {\n    this._emissiveIntensity.value = emissiveIntensity;\n  }\n\n  get emissiveMap() {\n    return this._emissiveMap.value;\n  }\n\n  set emissiveMap(emissiveMap) {\n    this._emissiveMap.value = emissiveMap;\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.emissive.copy(source.emissive);\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.emissiveMap = source.emissiveMap;\n    return this;\n  }\n\n  onBeforeCompile = shader => {\n    // This patch to the MeshBasicMaterial adds support for emissive maps.\n    shader.uniforms.emissive = this._emissive;\n    shader.uniforms.emissiveIntensity = this._emissiveIntensity;\n    shader.uniforms.emissiveMap = this._emissiveMap;\n    shader.fragmentShader = shader.fragmentShader.replace(\n      \"#include <lightmap_pars_fragment>\",\n      `#include <lightmap_pars_fragment>\n      uniform vec3 emissive;\n      uniform sampler2D emissiveMap;\n      `\n    );\n    shader.fragmentShader = shader.fragmentShader.replace(\n      \"#include <envmap_fragment>\",\n      `#include <envmap_fragment>\n\n      vec3 totalEmissiveRadiance = emissive;\n      #include <emissivemap_fragment>\n      outgoingLight += totalEmissiveRadiance;\n\n      `\n    );\n  };\n}\n\nclass HubsMeshPhongMaterial extends THREE.MeshPhongMaterial {\n  static fromMeshStandardMaterial(source) {\n    const material = new HubsMeshPhongMaterial();\n\n    THREE.Material.prototype.copy.call(material, source);\n    material.onBeforeRender = source.onBeforeRender;\n\n    material.color.copy(source.color);\n\n    material.map = source.map;\n\n    material.lightMap = source.lightMap;\n    material.lightMapIntensity = source.lightMapIntensity;\n\n    material.aoMap = source.aoMap;\n    material.aoMapIntensity = source.aoMapIntensity;\n\n    material.emissive.copy(source.emissive);\n    material.emissiveMap = source.emissiveMap;\n    material.emissiveIntensity = source.emissiveIntensity;\n\n    material.normalMapType = source.normalMapType;\n    material.normalMap = source.normalMap;\n    material.normalScale.copy(source.normalScale);\n\n    material.bumpMap = source.bumpMap;\n    material.bumpScale = source.bumpScale;\n\n    material.displacementMap = source.displacementMap;\n    material.displacementScale = source.displacementScale;\n    material.displacementBias = source.displacementBias;\n\n    material.alphaMap = source.alphaMap;\n\n    material.reflectivity = 0.5;\n    material.refractionRatio = source.refractionRatio;\n\n    material.wireframe = source.wireframe;\n    material.wireframeLinewidth = source.wireframeLinewidth;\n    material.wireframeLinecap = source.wireframeLinecap;\n    material.wireframeLinejoin = source.wireframeLinejoin;\n\n    return material;\n  }\n\n  onBeforeCompile = shader => {\n    // This patch to MeshPhongMaterial adds support for tangent space normal maps.\n    shader.vertexShader = shader.vertexShader.replace(\n      \"varying vec3 vNormal;\",\n      `varying vec3 vNormal;\n      #ifdef USE_TANGENT\n        varying vec3 vTangent;\n        varying vec3 vBitangent;\n      #endif\n      `\n    );\n    shader.vertexShader = shader.vertexShader.replace(\n      \"vNormal = normalize( transformedNormal );\",\n      `vNormal = normalize( transformedNormal );\n      \n        #ifdef USE_TANGENT\n      \n          vTangent = normalize( transformedTangent );\n          vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n      \n        #endif\n      `\n    );\n    shader.fragmentShader = shader.fragmentShader.replace(\n      \"#include <lights_phong_pars_fragment>\",\n      `#include <lights_phong_pars_fragment>\n      #ifndef FLAT_SHADED\n\n        #ifdef USE_TANGENT\n          varying vec3 vTangent;\n          varying vec3 vBitangent;\n        #endif\n\n      #endif\n      `\n    );\n  };\n}\n\nexport function convertStandardMaterial(source, quality) {\n  if (!source.isMeshStandardMaterial) {\n    return source;\n  }\n\n  if (quality === \"medium\") {\n    return HubsMeshPhongMaterial.fromMeshStandardMaterial(source);\n  } else if (quality === \"low\") {\n    return HubsMeshBasicMaterial.fromMeshStandardMaterial(source);\n  }\n\n  return source;\n}\n\nexport function disposeTexture(texture) {\n  if (texture.dash) {\n    texture.dash.reset();\n  }\n\n  if (texture.image instanceof HTMLVideoElement) {\n    const video = texture.image;\n    video.pause();\n    video.src = \"\";\n    video.load();\n  }\n\n  if (texture.hls) {\n    texture.hls.stopLoad();\n    texture.hls.detachMedia();\n    texture.hls.destroy();\n    texture.hls = null;\n  }\n\n  texture.dispose();\n}\n","import { hasReticulumServer } from \"./phoenix-utils\";\nimport configs from \"./configs\";\n\nconst nonCorsProxyDomains = (configs.NON_CORS_PROXY_DOMAINS || \"\").split(\",\");\nif (configs.CORS_PROXY_SERVER) {\n  nonCorsProxyDomains.push(configs.CORS_PROXY_SERVER.split(\":\")[0]);\n}\nnonCorsProxyDomains.push(document.location.hostname);\n\nconst commonKnownContentTypes = {\n  gltf: \"model/gltf\",\n  glb: \"model/gltf-binary\",\n  png: \"image/png\",\n  jpg: \"image/jpeg\",\n  jpeg: \"image/jpeg\",\n  pdf: \"application/pdf\",\n  mp4: \"video/mp4\",\n  mp3: \"audio/mpeg\",\n  basis: \"image/basis\",\n  ktx2: \"image/ktx2\",\n  m3u8: \"application/vnd.apple.mpegurl\",\n  mpd: \"application/dash+xml\"\n};\n\n// thanks to https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\nfunction b64EncodeUnicode(str) {\n  // first we use encodeURIComponent to get percent-encoded UTF-8, then we convert the percent-encodings\n  // into raw bytes which can be fed into btoa.\n  const CHAR_RE = /%([0-9A-F]{2})/g;\n  return btoa(encodeURIComponent(str).replace(CHAR_RE, (_, p1) => String.fromCharCode(\"0x\" + p1)));\n}\n\nconst farsparkEncodeUrl = url => {\n  // farspark doesn't know how to read '=' base64 padding characters\n  // translate base64 + to - and / to _ for URL safety\n  return b64EncodeUnicode(url).replace(/=+$/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n};\n\nexport const scaledThumbnailUrlFor = (url, width, height) => {\n  let extension = \"\";\n  try {\n    const pathParts = new URL(url).pathname.split(\".\");\n\n    if (pathParts.length > 1) {\n      const extensionCandidate = pathParts.pop();\n      if (commonKnownContentTypes[extensionCandidate]) {\n        extension = `.${extensionCandidate}`;\n      }\n    }\n  } catch (e) {\n    extension = \".png\";\n  }\n\n  // HACK: the extension is needed to ensure CDN caching on Cloudflare\n  const thumbnailUrl = `https://${configs.THUMBNAIL_SERVER}/thumbnail/${farsparkEncodeUrl(\n    url\n  )}${extension}?w=${width}&h=${height}`;\n\n  try {\n    const urlHostname = new URL(url).hostname;\n\n    if (hasReticulumServer()) {\n      const retHostname = new URL(`https://${configs.RETICULUM_SERVER}`).hostname;\n      if (retHostname === urlHostname) return url;\n    }\n  } catch (e) {\n    return thumbnailUrl;\n  }\n\n  return thumbnailUrl;\n};\n\nexport const isNonCorsProxyDomain = hostname => {\n  return nonCorsProxyDomains.find(domain => hostname.endsWith(domain));\n};\n\nexport const proxiedUrlFor = url => {\n  if (!(url.startsWith(\"http:\") || url.startsWith(\"https:\"))) return url;\n\n  // Skip known domains that do not require CORS proxying.\n  try {\n    const parsedUrl = new URL(url);\n    if (isNonCorsProxyDomain(parsedUrl.hostname)) return url;\n  } catch (e) {\n    // Ignore\n  }\n\n  return `https://${configs.CORS_PROXY_SERVER}/${url}`;\n};\n\nexport function getAbsoluteUrl(baseUrl, relativeUrl) {\n  return new URL(relativeUrl, baseUrl);\n}\n\nexport function getAbsoluteHref(baseUrl, relativeUrl) {\n  return getAbsoluteUrl(baseUrl, relativeUrl).href;\n}\n\n// Note these files are configured in webpack.config.js to be handled with file-loader, so this will be a string containing the file paths\nimport basisJsUrl from \"three/examples/js/libs/basis/basis_transcoder.js\";\nimport dracoWrapperJsUrl from \"three/examples/js/libs/draco/gltf/draco_wasm_wrapper.js\";\nimport basisWasmUrl from \"three/examples/js/libs/basis/basis_transcoder.wasm\";\nimport dracoWasmUrl from \"three/examples/js/libs/draco/gltf/draco_decoder.wasm\";\n\nexport const rewriteBasisTranscoderUrls = function (url) {\n  if (url === \"basis_transcoder.js\") {\n    return basisJsUrl;\n  } else if (url === \"basis_transcoder.wasm\") {\n    return basisWasmUrl;\n  }\n  return url;\n};\n\nexport const getCustomGLTFParserURLResolver = gltfUrl => url => {\n  // Intercept loading of basis transcoder with content hashed urls\n  if (url === \"basis_transcoder.js\") {\n    return basisJsUrl;\n  } else if (url === \"basis_transcoder.wasm\") {\n    return basisWasmUrl;\n  } else if (url === \"draco_wasm_wrapper.js\") {\n    return dracoWrapperJsUrl;\n  } else if (url === \"draco_decoder.wasm\") {\n    return dracoWasmUrl;\n  }\n\n  if (typeof url !== \"string\" || url === \"\") return \"\";\n  if (/^(https?:)?\\/\\//i.test(url)) return proxiedUrlFor(url);\n  if (/^data:.*,.*$/i.test(url)) return url;\n  if (/^blob:.*$/i.test(url)) return url;\n\n  if (configs.CORS_PROXY_SERVER) {\n    // For absolute paths with a CORS proxied gltf URL, re-write the url properly to be proxied\n    const corsProxyPrefix = `https://${configs.CORS_PROXY_SERVER}/`;\n\n    if (gltfUrl.startsWith(corsProxyPrefix)) {\n      const originalUrl = decodeURIComponent(gltfUrl.substring(corsProxyPrefix.length));\n      const originalUrlParts = originalUrl.split(\"/\");\n\n      // Drop the .gltf filename\n      const path = new URL(url).pathname;\n      const assetUrl = originalUrlParts.slice(0, originalUrlParts.length - 1).join(\"/\") + \"/\" + path;\n      return corsProxyPrefix + assetUrl;\n    }\n  }\n\n  return url;\n};\n\nconst dataUrlRegex = /data:([a-zA-Z0-9]+\\/[a-zA-Z0-9-.+]+).*,.*/;\n\nexport const guessContentType = url => {\n  if (!url) return;\n  if (url.startsWith(\"hubs://\") && url.endsWith(\"/video\")) return \"video/vnd.hubs-webrtc\";\n  if (url.startsWith(\"data:\")) {\n    const matches = dataUrlRegex.exec(url);\n    if (matches.length > 0) {\n      matches[1];\n    }\n  }\n  const extension = new URL(url, window.location).pathname.split(\".\").pop();\n  return commonKnownContentTypes[extension];\n};\n\nconst originIsHubsServer = new Map();\nasync function isHubsServer(url) {\n  if (!url) return false;\n  if (!url.startsWith(\"http\")) {\n    url = \"https://\" + url;\n  }\n  const { origin } = new URL(url);\n\n  if (originIsHubsServer.has(origin)) {\n    return originIsHubsServer.get(origin);\n  }\n\n  let isHubsServer;\n  try {\n    isHubsServer = (await fetch(proxiedUrlFor(origin), { method: \"HEAD\" })).headers.has(\"hub-name\");\n  } catch (e) {\n    isHubsServer = false;\n  }\n  originIsHubsServer.set(origin, isHubsServer);\n  return isHubsServer;\n}\n\nconst hubsSceneRegex = /https?:\\/\\/[^/]+\\/scenes\\/[a-zA-Z0-9]{7}(?:\\/|$)/;\nconst hubsAvatarRegex = /https?:\\/\\/[^/]+\\/avatars\\/(?<id>[a-zA-Z0-9]{7})(?:\\/|$)/;\nconst hubsRoomRegex = /(https?:\\/\\/)?[^/]+\\/(?<id>[a-zA-Z0-9]{7})(?:\\/|$)/;\n\nexport const isLocalHubsUrl = async url =>\n  (await isHubsServer(url)) && new URL(url).origin === document.location.origin;\n\nexport const isHubsSceneUrl = async url => (await isHubsServer(url)) && hubsSceneRegex.test(url);\nexport const isLocalHubsSceneUrl = async url => (await isHubsSceneUrl(url)) && (await isLocalHubsUrl(url));\n\nexport const isHubsAvatarUrl = async url => (await isHubsServer(url)) && hubsAvatarRegex.test(url);\nexport const isLocalHubsAvatarUrl = async url => (await isHubsAvatarUrl(url)) && (await isLocalHubsUrl(url));\n\nexport const isHubsRoomUrl = async url =>\n  (await isHubsServer(url)) &&\n  !(await isHubsAvatarUrl(url)) &&\n  !(await isHubsSceneUrl(url)) &&\n  url.match(hubsRoomRegex)?.groups.id;\n\nexport const isHubsDestinationUrl = async url =>\n  (await isHubsServer(url)) && ((await isHubsSceneUrl(url)) || (await isHubsRoomUrl(url)));\n\nexport const idForAvatarUrl = url => {\n  const match = url.match(hubsAvatarRegex);\n  if (match) {\n    return match.groups.id;\n  }\n  return null;\n};\n","// NOTE when changing be sure to check hardcoded mask values in hub.html\nexport enum Layers {\n  // These 3 layers are hardcoded in THREE\n  CAMERA_LAYER_DEFAULT,\n  CAMERA_LAYER_XR_LEFT_EYE,\n  CAMERA_LAYER_XR_RIGHT_EYE,\n\n  CAMERA_LAYER_REFLECTION,\n  CAMERA_LAYER_INSPECT,\n  CAMERA_LAYER_VIDEO_TEXTURE_TARGET,\n\n  CAMERA_LAYER_THIRD_PERSON_ONLY,\n  CAMERA_LAYER_FIRST_PERSON_ONLY,\n\n  CAMERA_LAYER_UI,\n  CAMERA_LAYER_FX_MASK\n}\n","import { removeEntity } from \"bitecs\";\nimport { forEachMaterial } from \"./material-utils\";\n\nconst tempVector3 = new THREE.Vector3();\nconst tempQuaternion = new THREE.Quaternion();\n\nexport function getLastWorldPosition(src, target) {\n  src.updateMatrices();\n  target.setFromMatrixPosition(src.matrixWorld);\n  return target;\n}\n\nexport function getLastWorldQuaternion(src, target) {\n  src.updateMatrices();\n  src.matrixWorld.decompose(tempVector3, target, tempVector3);\n  return target;\n}\n\nexport function getLastWorldScale(src, target) {\n  src.updateMatrices();\n  src.matrixWorld.decompose(tempVector3, tempQuaternion, target);\n  return target;\n}\n\nexport function disposeMaterial(mtrl) {\n  if (mtrl.map) mtrl.map.dispose();\n  if (mtrl.lightMap) mtrl.lightMap.dispose();\n  if (mtrl.bumpMap) mtrl.bumpMap.dispose();\n  if (mtrl.normalMap) mtrl.normalMap.dispose();\n  if (mtrl.specularMap) mtrl.specularMap.dispose();\n  if (mtrl.envMap) mtrl.envMap.dispose();\n  if (mtrl.aoMap) mtrl.aoMap.dispose();\n  if (mtrl.metalnessMap) mtrl.metalnessMap.dispose();\n  if (mtrl.roughnessMap) mtrl.roughnessMap.dispose();\n  if (mtrl.emissiveMap) mtrl.emissiveMap.dispose();\n  mtrl.dispose();\n  if (mtrl.eid) {\n    removeEntity(APP.world, mtrl.eid);\n  }\n}\n\nexport function disposeNode(node) {\n  if (!(node instanceof THREE.Mesh)) return;\n\n  if (node.geometry) {\n    node.geometry.dispose();\n  }\n\n  forEachMaterial(node.material, disposeMaterial);\n}\n\nconst IDENTITY = new THREE.Matrix4().identity();\nconst tempMatrix4 = new THREE.Matrix4();\nconst EPSILON = 0.00000000001;\nexport function setMatrixWorld(object3D, m) {\n  if (!object3D.matrixIsModified) {\n    object3D.applyMatrix4(IDENTITY); // hack around our matrix optimizations\n  }\n  tempMatrix4.copy(object3D.matrixWorld);\n  object3D.matrixWorld.copy(m);\n  if (object3D.parent) {\n    object3D.parent.updateMatrices();\n    object3D.matrix.copy(object3D.parent.matrixWorld).invert().multiply(m);\n  } else {\n    object3D.matrix.copy(m);\n  }\n  object3D.matrix.decompose(object3D.position, object3D.quaternion, object3D.scale);\n  if (tempMatrix4.near(object3D.matrixWorld, EPSILON)) {\n    object3D.matrixWorld.copy(tempMatrix4);\n  } else {\n    object3D.childrenNeedMatrixWorldUpdate = true;\n  }\n}\n\n// Modified version of Don McCurdy's AnimationUtils.clone\n// https://github.com/mrdoob/three.js/pull/14494\n\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b);\n\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback);\n  }\n}\n\n// Supports the following PropertyBinding path formats:\n// uuid.propertyName\n// uuid.propertyName[propertyIndex]\n// uuid.objectName[objectIndex].propertyName[propertyIndex]\n// Does not support property bindings that use object3D names or parent nodes\nfunction cloneKeyframeTrack(sourceKeyframeTrack, cloneUUIDLookup) {\n  const {\n    nodeName: uuid,\n    objectName,\n    objectIndex,\n    propertyName,\n    propertyIndex\n  } = THREE.PropertyBinding.parseTrackName(sourceKeyframeTrack.name);\n\n  let path = \"\";\n\n  if (uuid !== undefined) {\n    const clonedUUID = cloneUUIDLookup.get(uuid);\n\n    if (clonedUUID === undefined) {\n      console.warn(`Could not find KeyframeTrack target with uuid: \"${uuid}\"`);\n    }\n\n    path += clonedUUID;\n  }\n\n  if (objectName !== undefined) {\n    path += \".\" + objectName;\n  }\n\n  if (objectIndex !== undefined) {\n    path += \"[\" + objectIndex + \"]\";\n  }\n\n  if (propertyName !== undefined) {\n    path += \".\" + propertyName;\n  }\n\n  if (propertyIndex !== undefined) {\n    path += \"[\" + propertyIndex + \"]\";\n  }\n\n  const clonedKeyframeTrack = sourceKeyframeTrack.clone();\n  clonedKeyframeTrack.name = path;\n\n  return clonedKeyframeTrack;\n}\n\nfunction cloneAnimationClip(sourceAnimationClip, cloneUUIDLookup) {\n  const clonedTracks = sourceAnimationClip.tracks.map(keyframeTrack =>\n    cloneKeyframeTrack(keyframeTrack, cloneUUIDLookup)\n  );\n  return new THREE.AnimationClip(sourceAnimationClip.name, sourceAnimationClip.duration, clonedTracks);\n}\n\nexport function cloneObject3D(source, preserveUUIDs) {\n  const cloneLookup = new Map();\n  const cloneUUIDLookup = new Map();\n\n  const clone = source.clone();\n\n  parallelTraverse(source, clone, (sourceNode, clonedNode) => {\n    cloneLookup.set(sourceNode, clonedNode);\n\n    if (sourceNode.userData.gltfExtensions?.MOZ_hubs_components) {\n      clonedNode.userData.gltfExtensions.MOZ_hubs_components = sourceNode.userData.gltfExtensions.MOZ_hubs_components;\n    }\n  });\n\n  source.traverse(sourceNode => {\n    const clonedNode = cloneLookup.get(sourceNode);\n\n    if (preserveUUIDs) {\n      clonedNode.uuid = sourceNode.uuid;\n    }\n\n    cloneUUIDLookup.set(sourceNode.uuid, clonedNode.uuid);\n  });\n\n  source.traverse(sourceNode => {\n    const clonedNode = cloneLookup.get(sourceNode);\n\n    if (!clonedNode) {\n      return;\n    }\n\n    clonedNode.onBeforeRender = sourceNode.onBeforeRender;\n\n    if (sourceNode.animations) {\n      clonedNode.animations = sourceNode.animations.map(animationClip =>\n        cloneAnimationClip(animationClip, cloneUUIDLookup)\n      );\n    }\n\n    if (sourceNode.isMesh && sourceNode.geometry.boundsTree) {\n      clonedNode.geometry.boundsTree = sourceNode.geometry.boundsTree;\n    }\n\n    if ((clonedNode.isDirectionalLight || clonedNode.isSpotLight) && sourceNode.target) {\n      clonedNode.target = cloneLookup.get(sourceNode.target);\n    }\n\n    if (!sourceNode.isSkinnedMesh) return;\n\n    const sourceBones = sourceNode.skeleton.bones;\n\n    clonedNode.skeleton = sourceNode.skeleton.clone();\n\n    clonedNode.skeleton.bones = sourceBones.map(sourceBone => {\n      if (!cloneLookup.has(sourceBone)) {\n        throw new Error(\"Required bones are not descendants of the given object.\");\n      }\n\n      return cloneLookup.get(sourceBone);\n    });\n\n    clonedNode.bind(clonedNode.skeleton, sourceNode.bindMatrix);\n  });\n\n  return clone;\n}\n\nexport function findNode(root, pred) {\n  let nodes = [root];\n  while (nodes.length) {\n    const node = nodes.shift();\n    if (pred(node)) return node;\n    if (node.children) nodes = nodes.concat(node.children);\n  }\n  return null;\n}\n\nexport const interpolateAffine = (function () {\n  const mat4 = new THREE.Matrix4();\n  const end = {\n    position: new THREE.Vector3(),\n    quaternion: new THREE.Quaternion(),\n    scale: new THREE.Vector3()\n  };\n  const start = {\n    position: new THREE.Vector3(),\n    quaternion: new THREE.Quaternion(),\n    scale: new THREE.Vector3()\n  };\n  const interpolated = {\n    position: new THREE.Vector3(),\n    quaternion: new THREE.Quaternion(),\n    scale: new THREE.Vector3()\n  };\n  return function (startMat4, endMat4, progress, outMat4) {\n    start.quaternion.setFromRotationMatrix(mat4.extractRotation(startMat4));\n    end.quaternion.setFromRotationMatrix(mat4.extractRotation(endMat4));\n    interpolated.quaternion.slerpQuaternions(start.quaternion, end.quaternion, progress);\n    interpolated.position.lerpVectors(\n      start.position.setFromMatrixColumn(startMat4, 3),\n      end.position.setFromMatrixColumn(endMat4, 3),\n      progress\n    );\n    interpolated.scale.lerpVectors(\n      start.scale.setFromMatrixScale(startMat4),\n      end.scale.setFromMatrixScale(endMat4),\n      progress\n    );\n    return outMat4.compose(interpolated.position, interpolated.quaternion, interpolated.scale);\n  };\n})();\n\nexport const squareDistanceBetween = (function () {\n  const posA = new THREE.Vector3();\n  const posB = new THREE.Vector3();\n  return function (objA, objB) {\n    objA.updateMatrices();\n    objB.updateMatrices();\n    posA.setFromMatrixColumn(objA.matrixWorld, 3);\n    posB.setFromMatrixColumn(objB.matrixWorld, 3);\n    return posA.distanceToSquared(posB);\n  };\n})();\n\nexport function isAlmostUniformVector3(v, epsilonHalf = 0.005) {\n  return Math.abs(v.x - v.y) < epsilonHalf && Math.abs(v.x - v.z) < epsilonHalf;\n}\nexport function almostEqual(a, b, epsilon = 0.01) {\n  return Math.abs(a - b) < epsilon;\n}\n\nexport const affixToWorldUp = (function () {\n  const inRotationMat4 = new THREE.Matrix4();\n  const inForward = new THREE.Vector3();\n  const outForward = new THREE.Vector3();\n  const outSide = new THREE.Vector3();\n  const worldUp = new THREE.Vector3(); // Could be called \"outUp\"\n  const v = new THREE.Vector3();\n  const inMat4Copy = new THREE.Matrix4();\n  return function affixToWorldUp(inMat4, outMat4) {\n    inRotationMat4.identity().extractRotation(inMat4Copy.copy(inMat4));\n    inForward.setFromMatrixColumn(inRotationMat4, 2).multiplyScalar(-1);\n    outForward\n      .copy(inForward)\n      .sub(v.copy(inForward).projectOnVector(worldUp.set(0, 1, 0)))\n      .normalize();\n    outSide.crossVectors(outForward, worldUp);\n    outMat4.makeBasis(outSide, worldUp, outForward.multiplyScalar(-1));\n    outMat4.scale(v.setFromMatrixScale(inMat4Copy));\n    outMat4.setPosition(v.setFromMatrixColumn(inMat4Copy, 3));\n    return outMat4;\n  };\n})();\n\nexport const calculateCameraTransformForWaypoint = (function () {\n  const upAffixedCameraTransform = new THREE.Matrix4();\n  const upAffixedWaypointTransform = new THREE.Matrix4();\n  const detachFromWorldUp = new THREE.Matrix4();\n  return function calculateCameraTransformForWaypoint(cameraTransform, waypointTransform, outMat4) {\n    affixToWorldUp(cameraTransform, upAffixedCameraTransform);\n    detachFromWorldUp.copy(upAffixedCameraTransform).invert().multiply(cameraTransform);\n    affixToWorldUp(waypointTransform, upAffixedWaypointTransform);\n    outMat4.copy(upAffixedWaypointTransform).multiply(detachFromWorldUp);\n  };\n})();\n\nexport const calculateViewingDistance = (function () {\n  return function calculateViewingDistance(fov, aspect, box, center, vrMode) {\n    const halfYExtents = Math.max(Math.abs(box.max.y - center.y), Math.abs(center.y - box.min.y));\n    const halfXExtents = Math.max(Math.abs(box.max.x - center.x), Math.abs(center.x - box.min.x));\n    const halfVertFOV = THREE.MathUtils.degToRad(fov / 2);\n    const halfHorFOV = Math.atan(Math.tan(halfVertFOV) * aspect) * (vrMode ? 0.5 : 1);\n    const margin = 1.05;\n    const length1 = Math.abs((halfYExtents * margin) / Math.tan(halfVertFOV));\n    const length2 = Math.abs((halfXExtents * margin) / Math.tan(halfHorFOV));\n    const length3 = Math.abs(box.max.z - center.z) + Math.max(length1, length2);\n    const length = vrMode ? Math.max(0.25, length3) : length3;\n    return length || 1.25;\n  };\n})();\n\nexport const rotateInPlaceAroundWorldUp = (function () {\n  const inMat4Copy = new THREE.Matrix4();\n  const startRotation = new THREE.Matrix4();\n  const endRotation = new THREE.Matrix4();\n  const v = new THREE.Vector3();\n  return function rotateInPlaceAroundWorldUp(inMat4, theta, outMat4) {\n    inMat4Copy.copy(inMat4);\n    return outMat4\n      .copy(endRotation.makeRotationY(theta).multiply(startRotation.extractRotation(inMat4Copy)))\n      .scale(v.setFromMatrixScale(inMat4Copy))\n      .setPosition(v.setFromMatrixPosition(inMat4Copy));\n  };\n})();\n\nexport const childMatch = (function () {\n  const inverseParentWorld = new THREE.Matrix4();\n  const childRelativeToParent = new THREE.Matrix4();\n  const childInverse = new THREE.Matrix4();\n  const newParentMatrix = new THREE.Matrix4();\n  // transform the parent such that its child matches the target\n  return function childMatch(parent, child, target) {\n    parent.updateMatrices();\n    inverseParentWorld.copy(parent.matrixWorld).invert();\n    child.updateMatrices();\n    childRelativeToParent.multiplyMatrices(inverseParentWorld, child.matrixWorld);\n    childInverse.copy(childRelativeToParent).invert();\n    newParentMatrix.multiplyMatrices(target, childInverse);\n    setMatrixWorld(parent, newParentMatrix);\n  };\n})();\n\nexport function createPlaneBufferGeometry(width, height, widthSegments, heightSegments, flipY = true) {\n  const geometry = new THREE.PlaneBufferGeometry(width, height, widthSegments, heightSegments);\n  // Three.js seems to assume texture flipY is true for all its built in geometry\n  // but we turn this off on our texture loader since createImageBitmap in Firefox\n  // does not support flipping. Then we flip the uv for flipY = false texture.\n  if (flipY === false) {\n    const uv = geometry.getAttribute(\"uv\");\n    for (let i = 0; i < uv.count; i++) {\n      uv.setY(i, 1.0 - uv.getY(i));\n    }\n  }\n  return geometry;\n}\n\nimport { Layers } from \"../camera-layers\";\n\n// This code is from three-vrm. We will likely be using that in the future and this inlined code can go away\nfunction excludeTriangles(triangles, bws, skinIndex, exclude) {\n  let count = 0;\n  if (bws != null && bws.length > 0) {\n    for (let i = 0; i < triangles.length; i += 3) {\n      const a = triangles[i];\n      const b = triangles[i + 1];\n      const c = triangles[i + 2];\n      const bw0 = bws[a];\n      const skin0 = skinIndex[a];\n\n      if (bw0[0] > 0 && exclude.includes(skin0[0])) continue;\n      if (bw0[1] > 0 && exclude.includes(skin0[1])) continue;\n      if (bw0[2] > 0 && exclude.includes(skin0[2])) continue;\n      if (bw0[3] > 0 && exclude.includes(skin0[3])) continue;\n\n      const bw1 = bws[b];\n      const skin1 = skinIndex[b];\n      if (bw1[0] > 0 && exclude.includes(skin1[0])) continue;\n      if (bw1[1] > 0 && exclude.includes(skin1[1])) continue;\n      if (bw1[2] > 0 && exclude.includes(skin1[2])) continue;\n      if (bw1[3] > 0 && exclude.includes(skin1[3])) continue;\n\n      const bw2 = bws[c];\n      const skin2 = skinIndex[c];\n      if (bw2[0] > 0 && exclude.includes(skin2[0])) continue;\n      if (bw2[1] > 0 && exclude.includes(skin2[1])) continue;\n      if (bw2[2] > 0 && exclude.includes(skin2[2])) continue;\n      if (bw2[3] > 0 && exclude.includes(skin2[3])) continue;\n\n      triangles[count++] = a;\n      triangles[count++] = b;\n      triangles[count++] = c;\n    }\n  }\n  return count;\n}\n\nfunction createErasedMesh(src, erasingBonesIndex) {\n  const dst = new THREE.SkinnedMesh(src.geometry.clone(), src.material);\n  dst.name = `${src.name}(headless)`;\n  dst.frustumCulled = src.frustumCulled;\n  dst.layers.set(Layers.CAMERA_LAYER_FIRST_PERSON_ONLY);\n\n  const geometry = dst.geometry;\n\n  const skinIndexAttr = geometry.getAttribute(\"skinIndex\").array;\n  const skinIndex = [];\n  for (let i = 0; i < skinIndexAttr.length; i += 4) {\n    skinIndex.push([skinIndexAttr[i], skinIndexAttr[i + 1], skinIndexAttr[i + 2], skinIndexAttr[i + 3]]);\n  }\n\n  const skinWeightAttr = geometry.getAttribute(\"skinWeight\").array;\n  const skinWeight = [];\n  for (let i = 0; i < skinWeightAttr.length; i += 4) {\n    skinWeight.push([skinWeightAttr[i], skinWeightAttr[i + 1], skinWeightAttr[i + 2], skinWeightAttr[i + 3]]);\n  }\n\n  const index = geometry.getIndex();\n  if (!index) {\n    throw new Error(\"The geometry doesn't have an index buffer\");\n  }\n  const oldTriangles = Array.from(index.array);\n\n  const count = excludeTriangles(oldTriangles, skinWeight, skinIndex, erasingBonesIndex);\n  const newTriangle = [];\n  for (let i = 0; i < count; i++) {\n    newTriangle[i] = oldTriangles[i];\n  }\n  geometry.setIndex(newTriangle);\n\n  if (src.onBeforeRender) {\n    dst.onBeforeRender = src.onBeforeRender;\n  }\n\n  dst.bind(new THREE.Skeleton(src.skeleton.bones, src.skeleton.boneInverses), new THREE.Matrix4());\n\n  return dst;\n}\n\nfunction isEraseTarget(bone) {\n  return bone.name === \"Head\" || (bone.parent && isEraseTarget(bone.parent));\n}\n\nexport function createHeadlessModelForSkinnedMesh(mesh) {\n  const eraseBoneIndexes = [];\n  mesh.skeleton.bones.forEach((bone, index) => {\n    if (isEraseTarget(bone)) eraseBoneIndexes.push(index);\n  });\n\n  if (!eraseBoneIndexes.length) {\n    mesh.layers.enable(Layers.CAMERA_LAYER_THIRD_PERSON_ONLY);\n    mesh.layers.enable(Layers.CAMERA_LAYER_FIRST_PERSON_ONLY);\n    return;\n  }\n\n  mesh.layers.set(Layers.CAMERA_LAYER_THIRD_PERSON_ONLY);\n\n  return createErasedMesh(mesh, eraseBoneIndexes);\n}\n\nexport const isFacingCamera = (function () {\n  const objWorldDir = new THREE.Vector3();\n  const objWorld = new THREE.Vector3();\n  const camWorld = new THREE.Vector3();\n  return function isFacingCamera(obj) {\n    const playerCamera = AFRAME.scenes[0].systems[\"hubs-systems\"].cameraSystem.viewingCamera;\n    playerCamera.getWorldPosition(camWorld);\n    obj.getWorldPosition(objWorld);\n    obj.getWorldDirection(objWorldDir);\n    return objWorldDir.dot(objWorld.sub(camWorld)) < 0;\n  };\n})();\n\nexport function findAncestor(obj, predicate) {\n  let ancestor = obj;\n  while (ancestor) {\n    if (predicate(ancestor)) return ancestor;\n    ancestor = ancestor.parent;\n  }\n  return null;\n}\n\nexport function traverseSome(obj, fn) {\n  const shouldContinue = fn(obj);\n  if (shouldContinue) {\n    for (let i = 0; i < obj.children.length; i++) {\n      traverseSome(obj.children[i], fn);\n    }\n  }\n}\n","import GLBRangeRequests from \"three-gltf-extensions/loaders/GLB_range_requests/GLB_range_requests\";\nimport GLTFLodExtension from \"three-gltf-extensions/loaders/MSFT_lod/MSFT_lod\";\nimport { acceleratedRaycast, MeshBVH } from \"three-mesh-bvh\";\nimport { BasisTextureLoader } from \"three/examples/jsm/loaders/BasisTextureLoader\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { KTX2Loader } from \"three/examples/jsm/loaders/KTX2Loader\";\nimport { RGBELoader } from \"three/examples/jsm/loaders/RGBELoader\";\nimport HubsTextureLoader from \"../loaders/HubsTextureLoader\";\nimport { convertStandardMaterial, mapMaterials, updateMaterials } from \"../utils/material-utils\";\nimport { getCustomGLTFParserURLResolver } from \"../utils/media-url-utils\";\nimport nextTick from \"../utils/next-tick\";\nimport { promisifyWorker } from \"../utils/promisify-worker.js\";\nimport qsTruthy from \"../utils/qs_truthy\";\nimport { cloneObject3D, disposeMaterial } from \"../utils/three-utils\";\nimport SketchfabZipWorker from \"../workers/sketchfab-zip.worker.js\";\n\nTHREE.Mesh.prototype.raycast = acceleratedRaycast;\n\nclass GLTFCache {\n  cache = new Map();\n\n  set(src, gltf) {\n    gltf.scene.userData.gltfCacheKey = src;\n    this.cache.set(src, {\n      gltf,\n      count: 0\n    });\n    return this.retain(src);\n  }\n\n  has(src) {\n    return this.cache.has(src);\n  }\n\n  get(src) {\n    return this.cache.get(src);\n  }\n\n  retain(src) {\n    const cacheItem = this.cache.get(src);\n    cacheItem.count++;\n    return cacheItem;\n  }\n\n  release(src) {\n    const cacheItem = this.cache.get(src);\n\n    if (!cacheItem) {\n      console.error(`Releasing uncached gltf ${src}`);\n      return;\n    }\n\n    cacheItem.count--;\n    if (cacheItem.count <= 0) {\n      cacheItem.gltf.scene.dispose();\n      this.cache.delete(src);\n    }\n  }\n}\n\nexport const gltfCache = new GLTFCache();\nconst inflightGltfs = new Map();\n\nconst extractZipFile = promisifyWorker(new SketchfabZipWorker());\n\nfunction defaultInflator(el, componentName, componentData) {\n  if (!AFRAME.components[componentName]) {\n    console.warn(`Inflator failed. \"${componentName}\" component does not exist.`);\n    return;\n  }\n  if (AFRAME.components[componentName].multiple && Array.isArray(componentData)) {\n    for (let i = 0; i < componentData.length; i++) {\n      el.setAttribute(componentName + \"__\" + i, componentData[i]);\n    }\n  } else {\n    el.setAttribute(componentName, componentData);\n  }\n}\n\nAFRAME.GLTFModelPlus = {\n  // eslint-disable-next-line no-unused-vars\n  components: {},\n  registerComponent(componentKey, componentName, inflator) {\n    inflator = inflator || defaultInflator;\n    AFRAME.GLTFModelPlus.components[componentKey] = { inflator, componentName };\n  }\n};\n\nfunction generateMeshBVH(object3D) {\n  object3D.traverse(obj => {\n    // note that we might already have a bounds tree if this was a clone of an object with one\n    const hasBufferGeometry = obj.isMesh && obj.geometry.isBufferGeometry;\n    const hasBoundsTree = hasBufferGeometry && obj.geometry.boundsTree;\n    if (hasBufferGeometry && !hasBoundsTree && obj.geometry.attributes.position) {\n      const geo = obj.geometry;\n\n      if (\n        geo.attributes.position.isInterleavedBufferAttribute ||\n        (geo.index && geo.index.isInterleavedBufferAttribute)\n      ) {\n        console.warn(\"Skipping generaton of MeshBVH for interleaved geoemtry as it is not supported\");\n        return;\n      }\n\n      const triCount = geo.index ? geo.index.count / 3 : geo.attributes.position.count / 3;\n      // only bother using memory and time making a BVH if there are a reasonable number of tris,\n      // and if there are too many it's too painful and large to tolerate doing it (at least until\n      // we put this in a web worker)\n\n      if (triCount > 1000 && triCount < 1000000) {\n        // note that bounds tree construction creates an index as a side effect if one doesn't already exist\n        geo.boundsTree = new MeshBVH(obj.geometry, { strategy: 0, maxDepth: 30 });\n      }\n    }\n  });\n}\n\nfunction cloneGltf(gltf) {\n  const scene = cloneObject3D(gltf.scene);\n  return {\n    animations: scene.animations,\n    scene\n  };\n}\n\nfunction getHubsComponents(node) {\n  const hubsComponents =\n    node.userData.gltfExtensions &&\n    (node.userData.gltfExtensions.MOZ_hubs_components || node.userData.gltfExtensions.HUBS_components);\n\n  // We can remove support for legacy components when our environment, avatar and interactable models are\n  // updated to match Spoke output.\n  const legacyComponents = node.userData.components;\n\n  return hubsComponents || legacyComponents;\n}\n\nfunction getHubsComponentsFromMaterial(node) {\n  const material = node.material;\n\n  if (!material) {\n    return null;\n  }\n\n  return getHubsComponents(material);\n}\n\n/// Walks the tree of three.js objects starting at the given node, using the GLTF data\n/// and template data to construct A-Frame entities and components when necessary.\n/// (It's unnecessary to construct entities for subtrees that have no component data\n/// or templates associated with any of their nodes.)\n///\n/// Returns the A-Frame entity associated with the given node, if one was constructed.\nconst inflateEntities = function (indexToEntityMap, node, templates, isRoot, modelToWorldScale = 1) {\n  // TODO: Remove this once we update the legacy avatars to the new node names\n  if (node.name === \"Chest\") {\n    node.name = \"Spine\";\n  } else if (node.name === \"Root Scene\") {\n    node.name = \"AvatarRoot\";\n  } else if (node.name === \"Bot_Skinned\") {\n    node.name = \"AvatarMesh\";\n  }\n\n  // inflate subtrees first so that we can determine whether or not this node needs to be inflated\n  const childEntities = [];\n  const children = node.children.slice(0); // setObject3D mutates the node's parent, so we have to copy\n  for (const child of children) {\n    const el = inflateEntities(indexToEntityMap, child, templates);\n    if (el) {\n      childEntities.push(el);\n    }\n  }\n\n  const entityComponents = getHubsComponents(node);\n  const materialComponents = getHubsComponentsFromMaterial(node);\n\n  const nodeHasBehavior = !!entityComponents || !!materialComponents || node.name in templates;\n  if (!nodeHasBehavior && !childEntities.length && !isRoot) {\n    return null; // we don't need an entity for this node\n  }\n\n  const el = document.createElement(\"a-entity\");\n  el.append.apply(el, childEntities);\n\n  // Remove invalid CSS class name characters.\n  const className = (node.name || node.uuid).replace(/[^\\w-]/g, \"\");\n  el.classList.add(className);\n\n  // AFRAME rotation component expects rotations in YXZ, convert it\n  if (node.rotation.order !== \"YXZ\") {\n    node.rotation.setFromQuaternion(node.quaternion, \"YXZ\");\n  }\n\n  // Copy over the object's transform to the THREE.Group and reset the actual transform of the Object3D\n  // all updates to the object should be done through the THREE.Group wrapper\n  el.object3D.position.copy(node.position);\n  el.object3D.rotation.copy(node.rotation);\n  el.object3D.scale.copy(node.scale).multiplyScalar(modelToWorldScale);\n  el.object3D.matrixNeedsUpdate = true;\n\n  node.matrixAutoUpdate = false;\n  node.matrix.identity();\n  node.matrix.decompose(node.position, node.rotation, node.scale);\n\n  el.setObject3D(node.type.toLowerCase(), node);\n  if (entityComponents && \"nav-mesh\" in entityComponents) {\n    el.setObject3D(\"mesh\", node);\n  }\n\n  // Set the name of the `THREE.Group` to match the name of the node,\n  // so that templates can be attached to the correct AFrame entity.\n  el.object3D.name = node.name;\n\n  // Set the uuid of the `THREE.Group` to match the uuid of the node,\n  // so that `THREE.PropertyBinding` will find (and later animate)\n  // the group. See `PropertyBinding.findNode`:\n  // https://github.com/mrdoob/three.js/blob/dev/src/animation/PropertyBinding.js#L211\n  el.object3D.uuid = node.uuid;\n  node.uuid = THREE.MathUtils.generateUUID();\n\n  if (node.animations) {\n    // Pass animations up to the group object so that when we can pass the group as\n    // the optional root in `THREE.AnimationMixer.clipAction` and use the hierarchy\n    // preserved under the group (but not the node). Otherwise `clipArray` will be\n    // `null` in `THREE.AnimationClip.findByName`.\n    node.parent.animations = node.animations;\n  }\n\n  if (node.morphTargetInfluences) {\n    node.parent.morphTargetInfluences = node.morphTargetInfluences;\n  }\n\n  const gltfIndex = node.userData.gltfIndex;\n  if (gltfIndex !== undefined) {\n    indexToEntityMap[gltfIndex] = el;\n  }\n\n  return el;\n};\n\nasync function inflateComponents(inflatedEntity, indexToEntityMap) {\n  let isFirstInflation = true;\n  const objectInflations = [];\n\n  inflatedEntity.object3D.traverse(async object3D => {\n    const objectInflation = {};\n    objectInflation.promise = new Promise(resolve => (objectInflation.resolve = resolve));\n    objectInflations.push(objectInflation);\n\n    if (!isFirstInflation) {\n      await objectInflations.shift().promise;\n    }\n    isFirstInflation = false;\n\n    const entityComponents = getHubsComponents(object3D);\n    const el = object3D.el;\n\n    function resolveNodeRefs(componentData) {\n      for (const propName in componentData) {\n        const value = componentData[propName];\n        const type = value?.__mhc_link_type;\n        if (type === \"node\" && value.index !== undefined) {\n          if (indexToEntityMap[value.index]) {\n            componentData[propName] = indexToEntityMap[value.index].object3D;\n          } else {\n            console.warn(\"inflateComponents: invalid node reference\", propName);\n            componentData[propName] = null;\n          }\n        }\n      }\n      return componentData;\n    }\n\n    if (entityComponents && el) {\n      for (const prop in entityComponents) {\n        if (\n          Object.prototype.hasOwnProperty.call(entityComponents, prop) &&\n          Object.prototype.hasOwnProperty.call(AFRAME.GLTFModelPlus.components, prop)\n        ) {\n          const { componentName, inflator } = AFRAME.GLTFModelPlus.components[prop];\n          await inflator(\n            el,\n            componentName,\n            resolveNodeRefs(entityComponents[prop]),\n            entityComponents,\n            indexToEntityMap\n          );\n        }\n      }\n    }\n\n    const materialComponents = getHubsComponentsFromMaterial(object3D);\n\n    if (materialComponents && el) {\n      for (const prop in materialComponents) {\n        if (\n          Object.prototype.hasOwnProperty.call(materialComponents, prop) &&\n          Object.prototype.hasOwnProperty.call(AFRAME.GLTFModelPlus.components, prop)\n        ) {\n          const { componentName, inflator } = AFRAME.GLTFModelPlus.components[prop];\n          await inflator(\n            el,\n            componentName,\n            resolveNodeRefs(materialComponents[prop]),\n            materialComponents,\n            indexToEntityMap\n          );\n        }\n      }\n    }\n\n    objectInflation.resolve();\n  });\n\n  await objectInflations.shift().promise;\n}\n\nfunction attachTemplate(root, name, templateRoot) {\n  const targetEls = root.querySelectorAll(\".\" + name);\n  for (const el of targetEls) {\n    const root = templateRoot.cloneNode(true);\n    // Merge root element attributes with the target element\n    for (const { name, value } of root.attributes) {\n      el.setAttribute(name, value);\n    }\n\n    // Append all child elements\n    while (root.children.length > 0) {\n      el.appendChild(root.children[0]);\n    }\n  }\n}\n\nfunction getHubsComponentsExtension(node) {\n  if (node.extensions && node.extensions.MOZ_hubs_components) {\n    return node.extensions.MOZ_hubs_components;\n  } else if (node.extensions && node.extensions.HUBS_components) {\n    return node.extensions.HUBS_components;\n  } else if (node.extras && node.extras.gltfExtensions && node.extras.gltfExtensions.MOZ_hubs_components) {\n    return node.extras.gltfExtensions.MOZ_hubs_components;\n  }\n}\n\n// Versions are documented here: https://github.com/mozilla/hubs/wiki/MOZ_hubs_components-Changelog\n// Make sure to update the wiki and Spoke when bumping a version\nfunction runMigration(version, json) {\n  if (version < 2) {\n    //old heightfields will be on the same node as the nav-mesh, delete those\n    const oldHeightfieldNode = json.nodes.find(node => {\n      const components = getHubsComponentsExtension(node);\n      return components && components.heightfield && components[\"nav-mesh\"];\n    });\n    if (oldHeightfieldNode) {\n      if (oldHeightfieldNode.extensions && oldHeightfieldNode.extensions.MOZ_hubs_components) {\n        delete oldHeightfieldNode.extensions.MOZ_hubs_components.heightfield;\n      } else if (oldHeightfieldNode.extensions && oldHeightfieldNode.extensions.HUBS_components) {\n        delete oldHeightfieldNode.extensions.HUBS_components.heightfield;\n      } else if (\n        oldHeightfieldNode.extras &&\n        oldHeightfieldNode.extras.gltfExtensions &&\n        oldHeightfieldNode.extras.gltfExtensions.MOZ_hubs_components\n      ) {\n        delete oldHeightfieldNode.extras.gltfExtensions.MOZ_hubs_components;\n      }\n    }\n  }\n\n  if (version < 4) {\n    // Lights prior to version 4 should treat range === 0 as if it has zero decay\n    if (json.nodes) {\n      for (const node of json.nodes) {\n        const components = getHubsComponentsExtension(node);\n\n        if (!components) {\n          continue;\n        }\n\n        const light = components[\"spot-light\"] || components[\"point-light\"];\n\n        if (light && light.range === 0) {\n          light.decay = 0;\n        }\n      }\n    }\n  }\n}\n\nconst convertStandardMaterialsIfNeeded = object => {\n  const materialQuality = window.APP.store.state.preferences.materialQualitySetting;\n  updateMaterials(object, material => convertStandardMaterial(material, materialQuality));\n  return object;\n};\n\nlet ktxLoader;\nlet dracoLoader;\n\nclass GLTFHubsPlugin {\n  constructor(parser, jsonPreprocessor) {\n    this.parser = parser;\n    this.jsonPreprocessor = jsonPreprocessor;\n    this.name = \"MOZ_hubs_plugin\";\n\n    // We override glTF parser textureLoader with our HubsTextureLoader for\n    // 1. Clean up the texture image related resources after it is uploaded to WebGL texture\n    // 2. Use ImageBitmapLoader if it is available. The latest official Three.js (r128) glTF loader\n    //    attempts to use ImageBitmapLoader if it is avaiable except for Firefox.\n    //    But we want to use ImageBitmapLoader even for Firefox so we need this overriding hack.\n    // But overriding the textureLoader is hacky and it can cause future potential problems\n    // especially in upstraming Three.js. So ideally we should replace this hack\n    // with the one using more proper APIs like plugin system at some point.\n    // Note: Be careful when replacing our Three.js fork with the official upstraming one that\n    //       the latest ImageBitmapLoader passes the second argument to createImageBitmap()\n    //       but currently createImageBitmap() on Firefox fails if the second argument is defined.\n    //       https://bugzilla.mozilla.org/show_bug.cgi?id=1367251\n    //       and this is the reason why the official glTF loader doesn't use ImageBitmapLoader\n    //       for Firefox. We will need a workaround for that.\n    parser.textureLoader = new HubsTextureLoader(parser.options.manager);\n  }\n\n  beforeRoot() {\n    const parser = this.parser;\n    const jsonPreprocessor = this.jsonPreprocessor;\n\n    //\n    if (jsonPreprocessor) {\n      parser.json = jsonPreprocessor(parser.json);\n    }\n\n    // Ideally Hubs components stuffs should be handled in MozHubsComponents plugin?\n    let version = 0;\n    if (\n      parser.json.extensions &&\n      parser.json.extensions.MOZ_hubs_components &&\n      Object.prototype.hasOwnProperty.call(parser.json.extensions.MOZ_hubs_components, \"version\")\n    ) {\n      version = parser.json.extensions.MOZ_hubs_components.version;\n    }\n    runMigration(version, parser.json);\n\n    // Note: Here may be rewritten with the one with parser.associations\n    const nodes = parser.json.nodes;\n    if (nodes) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n\n        if (!node.extras) {\n          node.extras = {};\n        }\n\n        node.extras.gltfIndex = i;\n      }\n    }\n  }\n\n  afterRoot(gltf) {\n    gltf.scene.traverse(object => {\n      // GLTFLoader sets matrixAutoUpdate on animated objects, we want to keep the defaults\n      // @TODO: Should this be fixed in the gltf loader?\n      object.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate;\n      convertStandardMaterialsIfNeeded(object);\n    });\n\n    // Replace animation target node name with the node uuid.\n    // I assume track name is 'nodename.property'.\n    if (gltf.animations) {\n      for (const animation of gltf.animations) {\n        for (const track of animation.tracks) {\n          const parsedPath = THREE.PropertyBinding.parseTrackName(track.name);\n          for (const scene of gltf.scenes) {\n            const node = THREE.PropertyBinding.findNode(scene, parsedPath.nodeName);\n            if (node) {\n              track.name = track.name.replace(/^[^.]*\\./, node.uuid + \".\");\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    gltf.scene.animations = gltf.animations;\n  }\n}\n\nclass GLTFHubsComponentsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = \"MOZ_hubs_components\";\n  }\n\n  afterRoot({ scenes, parser }) {\n    const deps = [];\n\n    const resolveComponents = (gltfRootType, obj) => {\n      const idx = parser.associations.get(obj)?.[gltfRootType];\n      if (idx === undefined) return;\n      const ext = parser.json[gltfRootType][idx].extensions?.[this.name];\n      if (!ext) return;\n\n      // TODO putting this into userData is a bit silly, we should just inflate here, but entities need to be inflated first...\n      obj.userData.gltfExtensions = Object.assign(obj.userData.gltfExtensions || {}, {\n        MOZ_hubs_components: ext\n      });\n\n      for (const componentName in ext) {\n        const props = ext[componentName];\n        for (const propName in props) {\n          // These components had a variant before mhc_link_type existed that just directly pointed at the node index, fix them\n          if (\n            ((componentName === \"video-texture-target\" && propName === \"srcNode\") ||\n              (componentName === \"audio-target\" && propName === \"srcNode\")) &&\n            typeof props[propName] === \"number\"\n          ) {\n            console.warn(\n              `Found an outdated ${componentName} 'srcNode' property, fixing. Make sure you are using the latest exporter.`\n            );\n            props[propName] = {\n              __mhc_link_type: \"node\",\n              index: props[propName]\n            };\n          }\n\n          const value = props[propName];\n          const type = value?.__mhc_link_type;\n          if (type && value.index !== undefined) {\n            deps.push(\n              parser.getDependency(type, value.index).then(loadedDep => {\n                // TODO similar to above, this logic being spread out in multiple places is not great...\n                // Node refences are assumed to always be in the scene graph. These referneces are late-resolved in inflateComponents\n                // otherwise they will need to be updated when cloning (which happens as part of caching).\n                if (type === \"node\") return;\n\n                if (type === \"texture\" && !parser.json.textures[value.index].extensions?.MOZ_texture_rgbe) {\n                  // For now assume all non HDR textures linked in hubs components are sRGB.\n                  // We can allow this to be overriden later if needed\n                  loadedDep.encoding = THREE.sRGBEncoding;\n                }\n\n                props[propName] = loadedDep;\n\n                return loadedDep;\n              })\n            );\n          }\n        }\n      }\n    };\n\n    for (let i = 0; i < scenes.length; i++) {\n      // TODO this should be done by GLTLoader\n      parser.associations.set(scenes[i], { scenes: i });\n      scenes[i].traverse(obj => {\n        resolveComponents(\"scenes\", obj);\n        resolveComponents(\"nodes\", obj);\n        mapMaterials(obj, resolveComponents.bind(this, \"materials\"));\n      });\n    }\n\n    return Promise.all(deps);\n  }\n}\n\nclass GLTFHubsLightMapExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = \"MOZ_lightmap\";\n  }\n\n  // @TODO: Ideally we should use extendMaterialParams hook.\n  //        But the current official glTF loader doesn't fire extendMaterialParams\n  //        hook for unlit and specular-glossiness materials.\n  //        So using loadMaterial hook as workaround so far.\n  //        Cons is loadMaterial hook is fired as _invokeOne so\n  //        if other plugins defining loadMaterial is registered\n  //        there is a chance that this light map extension handler isn't called.\n  //        The glTF loader should be updated to remove the limitation.\n  loadMaterial(materialIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const materialDef = json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extensionDef = materialDef.extensions[this.name];\n\n    const pending = [];\n\n    pending.push(parser.loadMaterial(materialIndex));\n    pending.push(parser.getDependency(\"texture\", extensionDef.index));\n\n    return Promise.all(pending).then(results => {\n      const material = results[0];\n      const lightMap = results[1];\n      material.lightMap = lightMap;\n      material.lightMapIntensity = extensionDef.intensity !== undefined ? extensionDef.intensity : 1;\n\n      // See https://github.com/mrdoob/three.js/pull/23613\n      if (material.isMeshBasicMaterial) {\n        material.lightMapIntensity *= Math.PI;\n      }\n\n      return material;\n    });\n  }\n}\n\nclass GLTFHubsTextureBasisExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = \"MOZ_HUBS_texture_basis\";\n    this.basisLoader = null;\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    if (this.basisLoader === null) {\n      this.basisLoader = new BasisTextureLoader(parser.options.manager).detectSupport(AFRAME.scenes[0].renderer);\n    }\n\n    if (!this.basisLoader) {\n      // @TODO: Display warning (only if the extension is in extensionsRequired)?\n      return null;\n    }\n\n    console.warn(`The ${this.name} extension is deprecated, you should use KHR_texture_basisu instead.`);\n\n    const extensionDef = textureDef.extensions[this.name];\n    const source = extensionDef.source;\n\n    return parser.loadTextureImage(textureIndex, source, this.basisLoader);\n  }\n}\n\nclass GLTFMozTextureRGBE {\n  constructor(parser, loader) {\n    this.parser = parser;\n    this.loader = loader;\n    this.name = \"MOZ_texture_rgbe\";\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extensionDef = textureDef.extensions[this.name];\n    const source = extensionDef.source;\n    return parser.loadTextureImage(textureIndex, source, this.loader).then(t => {\n      // TODO pretty severe artifacting when using mipmaps, disable for now\n      if (t.minFilter == THREE.NearestMipmapNearestFilter || t.minFilter == THREE.NearestMipmapLinearFilter) {\n        t.minFilter = THREE.NearestFilter;\n      } else if (t.minFilter == THREE.LinearMipmapNearestFilter || t.minFilter == THREE.LinearMipmapLinearFilter) {\n        t.minFilter = THREE.LinearFilter;\n      }\n      return t;\n    });\n  }\n}\n\nexport async function loadGLTF(src, contentType, onProgress, jsonPreprocessor) {\n  let gltfUrl = src;\n  let fileMap;\n\n  if (contentType && (contentType.includes(\"model/gltf+zip\") || contentType.includes(\"application/x-zip-compressed\"))) {\n    fileMap = await extractZipFile(gltfUrl);\n    gltfUrl = fileMap[\"scene.gtlf\"];\n  }\n\n  const useRangeRequests = qsTruthy(\"rangerequests\");\n  const loadingManager = new THREE.LoadingManager();\n  loadingManager.setURLModifier(getCustomGLTFParserURLResolver(gltfUrl));\n  const gltfLoader = new GLTFLoader(loadingManager);\n  gltfLoader\n    .register(parser => new GLTFHubsComponentsExtension(parser))\n    .register(parser => new GLTFHubsPlugin(parser, jsonPreprocessor))\n    .register(parser => new GLTFHubsLightMapExtension(parser))\n    .register(parser => new GLTFHubsTextureBasisExtension(parser))\n    .register(parser => new GLTFMozTextureRGBE(parser, new RGBELoader().setDataType(THREE.HalfFloatType)))\n    .register(\n      parser =>\n        new GLTFLodExtension(parser, {\n          loadingMode: useRangeRequests ? \"progressive\" : \"all\",\n          onLoadMesh: (lod, mesh, level, lowestLevel) => {\n            // Nothing to do for \"all\" mode\n            if (!useRangeRequests) {\n              return mesh;\n            }\n\n            // Higher levels are progressively loaded on demand.\n            // So some post-loading processings done in gltf-model-plus and media-loader\n            // need to be done here now.\n\n            // Nothing to do if this is the lowest level mesh.\n            if (level === lowestLevel || lod.levels.length === 0) {\n              return mesh;\n            }\n\n            let lowestMeshLevel = null;\n            for (let index = lowestLevel; index > level; index--) {\n              if (lod.levels[index].object.type !== \"Object3D\") {\n                lowestMeshLevel = index;\n                break;\n              }\n            }\n\n            if (lowestMeshLevel === null) {\n              return mesh;\n            }\n\n            // Create a mesh clone. Otherwise if an lod instance is cloned before higher\n            // levels are loaded the lods instance can refer to the same mesh instance,\n            // therefore the lods can be broken because an object can't be placed\n            // at multiple places in a Three.js scene tree.\n            mesh = mesh.clone();\n\n            convertStandardMaterialsIfNeeded(mesh);\n\n            // A hacky solution. media-loader and media-utils make a material clone\n            // and inject shader code chunk for hover effects on before compile hook\n            // as a post-loading process. Here simulates them.\n            // @TODO: Check if this always works. Replace with a better and simpler solution.\n            const currentOnBeforeRender = mesh.material.onBeforeRender;\n            mesh.material = mesh.material.clone();\n            mesh.material.onBeforeRender = currentOnBeforeRender;\n\n            // onBeforeCompile of the material of the lowest level mesh should be\n            // already set up because the lowest level should be loaded first.\n            mesh.material.onBeforeCompile = lod.levels[lowestMeshLevel].object.material.onBeforeCompile;\n\n            return mesh;\n          }\n        })\n    );\n\n  // TODO some models are loaded before the renderer exists. This is likely things like the camera tool and loading cube.\n  // They don't currently use KTX textures but if they did this would be an issue. Fixing this is hard but is part of\n  // \"taking control of the render loop\" which is something we want to tackle for many reasons.\n  if (!ktxLoader && AFRAME && AFRAME.scenes && AFRAME.scenes[0]) {\n    ktxLoader = new KTX2Loader(loadingManager).detectSupport(AFRAME.scenes[0].renderer);\n  }\n  if (!dracoLoader && AFRAME && AFRAME.scenes && AFRAME.scenes[0]) {\n    dracoLoader = new DRACOLoader(loadingManager);\n  }\n\n  if (ktxLoader) {\n    gltfLoader.setKTX2Loader(ktxLoader);\n  }\n  if (dracoLoader) {\n    gltfLoader.setDRACOLoader(dracoLoader);\n  }\n\n  return new Promise((resolve, reject) => {\n    const onLoad = gltf => {\n      const disposables = new Set();\n\n      gltf.scenes.forEach(scene => {\n        scene.traverse(obj => {\n          if (obj.geometry) {\n            disposables.add(obj.geometry);\n          }\n\n          mapMaterials(obj, function (m) {\n            disposables.add(m);\n          });\n\n          const mozHubsComponents = obj.userData.gltfExtensions?.MOZ_hubs_components;\n          if (mozHubsComponents) {\n            for (const name in mozHubsComponents) {\n              const componentData = mozHubsComponents[name];\n              for (const propName in componentData) {\n                const propValue = componentData[propName];\n                if (propValue && (propValue.isTexture || propValue.isGeometry)) {\n                  disposables.add(propValue);\n                }\n              }\n            }\n          }\n        });\n\n        scene.associations = gltf.parser.associations;\n        scene.dispose = function dispose() {\n          disposables.forEach(disposable => {\n            if (disposable.isMaterial) {\n              disposeMaterial(disposable);\n            } else {\n              disposable.dispose();\n            }\n          });\n        };\n      });\n\n      resolve(gltf);\n    };\n    if (useRangeRequests) {\n      GLBRangeRequests.load(gltfUrl, gltfLoader, onLoad, onProgress, reject);\n    } else {\n      gltfLoader.load(gltfUrl, onLoad, onProgress, reject);\n    }\n  }).finally(() => {\n    if (fileMap) {\n      // The GLTF is now cached as a THREE object, we can get rid of the original blobs\n      Object.keys(fileMap).forEach(URL.revokeObjectURL);\n    }\n  });\n}\n\nexport function cloneModelFromCache(src) {\n  if (gltfCache.has(src)) {\n    gltfCache.retain(src);\n    return cloneGltf(gltfCache.get(src).gltf);\n  } else {\n    throw new Error(`Model not in cache: ${src}`);\n  }\n}\n\n/**\n * @param {string} src\n * @param {string|null} [contentType]\n * @param {boolean} [useCache]\n * @param {null|(json:any)=>any} [jsonPreprocessor]\n */\nexport async function loadModel(src, contentType = null, useCache = false, jsonPreprocessor = null) {\n  console.log(`Loading model ${src}`);\n  if (useCache) {\n    if (gltfCache.has(src)) {\n      gltfCache.retain(src);\n      return cloneGltf(gltfCache.get(src).gltf);\n    } else {\n      if (inflightGltfs.has(src)) {\n        const gltf = await inflightGltfs.get(src);\n        gltfCache.retain(src);\n        return cloneGltf(gltf);\n      } else {\n        const promise = loadGLTF(src, contentType, null, jsonPreprocessor);\n        inflightGltfs.set(src, promise);\n        const gltf = await promise;\n        inflightGltfs.delete(src);\n        gltfCache.set(src, gltf);\n        return cloneGltf(gltf);\n      }\n    }\n  } else {\n    return loadGLTF(src, contentType, null, jsonPreprocessor);\n  }\n}\n\nfunction resolveAsset(src) {\n  // If the src attribute is a selector, get the url from the asset item.\n  if (src && src.charAt(0) === \"#\") {\n    const assetEl = document.getElementById(src.substring(1));\n    if (assetEl) {\n      return assetEl.getAttribute(\"src\");\n    }\n  }\n  return src;\n}\n\n/**\n * Loads a GLTF model, optionally recursively \"inflates\" the child nodes of a model into a-entities and sets\n * allowed components on them if defined in the node's extras.\n * @namespace gltf\n * @component gltf-model-plus\n */\nAFRAME.registerComponent(\"gltf-model-plus\", {\n  schema: {\n    src: { type: \"string\" },\n    contentType: { type: \"string\" },\n    useCache: { default: true },\n    inflate: { default: false },\n    modelToWorldScale: { type: \"number\", default: 1 }\n  },\n\n  init() {\n    // This can be set externally if a consumer wants to do some node preprocssing.\n    this.jsonPreprocessor = null;\n\n    this.loadTemplates();\n  },\n\n  play() {\n    this.el.components[\"listed-media\"] && this.el.sceneEl.emit(\"listed_media_changed\");\n  },\n\n  update() {\n    this.applySrc(resolveAsset(this.data.src), this.data.contentType);\n  },\n\n  remove() {\n    if (this.data.useCache) {\n      const src = resolveAsset(this.data.src);\n      if (src) {\n        gltfCache.release(src);\n      }\n    }\n  },\n\n  loadTemplates() {\n    this.templates = {};\n    this.el.querySelectorAll(\":scope > template\").forEach(templateEl => {\n      const root = document.importNode(templateEl.firstElementChild || templateEl.content.firstElementChild, true);\n      this.templates[templateEl.getAttribute(\"data-name\")] = root;\n    });\n  },\n\n  async applySrc(src, contentType) {\n    try {\n      if (src === this.lastSrc) return;\n\n      const lastSrc = this.lastSrc;\n      this.lastSrc = src;\n\n      if (!src) {\n        if (this.inflatedEl) {\n          console.warn(\"gltf-model-plus set to an empty source, unloading inflated model.\");\n          this.disposeLastInflatedEl();\n        }\n        return;\n      }\n\n      this.el.emit(\"model-loading\");\n      const gltf = await loadModel(src, contentType, this.data.useCache, this.jsonPreprocessor);\n\n      // If we started loading something else already\n      // TODO: there should be a way to cancel loading instead\n      if (src != this.lastSrc) return;\n\n      // If we had inflated something already before, clean that up\n      this.disposeLastInflatedEl();\n\n      this.model = gltf.scene;\n\n      if (gltf.animations.length > 0) {\n        this.el.setAttribute(\"animation-mixer\", {});\n        this.el.components[\"animation-mixer\"].initMixer(gltf.animations);\n      } else {\n        generateMeshBVH(this.model);\n      }\n\n      const indexToEntityMap = {};\n\n      let object3DToSet = this.model;\n      if (\n        this.data.inflate &&\n        (this.inflatedEl = inflateEntities(\n          indexToEntityMap,\n          this.model,\n          this.templates,\n          true,\n          this.data.modelToWorldScale\n        ))\n      ) {\n        this.el.appendChild(this.inflatedEl);\n\n        object3DToSet = this.inflatedEl.object3D;\n        object3DToSet.visible = false;\n\n        // TODO: Still don't fully understand the lifecycle here and how it differs between browsers, we should dig in more\n        // Wait one tick for the appended custom elements to be connected before attaching templates\n        await nextTick();\n        if (src != this.lastSrc) return; // TODO: there must be a nicer pattern for this\n\n        await inflateComponents(this.inflatedEl, indexToEntityMap);\n\n        for (const name in this.templates) {\n          attachTemplate(this.el, name, this.templates[name]);\n        }\n      }\n\n      // The call to setObject3D below recursively clobbers any `el` backreferences to entities\n      // in the entire inflated entity graph to point to `object3DToSet`.\n      //\n      // We don't want those overwritten, since lots of code assumes `object3d.el` points to the relevant\n      // A-Frame entity for that three.js object, so we back them up and re-wire them here. If we didn't do\n      // this, all the `el` properties on these object3ds would point to the `object3DToSet` which is either\n      // the model or the root GLTF inflated entity.\n      const rewires = [];\n\n      object3DToSet.traverse(o => {\n        const el = o.el;\n        if (el) rewires.push(() => (o.el = el));\n      });\n\n      if (lastSrc && this.data.useCache) {\n        gltfCache.release(lastSrc);\n      }\n      this.el.setObject3D(\"mesh\", object3DToSet);\n\n      rewires.forEach(f => f());\n\n      object3DToSet.visible = true;\n      this.el.emit(\"model-loaded\", { format: \"gltf\", model: object3DToSet });\n    } catch (e) {\n      gltfCache.release(src);\n      console.error(\"Failed to load glTF model\", e, this);\n      this.el.emit(\"model-error\", { format: \"gltf\", src });\n    }\n  },\n\n  disposeLastInflatedEl() {\n    if (this.inflatedEl) {\n      this.inflatedEl.parentNode.removeChild(this.inflatedEl);\n\n      this.inflatedEl.object3D.traverse(x => {\n        if (x.material && x.material.dispose) {\n          x.material.dispose();\n        }\n\n        if (x.geometry) {\n          if (x.geometry.dispose) {\n            x.geometry.dispose();\n          }\n\n          x.geometry.boundsTree = null;\n        }\n      });\n\n      delete this.inflatedEl;\n\n      this.el.removeAttribute(\"animation-mixer\");\n    }\n  }\n});\n","// Wrapper for a worker which accepts work items and responds with results.\n//\n// The worker must receive messages with data of the shape { id, payload }, and then respond\n// with messages containing matching IDs of the shape { id, result, err }.\n//\n// Returns a function that accepts a work item, sends it to the worker, and returns a promise that\n// will resolve with the result or reject with the error.\n//\nexport function promisifyWorker(worker) {\n  let nextItemId = 0;\n  const outstanding = {}; // item ID: { resolve, reject }\n\n  worker.onmessage = msg => {\n    const { id, result, err } = msg.data;\n    const handlers = outstanding[id];\n    if (handlers == null) {\n      console.error(`Unknown message with ID ${id} received from ${worker}.`);\n    } else {\n      delete outstanding[id];\n      if (err != null) {\n        handlers.reject(new Error(err));\n      } else {\n        handlers.resolve(result);\n      }\n    }\n  };\n\n  return function (data, transfer, args = {}) {\n    const id = nextItemId++;\n    const promise = new Promise((resolve, reject) => {\n      outstanding[id] = { resolve, reject };\n    });\n    worker.postMessage(Object.assign(args, { id, payload: data }), transfer);\n    return promise;\n  };\n}\n","\nimport worker from \"!!../../node_modules/worker-loader/dist/runtime/inline.js\";\n\nexport default function Worker_fn() {\n  return worker(\"!function(){\\\"use strict\\\";var e,t,i=(e=function(e,t){var i=\\\"undefined\\\"!=typeof Uint8Array&&\\\"undefined\\\"!=typeof Uint16Array&&\\\"undefined\\\"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if(\\\"object\\\"!=typeof i)throw new TypeError(i+\\\"must be non-object\\\");for(var a in i)n(i,a)&&(e[a]=i[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),a);else for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,i=e.length;t<i;t++)r=e[t],o.set(r,a),a+=r.length;return o}},r={arraySet:function(e,t,i,n,a){for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},e(t={exports:{}},t.exports),t.exports);i.assign,i.shrinkBuf,i.setTyped,i.Buf8,i.Buf16,i.Buf32;var n=function(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{r=r+(a=a+t[n++]|0)|0}while(--o);a%=65521,r%=65521}return a|r<<16|0},a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}(),r=function(e,t,i,n){var r=a,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e},o=function(e,t){var i,n,a,r,o,s,f,l,d,c,h,u,w,b,p,m,k,_,v,g,y,x,B,E,S;i=e.state,n=e.next_in,E=e.input,a=n+(e.avail_in-5),r=e.next_out,S=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),f=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,h=i.window,u=i.hold,w=i.bits,b=i.lencode,p=i.distcode,m=(1<<i.lenbits)-1,k=(1<<i.distbits)-1;e:do{w<15&&(u+=E[n++]<<w,w+=8,u+=E[n++]<<w,w+=8),_=b[u&m];t:for(;;){if(u>>>=v=_>>>24,w-=v,0==(v=_>>>16&255))S[r++]=65535&_;else{if(!(16&v)){if(0==(64&v)){_=b[(65535&_)+(u&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg=\\\"invalid literal/length code\\\",i.mode=30;break e}g=65535&_,(v&=15)&&(w<v&&(u+=E[n++]<<w,w+=8),g+=u&(1<<v)-1,u>>>=v,w-=v),w<15&&(u+=E[n++]<<w,w+=8,u+=E[n++]<<w,w+=8),_=p[u&k];i:for(;;){if(u>>>=v=_>>>24,w-=v,!(16&(v=_>>>16&255))){if(0==(64&v)){_=p[(65535&_)+(u&(1<<v)-1)];continue i}e.msg=\\\"invalid distance code\\\",i.mode=30;break e}if(y=65535&_,w<(v&=15)&&(u+=E[n++]<<w,(w+=8)<v&&(u+=E[n++]<<w,w+=8)),(y+=u&(1<<v)-1)>f){e.msg=\\\"invalid distance too far back\\\",i.mode=30;break e}if(u>>>=v,w-=v,y>(v=r-o)){if((v=y-v)>d&&i.sane){e.msg=\\\"invalid distance too far back\\\",i.mode=30;break e}if(x=0,B=h,0===c){if(x+=l-v,v<g){g-=v;do{S[r++]=h[x++]}while(--v);x=r-y,B=S}}else if(c<v){if(x+=l+c-v,(v-=c)<g){g-=v;do{S[r++]=h[x++]}while(--v);if(x=0,c<g){g-=v=c;do{S[r++]=h[x++]}while(--v);x=r-y,B=S}}}else if(x+=c-v,v<g){g-=v;do{S[r++]=h[x++]}while(--v);x=r-y,B=S}for(;g>2;)S[r++]=B[x++],S[r++]=B[x++],S[r++]=B[x++],g-=3;g&&(S[r++]=B[x++],g>1&&(S[r++]=B[x++]))}else{x=r-y;do{S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],g-=3}while(g>2);g&&(S[r++]=S[x++],g>1&&(S[r++]=S[x++]))}break}}break}}while(n<a&&r<s);n-=g=w>>3,u&=(1<<(w-=g<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=u,i.bits=w},s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],c=function(e,t,n,a,r,o,c,h){var u,w,b,p,m,k,_,v,g,y=h.bits,x=0,B=0,E=0,S=0,R=0,A=0,Z=0,T=0,O=0,U=0,L=null,C=0,N=new i.Buf16(16),D=new i.Buf16(16),I=null,F=0;for(x=0;x<=15;x++)N[x]=0;for(B=0;B<a;B++)N[t[n+B]]++;for(R=y,S=15;S>=1&&0===N[S];S--);if(R>S&&(R=S),0===S)return r[o++]=20971520,r[o++]=20971520,h.bits=1,0;for(E=1;E<S&&0===N[E];E++);for(R<E&&(R=E),T=1,x=1;x<=15;x++)if(T<<=1,(T-=N[x])<0)return-1;if(T>0&&(0===e||1!==S))return-1;for(D[1]=0,x=1;x<15;x++)D[x+1]=D[x]+N[x];for(B=0;B<a;B++)0!==t[n+B]&&(c[D[t[n+B]]++]=B);if(0===e?(L=I=c,k=19):1===e?(L=s,C-=257,I=f,F-=257,k=256):(L=l,I=d,k=-1),U=0,B=0,x=E,m=o,A=R,Z=0,b=-1,p=(O=1<<R)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){_=x-Z,c[B]<k?(v=0,g=c[B]):c[B]>k?(v=I[F+c[B]],g=L[C+c[B]]):(v=96,g=0),u=1<<x-Z,E=w=1<<A;do{r[m+(U>>Z)+(w-=u)]=_<<24|v<<16|g|0}while(0!==w);for(u=1<<x-1;U&u;)u>>=1;if(0!==u?(U&=u-1,U+=u):U=0,B++,0==--N[x]){if(x===S)break;x=t[n+c[B]]}if(x>R&&(U&p)!==b){for(0===Z&&(Z=R),m+=E,T=1<<(A=x-Z);A+Z<S&&!((T-=N[A+Z])<=0);)A++,T<<=1;if(O+=1<<A,1===e&&O>852||2===e&&O>592)return 1;r[b=U&p]=R<<24|A<<16|m-o|0}}return 0!==U&&(r[m+U]=x-Z<<24|64<<16|0),h.bits=R,0},h=0,u=-2,w=1,b=12,p=30,m=852,k=592;function _(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\\\"\\\",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(m),t.distcode=t.distdyn=new i.Buf32(k),t.sane=1,t.back=-1,h):u}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):u}function x(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,y(e))):u}function B(e,t){var i,n;return e?(n=new v,e.state=n,n.window=null,(i=x(e,t))!==h&&(e.state=null),i):u}var E,S,R=!0;function A(e){if(R){var t;for(E=new i.Buf32(512),S=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,S,0,e.work,{bits:5}),R=!1}e.lencode=E,e.lenbits=9,e.distcode=S,e.distbits=5}function Z(e,t,n,a){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),a>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>a&&(r=a),i.arraySet(o.window,t,n-a,r,o.wnext),(a-=r)?(i.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var T={inflateReset:y,inflateReset2:x,inflateResetKeep:g,inflateInit:function(e){return B(e,15)},inflateInit2:B,inflate:function(e,t){var a,s,f,l,d,m,k,v,g,y,x,B,E,S,R,T,O,U,L,C,N,D,I,F,H=0,z=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(a=e.state).mode===b&&(a.mode=13),d=e.next_out,f=e.output,k=e.avail_out,l=e.next_in,s=e.input,m=e.avail_in,v=a.hold,g=a.bits,y=m,x=k,D=h;e:for(;;)switch(a.mode){case w:if(0===a.wrap){a.mode=13;break}for(;g<16;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(2&a.wrap&&35615===v){a.check=0,z[0]=255&v,z[1]=v>>>8&255,a.check=r(a.check,z,2,0),v=0,g=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg=\\\"incorrect header check\\\",a.mode=p;break}if(8!=(15&v)){e.msg=\\\"unknown compression method\\\",a.mode=p;break}if(g-=4,N=8+(15&(v>>>=4)),0===a.wbits)a.wbits=N;else if(N>a.wbits){e.msg=\\\"invalid window size\\\",a.mode=p;break}a.dmax=1<<N,e.adler=a.check=1,a.mode=512&v?10:b,v=0,g=0;break;case 2:for(;g<16;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(a.flags=v,8!=(255&a.flags)){e.msg=\\\"unknown compression method\\\",a.mode=p;break}if(57344&a.flags){e.msg=\\\"unknown header flags set\\\",a.mode=p;break}a.head&&(a.head.text=v>>8&1),512&a.flags&&(z[0]=255&v,z[1]=v>>>8&255,a.check=r(a.check,z,2,0)),v=0,g=0,a.mode=3;case 3:for(;g<32;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.head&&(a.head.time=v),512&a.flags&&(z[0]=255&v,z[1]=v>>>8&255,z[2]=v>>>16&255,z[3]=v>>>24&255,a.check=r(a.check,z,4,0)),v=0,g=0,a.mode=4;case 4:for(;g<16;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.head&&(a.head.xflags=255&v,a.head.os=v>>8),512&a.flags&&(z[0]=255&v,z[1]=v>>>8&255,a.check=r(a.check,z,2,0)),v=0,g=0,a.mode=5;case 5:if(1024&a.flags){for(;g<16;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.length=v,a.head&&(a.head.extra_len=v),512&a.flags&&(z[0]=255&v,z[1]=v>>>8&255,a.check=r(a.check,z,2,0)),v=0,g=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((B=a.length)>m&&(B=m),B&&(a.head&&(N=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,s,l,B,N)),512&a.flags&&(a.check=r(a.check,s,B,l)),m-=B,l+=B,a.length-=B),a.length))break e;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===m)break e;B=0;do{N=s[l+B++],a.head&&N&&a.length<65536&&(a.head.name+=String.fromCharCode(N))}while(N&&B<m);if(512&a.flags&&(a.check=r(a.check,s,B,l)),m-=B,l+=B,N)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===m)break e;B=0;do{N=s[l+B++],a.head&&N&&a.length<65536&&(a.head.comment+=String.fromCharCode(N))}while(N&&B<m);if(512&a.flags&&(a.check=r(a.check,s,B,l)),m-=B,l+=B,N)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;g<16;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(v!==(65535&a.check)){e.msg=\\\"header crc mismatch\\\",a.mode=p;break}v=0,g=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=b;break;case 10:for(;g<32;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}e.adler=a.check=_(v),v=0,g=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=d,e.avail_out=k,e.next_in=l,e.avail_in=m,a.hold=v,a.bits=g,2;e.adler=a.check=1,a.mode=b;case b:if(5===t||6===t)break e;case 13:if(a.last){v>>>=7&g,g-=7&g,a.mode=27;break}for(;g<3;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}switch(a.last=1&v,g-=1,3&(v>>>=1)){case 0:a.mode=14;break;case 1:if(A(a),a.mode=20,6===t){v>>>=2,g-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg=\\\"invalid block type\\\",a.mode=p}v>>>=2,g-=2;break;case 14:for(v>>>=7&g,g-=7&g;g<32;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if((65535&v)!=(v>>>16^65535)){e.msg=\\\"invalid stored block lengths\\\",a.mode=p;break}if(a.length=65535&v,v=0,g=0,a.mode=15,6===t)break e;case 15:a.mode=16;case 16:if(B=a.length){if(B>m&&(B=m),B>k&&(B=k),0===B)break e;i.arraySet(f,s,l,B,d),m-=B,l+=B,k-=B,d+=B,a.length-=B;break}a.mode=b;break;case 17:for(;g<14;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(a.nlen=257+(31&v),v>>>=5,g-=5,a.ndist=1+(31&v),v>>>=5,g-=5,a.ncode=4+(15&v),v>>>=4,g-=4,a.nlen>286||a.ndist>30){e.msg=\\\"too many length or distance symbols\\\",a.mode=p;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;g<3;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.lens[j[a.have++]]=7&v,v>>>=3,g-=3}for(;a.have<19;)a.lens[j[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,I={bits:a.lenbits},D=c(0,a.lens,0,19,a.lencode,0,a.work,I),a.lenbits=I.bits,D){e.msg=\\\"invalid code lengths set\\\",a.mode=p;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;T=(H=a.lencode[v&(1<<a.lenbits)-1])>>>16&255,O=65535&H,!((R=H>>>24)<=g);){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(O<16)v>>>=R,g-=R,a.lens[a.have++]=O;else{if(16===O){for(F=R+2;g<F;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(v>>>=R,g-=R,0===a.have){e.msg=\\\"invalid bit length repeat\\\",a.mode=p;break}N=a.lens[a.have-1],B=3+(3&v),v>>>=2,g-=2}else if(17===O){for(F=R+3;g<F;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}g-=R,N=0,B=3+(7&(v>>>=R)),v>>>=3,g-=3}else{for(F=R+7;g<F;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}g-=R,N=0,B=11+(127&(v>>>=R)),v>>>=7,g-=7}if(a.have+B>a.nlen+a.ndist){e.msg=\\\"invalid bit length repeat\\\",a.mode=p;break}for(;B--;)a.lens[a.have++]=N}}if(a.mode===p)break;if(0===a.lens[256]){e.msg=\\\"invalid code -- missing end-of-block\\\",a.mode=p;break}if(a.lenbits=9,I={bits:a.lenbits},D=c(1,a.lens,0,a.nlen,a.lencode,0,a.work,I),a.lenbits=I.bits,D){e.msg=\\\"invalid literal/lengths set\\\",a.mode=p;break}if(a.distbits=6,a.distcode=a.distdyn,I={bits:a.distbits},D=c(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,I),a.distbits=I.bits,D){e.msg=\\\"invalid distances set\\\",a.mode=p;break}if(a.mode=20,6===t)break e;case 20:a.mode=21;case 21:if(m>=6&&k>=258){e.next_out=d,e.avail_out=k,e.next_in=l,e.avail_in=m,a.hold=v,a.bits=g,o(e,x),d=e.next_out,f=e.output,k=e.avail_out,l=e.next_in,s=e.input,m=e.avail_in,v=a.hold,g=a.bits,a.mode===b&&(a.back=-1);break}for(a.back=0;T=(H=a.lencode[v&(1<<a.lenbits)-1])>>>16&255,O=65535&H,!((R=H>>>24)<=g);){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(T&&0==(240&T)){for(U=R,L=T,C=O;T=(H=a.lencode[C+((v&(1<<U+L)-1)>>U)])>>>16&255,O=65535&H,!(U+(R=H>>>24)<=g);){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}v>>>=U,g-=U,a.back+=U}if(v>>>=R,g-=R,a.back+=R,a.length=O,0===T){a.mode=26;break}if(32&T){a.back=-1,a.mode=b;break}if(64&T){e.msg=\\\"invalid literal/length code\\\",a.mode=p;break}a.extra=15&T,a.mode=22;case 22:if(a.extra){for(F=a.extra;g<F;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.length+=v&(1<<a.extra)-1,v>>>=a.extra,g-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;T=(H=a.distcode[v&(1<<a.distbits)-1])>>>16&255,O=65535&H,!((R=H>>>24)<=g);){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(0==(240&T)){for(U=R,L=T,C=O;T=(H=a.distcode[C+((v&(1<<U+L)-1)>>U)])>>>16&255,O=65535&H,!(U+(R=H>>>24)<=g);){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}v>>>=U,g-=U,a.back+=U}if(v>>>=R,g-=R,a.back+=R,64&T){e.msg=\\\"invalid distance code\\\",a.mode=p;break}a.offset=O,a.extra=15&T,a.mode=24;case 24:if(a.extra){for(F=a.extra;g<F;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}a.offset+=v&(1<<a.extra)-1,v>>>=a.extra,g-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg=\\\"invalid distance too far back\\\",a.mode=p;break}a.mode=25;case 25:if(0===k)break e;if(B=x-k,a.offset>B){if((B=a.offset-B)>a.whave&&a.sane){e.msg=\\\"invalid distance too far back\\\",a.mode=p;break}B>a.wnext?(B-=a.wnext,E=a.wsize-B):E=a.wnext-B,B>a.length&&(B=a.length),S=a.window}else S=f,E=d-a.offset,B=a.length;B>k&&(B=k),k-=B,a.length-=B;do{f[d++]=S[E++]}while(--B);0===a.length&&(a.mode=21);break;case 26:if(0===k)break e;f[d++]=a.length,k--,a.mode=21;break;case 27:if(a.wrap){for(;g<32;){if(0===m)break e;m--,v|=s[l++]<<g,g+=8}if(x-=k,e.total_out+=x,a.total+=x,x&&(e.adler=a.check=a.flags?r(a.check,f,x,d-x):n(a.check,f,x,d-x)),x=k,(a.flags?v:_(v))!==a.check){e.msg=\\\"incorrect data check\\\",a.mode=p;break}v=0,g=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;g<32;){if(0===m)break e;m--,v+=s[l++]<<g,g+=8}if(v!==(4294967295&a.total)){e.msg=\\\"incorrect length check\\\",a.mode=p;break}v=0,g=0}a.mode=29;case 29:D=1;break e;case p:D=-3;break e;case 31:return-4;default:return u}return e.next_out=d,e.avail_out=k,e.next_in=l,e.avail_in=m,a.hold=v,a.bits=g,(a.wsize||x!==e.avail_out&&a.mode<p&&(a.mode<27||4!==t))&&Z(e,e.output,e.next_out,x-e.avail_out)?(a.mode=31,-4):(y-=e.avail_in,x-=e.avail_out,e.total_in+=y,e.total_out+=x,a.total+=x,a.wrap&&x&&(e.adler=a.check=a.flags?r(a.check,f,x,e.next_out-x):n(a.check,f,x,e.next_out-x)),e.data_type=a.bits+(a.last?64:0)+(a.mode===b?128:0)+(20===a.mode||15===a.mode?256:0),(0===y&&0===x||4===t)&&D===h&&(D=-5),D)},inflateEnd:function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,h},inflateGetHeader:function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?u:(i.head=t,t.done=!1,h):u},inflateSetDictionary:function(e,t){var i,a=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?u:11===i.mode&&n(1,t,a,0)!==i.check?-3:Z(e,t,a,a)?(i.mode=31,-4):(i.havedict=1,h):u},inflateInfo:\\\"pako inflate (from Nodeca project)\\\"},O=!0,U=!0;try{String.fromCharCode.apply(null,[0])}catch(e){O=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){U=!1}for(var L=new i.Buf8(256),C=0;C<256;C++)L[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;L[254]=L[254]=1;var N=function(e){var t,n,a,r,o,s=e.length,f=0;for(r=0;r<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(a-56320),r++),f+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(f),o=0,r=0;o<f;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(a-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},D=function(e,t){var n,a,r,o,s=t||e.length,f=new Array(2*s);for(a=0,n=0;n<s;)if((r=e[n++])<128)f[a++]=r;else if((o=L[r])>4)f[a++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?f[a++]=65533:r<65536?f[a++]=r:(r-=65536,f[a++]=55296|r>>10&1023,f[a++]=56320|1023&r)}return function(e,t){if(t<65537&&(e.subarray&&U||!e.subarray&&O))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n=\\\"\\\",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}(f,a)},I=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+L[e[i]]>t?i:t},F={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},H={2:\\\"need dictionary\\\",1:\\\"stream end\\\",0:\\\"\\\",\\\"-1\\\":\\\"file error\\\",\\\"-2\\\":\\\"stream error\\\",\\\"-3\\\":\\\"data error\\\",\\\"-4\\\":\\\"insufficient memory\\\",\\\"-5\\\":\\\"buffer error\\\",\\\"-6\\\":\\\"incompatible version\\\"},z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\\\"\\\",this.state=null,this.data_type=2,this.adler=0},j=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\\\"\\\",this.comment=\\\"\\\",this.hcrc=0,this.done=!1},M=Object.prototype.toString;function K(e){if(!(this instanceof K))return new K(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:\\\"\\\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\\\"\\\",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var n=T.inflateInit2(this.strm,t.windowBits);if(n!==F.Z_OK)throw new Error(H[n]);this.header=new j,T.inflateGetHeader(this.strm,this.header)}function P(e,t){var i=new K(t);if(i.push(e,!0),i.err)throw i.msg||H[i.err];return i.result}K.prototype.push=function(e,t){var n,a,r,o,s,f,l=this.strm,d=this.options.chunkSize,c=this.options.dictionary,h=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?F.Z_FINISH:F.Z_NO_FLUSH,\\\"string\\\"==typeof e?l.input=function(e){for(var t=new i.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t}(e):\\\"[object ArrayBuffer]\\\"===M.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),(n=T.inflate(l,F.Z_NO_FLUSH))===F.Z_NEED_DICT&&c&&(f=\\\"string\\\"==typeof c?N(c):\\\"[object ArrayBuffer]\\\"===M.call(c)?new Uint8Array(c):c,n=T.inflateSetDictionary(this.strm,f)),n===F.Z_BUF_ERROR&&!0===h&&(n=F.Z_OK,h=!1),n!==F.Z_STREAM_END&&n!==F.Z_OK)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&n!==F.Z_STREAM_END&&(0!==l.avail_in||a!==F.Z_FINISH&&a!==F.Z_SYNC_FLUSH)||(\\\"string\\\"===this.options.to?(r=I(l.output,l.next_out),o=l.next_out-r,s=D(l.output,r),l.next_out=o,l.avail_out=d-o,o&&i.arraySet(l.output,l.output,r,o,0),this.onData(s)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(h=!0)}while((l.avail_in>0||0===l.avail_out)&&n!==F.Z_STREAM_END);return n===F.Z_STREAM_END&&(a=F.Z_FINISH),a===F.Z_FINISH?(n=T.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===F.Z_OK):a!==F.Z_SYNC_FLUSH||(this.onEnd(F.Z_OK),l.avail_out=0,!0)},K.prototype.onData=function(e){this.chunks.push(e)},K.prototype.onEnd=function(e){e===F.Z_OK&&(\\\"string\\\"===this.options.to?this.result=this.chunks.join(\\\"\\\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var J={Inflate:K,inflate:P,inflateRaw:function(e,t){return(t=t||{}).raw=!0,P(e,t)},ungzip:P},Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,e),this.dataView=new DataView(t),this.position=0}return e.prototype.skip=function(e){this.position+=e},e.prototype.readBytes=function(e){var t=4===e?\\\"getUint32\\\":2===e?\\\"getUint16\\\":\\\"getUint8\\\",i=this.position;return this.position+=e,this.dataView[t](i,!0)},e}(),G=function(e){for(var t=new Y(e),i={};;){var n=t.readBytes(4);if(67324752!==n){if(33639248!==n)break;V(t)}else{var a=$(t);i[a.name]={buffer:a.buffer}}}return i},$=function(e){var t=0,i=void 0;e.skip(4);var n=e.readBytes(2);e.skip(8);var a=e.readBytes(4);e.skip(4);var r=e.readBytes(2),o=e.readBytes(2),s=[],f=new Uint8Array(a);for(t=0;t<r;t++)s.push(String.fromCharCode(e.readBytes(1)));for(e.skip(o),t=0;t<a;t++)f[t]=e.readBytes(1);switch(n){case 0:i=f;break;case 8:i=new Uint8Array(J.inflate(f,{raw:!0}));break;default:console.log(s.join(\\\"\\\")+\\\": unsupported compression type\\\"),i=f}return{name:s.join(\\\"\\\"),buffer:i}},V=function(e){e.skip(24);var t=e.readBytes(2),i=e.readBytes(2),n=e.readBytes(2);e.skip(12),e.skip(t),e.skip(i),e.skip(n)},X=\\\"function\\\"==typeof Promise?Promise:function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,e);var i=function(){};return t((function(){i()})),{then:function(e){i=e}}},q=0,W=void 0,Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,e),this._id=q,this._listeners={},this.url=t,this.files=null,q++}return e.unzip=function(t){return new X((function(i){var n=new e,a=new FileReader;a.onload=function(e){var t=e.target.result;n.files=G(t),i(n)},t instanceof Blob&&a.readAsArrayBuffer(t)}))},e.prototype.load=function(){var e=this;return new X((function(t){var i=Date.now(),n=new XMLHttpRequest;n.open(\\\"GET\\\",e.url,!0),n.responseType=\\\"arraybuffer\\\",n.onprogress=function(t){e.dispatch({type:\\\"progress\\\",loaded:t.loaded,total:t.total,elapsedTime:Date.now()-i})},n.onload=function(){e.files=G(n.response),e.dispatch({type:\\\"load\\\",elapsedTime:Date.now()-i}),t()},n.send()}))},e.prototype.extractAsBlobUrl=function(e,t){if(this.files[e].url)return this.files[e].url;var i=new Blob([this.files[e].buffer],{type:t});return this.files[e].url=URL.createObjectURL(i),this.files[e].url},e.prototype.extractAsText=function(e){var t=this.files[e].buffer;if(\\\"undefined\\\"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var i=\\\"\\\",n=0,a=t.length;n<a;n++)i+=String.fromCharCode(t[n]);return decodeURIComponent(escape(i))},e.prototype.extractAsJSON=function(e){return JSON.parse(this.extractAsText(e))},e.prototype.loadThreeJSON=function(e){var t=this,i=this.extractAsJSON(e),n=e.replace(/\\\\/.+\\\\.json$/,\\\"/\\\"),a=\\\"__ziploader_\\\"+this._id+\\\"__\\\",r=new RegExp(a);return-1!==!W.Loader.Handlers.handlers.indexOf(r)&&W.Loader.Handlers.add(r,{load:function(e){return t.loadThreeTexture(e.replace(r,\\\"\\\"))}}),W.JSONLoader.prototype.parse(i,a+n)},e.prototype.loadThreeTexture=function(e){var t=new W.Texture,i=/\\\\.jpg$/.test(e)?\\\"image/jpeg\\\":/\\\\.png$/.test(e)?\\\"image/png\\\":/\\\\.gif$/.test(e)?\\\"image/gif\\\":void 0,n=new Blob([this.files[e].buffer],{type:i});return t.image=new Image,t.image.addEventListener(\\\"load\\\",(function e(){t.needsUpdate=!0,t.image.removeEventListener(\\\"load\\\",e),URL.revokeObjectURL(t.image.src)})),t.image.src=URL.createObjectURL(n),t},e.prototype.on=function(e,t){this._listeners[e]||(this._listeners[e]=[]),-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t)},e.prototype.off=function(e,t){var i=this._listeners[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},e.prototype.dispatch=function(e){var t=this._listeners[e.type];if(t){e.target=this;for(var i=t.length,n=0;n<i;n++)t[n].call(this,e)}},e.prototype.clear=function(e){if(e)return URL.revokeObjectURL(this.files[e].url),void delete this.files[e];for(var t in this.files)URL.revokeObjectURL(this.files[t].url);if(delete this.files,W){var i=\\\"__ziploader_\\\"+this._id+\\\"__\\\";W.Loader.Handlers.handlers.some((function(e,t){if(e instanceof RegExp&&e.source===i)return W.Loader.Handlers.handlers.splice(t,2),!0}))}},e.install=function(e){e.THREE&&(W=e.THREE)},e}();function ee(e,t,i,n,a,r,o){try{var s=e[r](o),f=s.value}catch(e){return void i(e)}s.done?t(f):Promise.resolve(f).then(n,a)}function te(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var r=e.apply(t,i);function o(e){ee(r,n,a,o,s,\\\"next\\\",e)}function s(e){ee(r,n,a,o,s,\\\"throw\\\",e)}o(void 0)}))}}function ie(){return(ie=te((function*(e){const t=new Q(e);return t.load().then((()=>{const e={},i=i=>(e[i]=e[i]||t.extractAsBlobUrl(i),e[i]),n=JSON.parse(t.extractAsText(\\\"scene.gltf\\\"));return n.buffers&&n.buffers.forEach((e=>e.uri=i(e.uri))),n.images&&n.images.forEach((e=>e.uri=i(e.uri))),e[\\\"scene.gtlf\\\"]=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:\\\"text/plain\\\"})),e}))}))).apply(this,arguments)}self.onmessage=function(){var e=te((function*(e){try{const t=yield function(e){return ie.apply(this,arguments)}(e.data.payload);self.postMessage({id:e.data.id,result:t})}catch(t){self.postMessage({id:e.data.id,err:t.message})}}));return function(t){return e.apply(this,arguments)}}()}();\\n\", \"Worker\", undefined, undefined);\n}\n","export default function nextTick() {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0);\n  });\n}\n","import { fetchReticulumAuthenticated } from \"./phoenix-utils\";\nimport { proxiedUrlFor } from \"./media-url-utils\";\nimport avatarUnavailableImage from \"../assets/images/avatar_unavailable.png\";\n\nconst AVATARS_API = \"/api/v1/avatars\";\n\nexport const AVATAR_TYPES = {\n  SKINNABLE: \"skinnable\",\n  URL: \"url\"\n};\n\nexport function getAvatarType(avatarId) {\n  if (avatarId.startsWith(\"http\")) return AVATAR_TYPES.URL;\n  return AVATAR_TYPES.SKINNABLE;\n}\n\nasync function fetchSkinnableAvatar(avatarId) {\n  const resp = await fetchReticulumAuthenticated(`/api/v1/avatars/${avatarId}`);\n  return resp && resp.avatars && resp.avatars[0];\n}\n\nexport async function fetchAvatar(avatarId) {\n  switch (getAvatarType(avatarId)) {\n    case AVATAR_TYPES.SKINNABLE:\n      return fetchSkinnableAvatar(avatarId);\n    case AVATAR_TYPES.URL:\n      return {\n        avatar_id: avatarId,\n        gltf_url: proxiedUrlFor(avatarId)\n      };\n  }\n}\n\nasync function fetchAvatarGltfUrl(avatarId) {\n  return fetchAvatar(avatarId).then(avatar => avatar && avatar.gltf_url);\n}\n\nexport function getAvatarSrc(avatarId) {\n  switch (getAvatarType(avatarId)) {\n    case AVATAR_TYPES.SKINNABLE:\n      return fetchAvatarGltfUrl(avatarId);\n    case AVATAR_TYPES.URL:\n      return proxiedUrlFor(avatarId);\n    default:\n      return avatarId;\n  }\n}\n\nexport async function getAvatarThumbnailUrl(avatarId) {\n  switch (getAvatarType(avatarId)) {\n    case AVATAR_TYPES.SKINNABLE:\n      return fetchAvatar(avatarId).then(avatar => avatar.files.thumbnail);\n    default:\n      return avatarUnavailableImage;\n  }\n}\n\n// Currently the way we do material overrides is with a special named material.\n// We want to migrate eventually to having a GLTF extension that specifies what\n// materials can be overridden, but in the meantime we want to be able to support\n// arbitrary models with some sort of functionality. This provides a fallback\nexport const MAT_NAME = \"Bot_PBS\";\nexport function ensureAvatarMaterial(gltf) {\n  if (gltf.materials.find(m => m.name === MAT_NAME)) return gltf;\n\n  function materialForMesh(mesh) {\n    if (!mesh.primitives) return;\n    const primitive = mesh.primitives.find(p => p.material !== undefined);\n    return primitive && gltf.materials[primitive.material];\n  }\n\n  let nodes = gltf.scenes[gltf.scene].nodes.slice(0);\n  while (nodes.length) {\n    const node = gltf.nodes[nodes.shift()];\n    const material = node.mesh !== undefined && materialForMesh(gltf.meshes[node.mesh]);\n    if (material) {\n      material.name = MAT_NAME;\n      break;\n    }\n    if (node.children) nodes = nodes.concat(node.children);\n  }\n\n  return gltf;\n}\n\nexport async function remixAvatar(parentId, name) {\n  const avatar = {\n    parent_avatar_listing_id: parentId,\n    name: name,\n    files: {}\n  };\n\n  return fetchReticulumAuthenticated(AVATARS_API, \"POST\", { avatar });\n}\n","export const createImageBitmap =\n  window.createImageBitmap ||\n  async function (data) {\n    return new Promise(resolve => {\n      // https://dev.to/nektro/createimagebitmap-polyfill-for-safari-and-edge-228\n      // https://gist.github.com/MonsieurV/fb640c29084c171b4444184858a91bc7\n\n      let srcUrl;\n      if (data instanceof Blob) {\n        srcUrl = URL.createObjectURL(data);\n      } else {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = data.width;\n        canvas.height = data.height;\n        ctx.putImageData(data, 0, 0);\n        srcUrl = canvas.toDataURL();\n      }\n      const img = document.createElement(\"img\");\n\n      img.addEventListener(\"load\", () => resolve(img));\n\n      img.src = srcUrl;\n    });\n  };\n\nexport function disposeImageBitmap(imageBitmap) {\n  if (imageBitmap instanceof HTMLImageElement && imageBitmap.src.startsWith(\"blob:\")) {\n    URL.revokeObjectURL(imageBitmap.src);\n  } else {\n    imageBitmap.close && imageBitmap.close();\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"preview\":\"avatar-preview__preview__Exp7B\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { injectIntl, FormattedMessage } from \"react-intl\";\nimport { onThemeChanged, getThemeColor } from \"../utils/theme\";\nimport classNames from \"classnames\";\n\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n\nimport { createDefaultEnvironmentMap } from \"../components/environment-map\";\nimport { loadGLTF } from \"../components/gltf-model-plus\";\nimport { disposeNode, findNode } from \"../utils/three-utils\";\nimport { ensureAvatarMaterial, MAT_NAME } from \"../utils/avatar-utils\";\nimport { createImageBitmap, disposeImageBitmap } from \"../utils/image-bitmap-utils\";\nimport { proxiedUrlFor } from \"../utils/media-url-utils\";\nimport styles from \"../assets/stylesheets/avatar-preview.scss\";\n\nimport warningIconUrl from \"../assets/images/warning_icon.png\";\nimport warningIcon2xUrl from \"../assets/images/warning_icon@2x.png\";\n\nconst TEXTURE_PROPS = {\n  base_map: [\"map\"],\n  emissive_map: [\"emissiveMap\"],\n  normal_map: [\"normalMap\"],\n  orm_map: [\"aoMap\", \"roughnessMap\", \"metalnessMap\"]\n};\n\nconst ALL_MAPS = Object.keys(TEXTURE_PROPS);\n\n// This should match our aframe renderer=\"antialias: true; colorManagement: true; sortObjects: true;\n// physicallyCorrectLights: true; webgl2: true; multiview: false;\"\nfunction createRenderer(canvas, alpha = false, useDevicePixelRatio = true) {\n  const context = canvas.getContext(\"webgl2\", {\n    alpha,\n    depth: true,\n    antialias: true,\n    premultipliedAlpha: true,\n    preserveDrawingBuffer: false,\n    powerPreference: \"default\"\n  });\n\n  const renderer = new THREE.WebGLRenderer({ alpha, canvas, context, forceWebVR: true });\n  renderer.outputEncoding = THREE.sRGBEncoding;\n  renderer.physicallyCorrectLights = true;\n  if (useDevicePixelRatio) {\n    renderer.setPixelRatio(window.devicePixelRatio);\n  }\n  return renderer;\n}\n\nconst createImageBitmapFromURL = url =>\n  fetch(url)\n    .then(r => r.blob())\n    .then(createImageBitmap);\n\nconst ORBIT_ANGLE = new THREE.Euler(-30 * THREE.MathUtils.DEG2RAD, 30 * THREE.MathUtils.DEG2RAD, 0);\nconst DEFAULT_MARGIN = 1;\n\nfunction fitBoxInFrustum(camera, box, center, margin = DEFAULT_MARGIN) {\n  const halfYExtents = Math.max(box.max.y - center.y, center.y - box.min.y);\n  const halfVertFOV = THREE.MathUtils.degToRad(camera.fov / 2);\n  camera.position.set(0, 0, (halfYExtents / Math.tan(halfVertFOV) + box.max.z) * margin);\n  camera.position.applyEuler(ORBIT_ANGLE);\n  camera.position.add(center);\n  camera.lookAt(center);\n}\n\nfunction getThemeBackground() {\n  return new THREE.Color(getThemeColor(\"background3-color\") || 0xeaeaea);\n}\n\nclass AvatarPreview extends Component {\n  static propTypes = {\n    avatarGltfUrl: PropTypes.string,\n    className: PropTypes.string,\n    onGltfLoaded: PropTypes.func\n  };\n  constructor(props) {\n    super(props);\n    this.state = { loading: true, error: null };\n    this.avatar = null;\n    this.imageBitmaps = {};\n    this.mounted = false;\n  }\n\n  componentDidMount = () => {\n    this.scene = new THREE.Scene();\n\n    this.camera = new THREE.PerspectiveCamera(55, this.canvas.clientWidth / this.canvas.clientHeight, 0.1, 1000);\n    this.controls = new OrbitControls(this.camera, this.canvas);\n    this.controls.screenSpacePanning = true;\n    this.controls.enableKeys = true;\n\n    const light = new THREE.DirectionalLight(0xf7f6ef, 1);\n    light.position.set(0, 10, 10);\n    this.scene.add(light);\n    this.scene.add(new THREE.HemisphereLight(0xb1e3ff, 0xb1e3ff, 2.5));\n\n    this.loadId = 0;\n\n    this.camera.position.set(-0.2, 0.5, 0.5);\n    this.camera.matrixAutoUpdate = true;\n\n    this.controls.target.set(0, 0.45, 0);\n    this.controls.update();\n\n    if (this.props.avatarGltfUrl) {\n      this.loadCurrentAvatarGltfUrl();\n    }\n\n    const clock = new THREE.Clock();\n\n    this.snapshotCanvas = document.createElement(\"canvas\");\n    this.snapshotCanvas.width = 720;\n    this.snapshotCanvas.height = 1280;\n    this.snapshotCamera = new THREE.PerspectiveCamera(55, 720 / 1280, 0.1, 1000);\n    this.snapshotCamera.matrixAutoUpdate = true;\n    this.snapshotRenderer = createRenderer(this.snapshotCanvas, true, false);\n    this.snapshotRenderer.setClearAlpha(0);\n\n    this.previewRenderer = createRenderer(this.canvas);\n    this.previewRenderer.setClearColor(getThemeBackground());\n    this.previewRenderer.setAnimationLoop(() => {\n      const dt = clock.getDelta();\n      this.mixer && this.mixer.update(dt);\n      this.previewRenderer.render(this.scene, this.camera);\n    });\n    this.removeThemeChangedListener = onThemeChanged(() => this.previewRenderer.setClearColor(getThemeBackground()));\n    window.addEventListener(\"resize\", this.resize);\n    this.resize();\n\n    this.mounted = true;\n  };\n\n  resize = () => {\n    const width = this.canvas.parentElement.offsetWidth;\n    const height = this.canvas.parentElement.offsetHeight;\n    this.previewRenderer.setSize(width, height);\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  };\n\n  setAvatar = avatar => {\n    if (!avatar) return;\n    this.avatar = avatar;\n    this.scene.add(avatar);\n    this.resetCamera();\n    this.setState({ error: null, loading: false });\n  };\n\n  resetCamera = (() => {\n    const box = new THREE.Box3();\n    const center = new THREE.Vector3();\n    return () => {\n      box.setFromObject(this.avatar);\n      box.getCenter(center);\n\n      // Shift the center vertically in order to frame the avatar nicely.\n      center.y = (box.max.y - box.min.y) * 0.6 + box.min.y;\n\n      fitBoxInFrustum(this.camera, box, center);\n      fitBoxInFrustum(this.snapshotCamera, box, center, 0.7);\n\n      this.controls.target.copy(center);\n      this.controls.update();\n    };\n  })();\n\n  componentWillUnmount = () => {\n    this.mounted = false;\n\n    // Gotta be particularly careful about disposing things here since we will likely create many avatar\n    // previews during a session and Chrome will eventually discard the oldest webgl context if we leak\n    // contexts by holding on to them directly or indirectly.\n\n    this.scene && this.scene.traverse(disposeNode);\n    if (this.previewRenderer) {\n      this.previewRenderer.dispose();\n    }\n    if (this.snapshotRenderer) {\n      this.snapshotRenderer.dispose();\n    }\n    if (this.controls) {\n      this.controls.dispose();\n      this.controls.domElement = null;\n    }\n\n    Object.values(this.imageBitmaps).forEach(img => disposeImageBitmap(img));\n    window.removeEventListener(\"resize\", this.resize);\n    this.removeThemeChangedListener();\n  };\n\n  componentDidUpdate = async oldProps => {\n    if (oldProps.avatarGltfUrl !== this.props.avatarGltfUrl) {\n      if (this.avatar) {\n        this.scene.remove(this.avatar);\n        this.avatar = null;\n      }\n      if (this.props.avatarGltfUrl) {\n        this.setState({ error: null, loading: true });\n        await this.loadCurrentAvatarGltfUrl();\n      }\n    }\n    this.applyMaps(oldProps, this.props);\n  };\n\n  async loadCurrentAvatarGltfUrl() {\n    const newLoadId = ++this.loadId;\n    const url = proxiedUrlFor(this.props.avatarGltfUrl);\n    const gltf = await this.loadPreviewAvatar(url);\n    // If we had started loading another avatar while we were loading this one, throw this one away\n    if (!this.mounted || newLoadId !== this.loadId) return;\n    if (gltf && this.props.onGltfLoaded) this.props.onGltfLoaded(gltf);\n    this.setAvatar(gltf.scene);\n  }\n\n  applyMaps(oldProps, newProps) {\n    return Promise.all(\n      ALL_MAPS.map(mapName => {\n        const applyMap = this.applyMapToPreview.bind(this, mapName);\n        if (oldProps[mapName] != newProps[mapName]) {\n          if (newProps[mapName] instanceof File) {\n            return createImageBitmap(newProps[mapName]).then(applyMap);\n          } else if (newProps[mapName]) {\n            return createImageBitmapFromURL(newProps[mapName]).then(applyMap);\n          } else {\n            return this.revertMap(mapName);\n          }\n        }\n      })\n    );\n  }\n\n  loadPreviewAvatar = async avatarGltfUrl => {\n    let gltf;\n    try {\n      gltf = await loadGLTF(avatarGltfUrl, \"model/gltf\", null, ensureAvatarMaterial);\n    } catch (e) {\n      console.error(\"Failed to load avatar preview\", e);\n      this.setState({ loading: false, error: true });\n      return;\n    }\n\n    if (!this.mounted) return;\n\n    // TODO Check for \"Bot_Skinned\" here is a hack for legacy avatars which only has a name one of the MOZ_alt_material nodes\n    this.previewMesh = findNode(\n      gltf.scene,\n      n => (n.isMesh && n.material && n.material.name === MAT_NAME) || n.name === \"Bot_Skinned\"\n    );\n\n    if (!this.previewMesh) {\n      console.error(\"Failed to find avatar preview mesh\");\n      this.setState({ loading: false, error: true });\n      return;\n    }\n\n    const idleAnimation = gltf.animations && gltf.animations.find(({ name }) => name === \"idle_eyes\");\n    if (idleAnimation) {\n      this.mixer = new THREE.AnimationMixer(gltf.scene);\n      const action = this.mixer.clipAction(idleAnimation);\n      action.enabled = true;\n      action.setLoop(THREE.LoopRepeat, Infinity).play();\n      this.idleAnimationAction = action;\n    }\n\n    gltf.scene.traverse(node => {\n      // Camera in preview is pretty tight, and skinned meshes tend to have poor bounding boxes\n      if (node.isSkinnedMesh) {\n        node.frustumCulled = false;\n      }\n\n      // We delete onUpdate here to opt out of the auto texture cleanup after GPU upload.\n      if (node.material) {\n        const removeOnUpdate = p => node.material[p] && delete node.material[p].onUpdate;\n        TEXTURE_PROPS[\"base_map\"].forEach(removeOnUpdate);\n        TEXTURE_PROPS[\"emissive_map\"].forEach(removeOnUpdate);\n        TEXTURE_PROPS[\"normal_map\"].forEach(removeOnUpdate);\n        TEXTURE_PROPS[\"orm_map\"].forEach(removeOnUpdate);\n      }\n    });\n\n    const { material } = this.previewMesh;\n    if (material) {\n      const getImage = p => material[p] && material[p].image;\n      this.originalMaps = {\n        base_map: TEXTURE_PROPS[\"base_map\"].map(getImage),\n        emissive_map: TEXTURE_PROPS[\"emissive_map\"].map(getImage),\n        normal_map: TEXTURE_PROPS[\"normal_map\"].map(getImage),\n        orm_map: TEXTURE_PROPS[\"orm_map\"].map(getImage)\n      };\n\n      const dependencies = [\n        this.applyMaps({}, this.props) // Apply initial maps\n      ];\n\n      // Low and medium quality materials don't use environment maps\n      if (window.APP.store.state.preferences.materialQualitySetting === \"high\") {\n        dependencies.push(\n          // TODO apply environment map to secondary materials as well\n          createDefaultEnvironmentMap().then(t => {\n            this.previewMesh.material.envMap = t;\n            this.previewMesh.material.needsUpdate = true;\n          })\n        );\n      }\n\n      await Promise.all(dependencies);\n    } else {\n      this.originalMaps = {};\n    }\n\n    return gltf;\n  };\n\n  applyMapToPreview = (name, image) => {\n    if (this.imageBitmaps[name]) {\n      disposeImageBitmap(this.imageBitmaps[name]);\n    }\n    this.imageBitmaps[name] = image;\n    TEXTURE_PROPS[name].forEach(prop => {\n      const texture = this.previewMesh.material[prop];\n\n      // Low quality materials are missing normal maps\n      if (prop === \"normalMap\" && window.APP.store.state.preferences.materialQualitySetting === \"low\") {\n        return;\n      }\n\n      // Medium Quality materials are missing metalness and roughness maps\n      if (\n        (prop === \"roughnessMap\" || prop === \"metalnessMap\") &&\n        window.APP.store.state.preferences.materialQualitySetting !== \"high\"\n      ) {\n        return;\n      }\n\n      texture.image = image;\n      texture.needsUpdate = true;\n    });\n  };\n\n  revertMap = name => {\n    if (this.imageBitmaps[name]) {\n      disposeImageBitmap(this.imageBitmaps[name]);\n    }\n    delete this.imageBitmaps[name];\n    this.originalMaps[name].forEach((bm, i) => {\n      const texture = this.previewMesh.material[TEXTURE_PROPS[name][i]];\n\n      if (texture) {\n        texture.image = bm;\n        texture.needsUpdate = true;\n      }\n    });\n  };\n\n  snapshot = () => {\n    return new Promise(resolve => {\n      if (this.idleAnimationAction) this.idleAnimationAction.stop();\n      this.snapshotCamera.position.copy(this.camera.position);\n      this.snapshotCamera.rotation.copy(this.camera.rotation);\n      this.snapshotRenderer.render(this.scene, this.snapshotCamera);\n      this.snapshotCanvas.toBlob(blob => {\n        if (this.idleAnimationAction) this.idleAnimationAction.play();\n        resolve(blob);\n      });\n    });\n  };\n\n  render() {\n    return (\n      <div className={classNames(styles.preview, this.props.className)}>\n        {!this.props.avatarGltfUrl ||\n          (this.state.loading && !this.state.error && (\n            <div className=\"loader\">\n              <div className=\"loader-center\" />\n            </div>\n          ))}\n        {this.props.avatarGltfUrl && this.state.error && !this.state.loading && (\n          <div className=\"error\">\n            <img src={warningIconUrl} srcSet={`${warningIcon2xUrl} 2x`} className=\"error-icon\" />\n            <FormattedMessage\n              id=\"avatar-preview.loading-failed\"\n              defaultMessage=\"Loading failed{linebreak}Please choose another avatar\"\n              values={{ linebreak: <br /> }}\n            />\n          </div>\n        )}\n        <canvas ref={c => (this.canvas = c)} />\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(AvatarPreview, { forwardRef: true });\n","// extracted by mini-css-extract-plugin\nexport default {\"avatar-landing\":\"avatar__avatar-landing__eSlGJ\",\"avatarLanding\":\"avatar__avatar-landing__eSlGJ\",\"form-submit\":\"avatar__form-submit__tZtEc\",\"formSubmit\":\"avatar__form-submit__tZtEc\",\"no-default-button-style\":\"avatar__no-default-button-style__O7SWN\",\"noDefaultButtonStyle\":\"avatar__no-default-button-style__O7SWN\",\"logo\":\"avatar__logo__oP3Yt\",\"box\":\"avatar__box__ywpDd\",\"title\":\"avatar__title__jS9v5\",\"selected-message\":\"avatar__selected-message__aGq9S\",\"selectedMessage\":\"avatar__selected-message__aGq9S\",\"attributions\":\"avatar__attributions__BbZN2\",\"preview\":\"avatar__preview__Z2aKa\",\"copy-tip\":\"avatar__copy-tip__y8MyZ\",\"copyTip\":\"avatar__copy-tip__y8MyZ\",\"edit-avatar\":\"avatar__edit-avatar__THzPH\",\"editAvatar\":\"avatar__edit-avatar__THzPH\"};","import { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport configs from \"../../utils/configs\";\nimport { tryGetTheme, getCurrentTheme, registerDarkModeQuery } from \"../../utils/theme\";\n\nfunction useDarkMode() {\n  const [darkMode, setDarkMode] = useState(false);\n\n  const changeListener = useCallback(\n    event => {\n      setDarkMode(event.matches);\n    },\n    [setDarkMode]\n  );\n\n  useEffect(() => {\n    const [darkModeQuery, removeListener] = registerDarkModeQuery(changeListener);\n\n    setDarkMode(darkModeQuery.matches);\n\n    return removeListener;\n  }, [changeListener]);\n\n  return darkMode;\n}\n\nexport function useTheme(themeId) {\n  const darkMode = useDarkMode();\n\n  useEffect(() => {\n    const theme = tryGetTheme(themeId);\n\n    if (!theme) {\n      return;\n    }\n\n    const variables = [];\n\n    for (const key in theme.variables) {\n      if (!Object.prototype.hasOwnProperty.call(theme.variables, key)) continue;\n      variables.push(`--${key}: ${theme.variables[key]};`);\n    }\n\n    const styleTag = document.createElement(\"style\");\n\n    styleTag.innerHTML = `:root {\n        ${variables.join(\"\\n\")}\n      }`;\n\n    document.head.appendChild(styleTag);\n\n    return () => {\n      document.head.removeChild(styleTag);\n    };\n  }, [themeId, darkMode]);\n}\n\nfunction getAppLogo(darkMode) {\n  const theme = getCurrentTheme();\n  const shouldUseDarkLogo = theme ? theme.darkModeDefault : darkMode;\n  return (shouldUseDarkLogo && configs.image(\"logo_dark\")) || configs.image(\"logo\");\n}\n\nexport function useLogo() {\n  const darkMode = useDarkMode();\n  return getAppLogo(darkMode);\n}\n\nexport function useThemeFromStore(store) {\n  const [themeId, setThemeId] = useState(store?.state?.preferences?.theme);\n\n  useEffect(() => {\n    function onStoreChanged() {\n      const nextThemeId = store.state?.preferences?.theme;\n\n      if (themeId !== nextThemeId) {\n        setThemeId(nextThemeId);\n      }\n    }\n\n    if (store) {\n      store.addEventListener(\"statechanged\", onStoreChanged);\n    }\n\n    return () => {\n      if (store) {\n        store.removeEventListener(\"statechanged\", onStoreChanged);\n      }\n    };\n  });\n\n  useTheme(themeId);\n}\n\nexport function ThemeProvider({ store, children }) {\n  useThemeFromStore(store);\n  return children;\n}\n\nThemeProvider.propTypes = {\n  store: PropTypes.object,\n  children: PropTypes.node\n};\n","// We should technically be able to just include three here, but our dependancies are tangled such that not having aframe is a bit difficult\nimport \"./utils/theme\";\nconsole.log(`Hubs version: ${process.env.BUILD_VERSION || \"?\"}`);\n\nimport \"aframe\";\nimport \"./utils/logging\";\n\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { FormattedMessage } from \"react-intl\";\nimport { WrappedIntlProvider } from \"./react-components/wrapped-intl-provider\";\n\nimport configs from \"./utils/configs\";\n\nimport { disableiOSZoom } from \"./utils/disable-ios-zoom\";\ndisableiOSZoom();\n\nimport AvatarPreview from \"./react-components/avatar-preview\";\n\nimport { fetchAvatar, remixAvatar } from \"./utils/avatar-utils\";\n\nimport \"./react-components/styles/global.scss\";\nimport styles from \"./assets/stylesheets/avatar.scss\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faClone } from \"@fortawesome/free-solid-svg-icons/faClone\";\nimport { ThemeProvider } from \"./react-components/styles/theme\";\nimport Store from \"./storage/store\";\n\nconst qs = new URLSearchParams(location.search);\nwindow.APP = { store: new Store() };\n\nclass AvatarPage extends React.Component {\n  static propTypes = {\n    avatarId: PropTypes.string,\n    store: PropTypes.object,\n    intl: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { copyMessage: null };\n  }\n\n  componentDidMount() {\n    this.props.store.addEventListener(\"statechanged\", this.storeUpdated);\n    this.refetchAvatar();\n  }\n\n  componentWillUnmount() {\n    this.props.store.removeEventListener(\"statechanged\", this.storeUpdated);\n  }\n\n  storeUpdated = () => this.forceUpdate();\n\n  refetchAvatar = async () => {\n    const avatar = await fetchAvatar(this.props.avatarId);\n    this.setState({ avatar });\n  };\n\n  setAvatar = e => {\n    e && e.preventDefault();\n    this.props.store.update({\n      profile: { avatarId: this.state.avatar.avatar_id }\n    });\n  };\n\n  handleCopyAvatar = async e => {\n    e.preventDefault();\n    const { avatar } = this.state;\n    this.setState({ copyState: \"copying\" });\n    await remixAvatar(avatar.avatar_id, avatar.name);\n    this.setState({ copyState: \"copied\" });\n    setTimeout(() => this.setState({ copyMessage: null }), 2000);\n  };\n\n  render() {\n    const { avatar, copyState } = this.state;\n    if (!avatar) {\n      return (\n        <div className={styles.avatarLanding}>\n          <div className={classNames([styles.box, styles.darkened])}>\n            <FormattedMessage id=\"avatar-page.loading\" defaultMessage=\"Loading\" />\n          </div>\n        </div>\n      );\n    }\n\n    const selectedAvatarId = this.props.store.state.profile.avatarId;\n    const isSelected = avatar.avatar_id === selectedAvatarId;\n\n    return (\n      <form onSubmit={this.setAvatar} className={styles.avatarLanding}>\n        <div className={classNames([styles.box, styles.darkened])}>\n          <label className={styles.title}>\n            <span>{avatar.name}</span>\n          </label>\n          <div className={styles.attributions}>\n            {avatar.attributions && avatar.attributions.creator && <span>{`by ${avatar.attributions.creator}`}</span>}\n          </div>\n          <div className={styles.preview}>\n            {avatar && <AvatarPreview avatarGltfUrl={avatar.gltf_url} />}\n            {copyState ? (\n              <div className={styles.copyTip}>\n                {copyState === \"copying\" ? (\n                  <FormattedMessage id=\"avatar-page.copying-avatar\" defaultMessage=\"Copying...\" />\n                ) : (\n                  <FormattedMessage id=\"avatar-page.copied-avatar\" defaultMessage=\"Copied\" />\n                )}\n              </div>\n            ) : (\n              avatar &&\n              avatar.type === \"avatar_listing\" &&\n              avatar.allow_remixing && (\n                <a\n                  className={styles.editAvatar}\n                  onClick={this.handleCopyAvatar}\n                  title={<FormattedMessage id=\"avatar-page.copy-button\" defaultMessage=\"Copy to my avatars\" />}\n                >\n                  <FontAwesomeIcon icon={faClone} />\n                </a>\n              )\n            )}\n          </div>\n          {isSelected ? (\n            <span className={styles.selectedMessage}>\n              <FormattedMessage id=\"avatar-page.selected\" defaultMessage=\"This is your current avatar\" />\n            </span>\n          ) : (\n            <button disabled={isSelected} className={styles.formSubmit} type=\"submit\">\n              <FormattedMessage id=\"avatar-page.select\" defaultMessage=\"Select\" />\n            </button>\n          )}\n        </div>\n        <img\n          className={styles.logo}\n          src={configs.image(\"logo\")}\n          alt={<FormattedMessage id=\"avatar-page.logo\" defaultMessage=\"Logo\" />}\n        />\n      </form>\n    );\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const avatarId = qs.get(\"avatar_id\") || document.location.pathname.substring(1).split(\"/\")[1];\n  console.log(`Avatar ID: ${avatarId}`);\n  ReactDOM.render(\n    <WrappedIntlProvider>\n      <ThemeProvider store={window.APP.store}>\n        <AvatarPage avatarId={avatarId} store={window.APP.store} />\n      </ThemeProvider>\n    </WrappedIntlProvider>,\n    document.getElementById(\"ui-root\")\n  );\n});\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","\"use strict\";\n\n/* eslint-env browser */\n\n/* eslint-disable no-undef, no-use-before-define, new-cap */\nmodule.exports = function (content, workerConstructor, workerOptions, url) {\n  var globalScope = self || window;\n\n  try {\n    try {\n      var blob;\n\n      try {\n        // New API\n        blob = new globalScope.Blob([content]);\n      } catch (e) {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = globalScope.BlobBuilder || globalScope.WebKitBlobBuilder || globalScope.MozBlobBuilder || globalScope.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n        blob = blob.getBlob();\n      }\n\n      var URL = globalScope.URL || globalScope.webkitURL;\n      var objectURL = URL.createObjectURL(blob);\n      var worker = new globalScope[workerConstructor](objectURL, workerOptions);\n      URL.revokeObjectURL(objectURL);\n      return worker;\n    } catch (e) {\n      return new globalScope[workerConstructor](\"data:application/javascript,\".concat(encodeURIComponent(content)), workerOptions);\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error(\"Inline worker is not supported\");\n    }\n\n    return new globalScope[workerConstructor](url, workerOptions);\n  }\n};","var map = {\n\t\"./de.json\": [\n\t\t33116,\n\t\t116\n\t],\n\t\"./es.json\": [\n\t\t27297,\n\t\t297\n\t],\n\t\"./fr.json\": [\n\t\t83056,\n\t\t56\n\t],\n\t\"./ja.json\": [\n\t\t23160,\n\t\t160\n\t],\n\t\"./ko.json\": [\n\t\t55540,\n\t\t540\n\t],\n\t\"./pt.json\": [\n\t\t10188,\n\t\t188\n\t],\n\t\"./ru.json\": [\n\t\t97441,\n\t\t441\n\t],\n\t\"./zh-cn.json\": [\n\t\t2030,\n\t\t30\n\t],\n\t\"./zh-tw.json\": [\n\t\t4076,\n\t\t76\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 37472;\nmodule.exports = webpackAsyncContext;","// src/Constants.js\nvar TYPES_ENUM = {\n  i8: \"i8\",\n  ui8: \"ui8\",\n  ui8c: \"ui8c\",\n  i16: \"i16\",\n  ui16: \"ui16\",\n  i32: \"i32\",\n  ui32: \"ui32\",\n  f32: \"f32\",\n  f64: \"f64\",\n  eid: \"eid\"\n};\nvar TYPES_NAMES = {\n  i8: \"Int8\",\n  ui8: \"Uint8\",\n  ui8c: \"Uint8Clamped\",\n  i16: \"Int16\",\n  ui16: \"Uint16\",\n  i32: \"Int32\",\n  ui32: \"Uint32\",\n  eid: \"Uint32\",\n  f32: \"Float32\",\n  f64: \"Float64\"\n};\nvar TYPES = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  f32: Float32Array,\n  f64: Float64Array,\n  eid: Uint32Array\n};\nvar UNSIGNED_MAX = {\n  uint8: 2 ** 8,\n  uint16: 2 ** 16,\n  uint32: 2 ** 32\n};\n\n// src/Storage.js\nvar roundToMultiple = (mul) => (x) => Math.ceil(x / mul) * mul;\nvar roundToMultiple4 = roundToMultiple(4);\nvar $storeRef = Symbol(\"storeRef\");\nvar $storeSize = Symbol(\"storeSize\");\nvar $storeMaps = Symbol(\"storeMaps\");\nvar $storeFlattened = Symbol(\"storeFlattened\");\nvar $storeBase = Symbol(\"storeBase\");\nvar $storeType = Symbol(\"storeType\");\nvar $storeArrayElementCounts = Symbol(\"storeArrayElementCounts\");\nvar $storeSubarrays = Symbol(\"storeSubarrays\");\nvar $subarrayCursors = Symbol(\"subarrayCursors\");\nvar $subarray = Symbol(\"subarray\");\nvar $subarrayFrom = Symbol(\"subarrayFrom\");\nvar $subarrayTo = Symbol(\"subarrayTo\");\nvar $parentArray = Symbol(\"parentArray\");\nvar $tagStore = Symbol(\"tagStore\");\nvar $queryShadow = Symbol(\"queryShadow\");\nvar $serializeShadow = Symbol(\"serializeShadow\");\nvar $indexType = Symbol(\"indexType\");\nvar $indexBytes = Symbol(\"indexBytes\");\nvar $isEidType = Symbol(\"isEidType\");\nvar stores = {};\nvar resize = (ta, size) => {\n  const newBuffer = new ArrayBuffer(size * ta.BYTES_PER_ELEMENT);\n  const newTa = new ta.constructor(newBuffer);\n  newTa.set(ta, 0);\n  return newTa;\n};\nvar createShadow = (store, key) => {\n  if (!ArrayBuffer.isView(store)) {\n    const shadowStore = store[$parentArray].slice(0);\n    store[key] = store.map((_, eid) => {\n      const { length } = store[eid];\n      const start = length * eid;\n      const end = start + length;\n      return shadowStore.subarray(start, end);\n    });\n  } else {\n    store[key] = store.slice(0);\n  }\n};\nvar resizeSubarray = (metadata, store, storeSize) => {\n  const cursors = metadata[$subarrayCursors];\n  let type = store[$storeType];\n  const length = store[0].length;\n  const indexType = length <= UNSIGNED_MAX.uint8 ? TYPES_ENUM.ui8 : length <= UNSIGNED_MAX.uint16 ? TYPES_ENUM.ui16 : TYPES_ENUM.ui32;\n  if (cursors[type] === 0) {\n    const arrayElementCount = metadata[$storeArrayElementCounts][type];\n    const array = new TYPES[type](roundToMultiple4(arrayElementCount * storeSize));\n    array.set(metadata[$storeSubarrays][type]);\n    metadata[$storeSubarrays][type] = array;\n    array[$indexType] = TYPES_NAMES[indexType];\n    array[$indexBytes] = TYPES[indexType].BYTES_PER_ELEMENT;\n  }\n  const start = cursors[type];\n  const end = start + storeSize * length;\n  cursors[type] = end;\n  store[$parentArray] = metadata[$storeSubarrays][type].subarray(start, end);\n  for (let eid = 0; eid < storeSize; eid++) {\n    const start2 = length * eid;\n    const end2 = start2 + length;\n    store[eid] = store[$parentArray].subarray(start2, end2);\n    store[eid][$indexType] = TYPES_NAMES[indexType];\n    store[eid][$indexBytes] = TYPES[indexType].BYTES_PER_ELEMENT;\n    store[eid][$subarray] = true;\n  }\n};\nvar resizeRecursive = (metadata, store, size) => {\n  Object.keys(store).forEach((key) => {\n    const ta = store[key];\n    if (Array.isArray(ta)) {\n      resizeSubarray(metadata, ta, size);\n      store[$storeFlattened].push(ta);\n    } else if (ArrayBuffer.isView(ta)) {\n      store[key] = resize(ta, size);\n      store[$storeFlattened].push(store[key]);\n    } else if (typeof ta === \"object\") {\n      resizeRecursive(metadata, store[key], size);\n    }\n  });\n};\nvar resizeStore = (store, size) => {\n  if (store[$tagStore])\n    return;\n  store[$storeSize] = size;\n  store[$storeFlattened].length = 0;\n  Object.keys(store[$subarrayCursors]).forEach((k) => {\n    store[$subarrayCursors][k] = 0;\n  });\n  resizeRecursive(store, store, size);\n};\nvar resetStoreFor = (store, eid) => {\n  if (store[$storeFlattened]) {\n    store[$storeFlattened].forEach((ta) => {\n      if (ArrayBuffer.isView(ta))\n        ta[eid] = 0;\n      else\n        ta[eid].fill(0);\n    });\n  }\n};\nvar createTypeStore = (type, length) => {\n  const totalBytes = length * TYPES[type].BYTES_PER_ELEMENT;\n  const buffer = new ArrayBuffer(totalBytes);\n  const store = new TYPES[type](buffer);\n  store[$isEidType] = type === TYPES_ENUM.eid;\n  return store;\n};\nvar parentArray = (store) => store[$parentArray];\nvar createArrayStore = (metadata, type, length) => {\n  const storeSize = metadata[$storeSize];\n  const store = Array(storeSize).fill(0);\n  store[$storeType] = type;\n  store[$isEidType] = type === TYPES_ENUM.eid;\n  const cursors = metadata[$subarrayCursors];\n  const indexType = length <= UNSIGNED_MAX.uint8 ? TYPES_ENUM.ui8 : length <= UNSIGNED_MAX.uint16 ? TYPES_ENUM.ui16 : TYPES_ENUM.ui32;\n  if (!length)\n    throw new Error(\"bitECS - Must define component array length\");\n  if (!TYPES[type])\n    throw new Error(`bitECS - Invalid component array property type ${type}`);\n  if (!metadata[$storeSubarrays][type]) {\n    const arrayElementCount = metadata[$storeArrayElementCounts][type];\n    const array = new TYPES[type](roundToMultiple4(arrayElementCount * storeSize));\n    array[$indexType] = TYPES_NAMES[indexType];\n    array[$indexBytes] = TYPES[indexType].BYTES_PER_ELEMENT;\n    metadata[$storeSubarrays][type] = array;\n  }\n  const start = cursors[type];\n  const end = start + storeSize * length;\n  cursors[type] = end;\n  store[$parentArray] = metadata[$storeSubarrays][type].subarray(start, end);\n  for (let eid = 0; eid < storeSize; eid++) {\n    const start2 = length * eid;\n    const end2 = start2 + length;\n    store[eid] = store[$parentArray].subarray(start2, end2);\n    store[eid][$indexType] = TYPES_NAMES[indexType];\n    store[eid][$indexBytes] = TYPES[indexType].BYTES_PER_ELEMENT;\n    store[eid][$subarray] = true;\n  }\n  return store;\n};\nvar isArrayType = (x) => Array.isArray(x) && typeof x[0] === \"string\" && typeof x[1] === \"number\";\nvar createStore = (schema, size) => {\n  const $store = Symbol(\"store\");\n  if (!schema || !Object.keys(schema).length) {\n    stores[$store] = {\n      [$storeSize]: size,\n      [$tagStore]: true,\n      [$storeBase]: () => stores[$store]\n    };\n    return stores[$store];\n  }\n  schema = JSON.parse(JSON.stringify(schema));\n  const arrayElementCounts = {};\n  const collectArrayElementCounts = (s) => {\n    const keys = Object.keys(s);\n    for (const k of keys) {\n      if (isArrayType(s[k])) {\n        if (!arrayElementCounts[s[k][0]])\n          arrayElementCounts[s[k][0]] = 0;\n        arrayElementCounts[s[k][0]] += s[k][1];\n      } else if (s[k] instanceof Object) {\n        collectArrayElementCounts(s[k]);\n      }\n    }\n  };\n  collectArrayElementCounts(schema);\n  const metadata = {\n    [$storeSize]: size,\n    [$storeMaps]: {},\n    [$storeSubarrays]: {},\n    [$storeRef]: $store,\n    [$subarrayCursors]: Object.keys(TYPES).reduce((a, type) => ({ ...a, [type]: 0 }), {}),\n    [$storeFlattened]: [],\n    [$storeArrayElementCounts]: arrayElementCounts\n  };\n  if (schema instanceof Object && Object.keys(schema).length) {\n    const recursiveTransform = (a, k) => {\n      if (typeof a[k] === \"string\") {\n        a[k] = createTypeStore(a[k], size);\n        a[k][$storeBase] = () => stores[$store];\n        metadata[$storeFlattened].push(a[k]);\n      } else if (isArrayType(a[k])) {\n        const [type, length] = a[k];\n        a[k] = createArrayStore(metadata, type, length);\n        a[k][$storeBase] = () => stores[$store];\n        metadata[$storeFlattened].push(a[k]);\n      } else if (a[k] instanceof Object) {\n        a[k] = Object.keys(a[k]).reduce(recursiveTransform, a[k]);\n      }\n      return a;\n    };\n    stores[$store] = Object.assign(Object.keys(schema).reduce(recursiveTransform, schema), metadata);\n    stores[$store][$storeBase] = () => stores[$store];\n    return stores[$store];\n  }\n};\n\n// src/Util.js\nvar SparseSet = () => {\n  const dense = [];\n  const sparse = [];\n  dense.sort = function(comparator) {\n    const result = Array.prototype.sort.call(this, comparator);\n    for (let i = 0; i < dense.length; i++) {\n      sparse[dense[i]] = i;\n    }\n    return result;\n  };\n  const has = (val) => dense[sparse[val]] === val;\n  const add = (val) => {\n    if (has(val))\n      return;\n    sparse[val] = dense.push(val) - 1;\n  };\n  const remove = (val) => {\n    if (!has(val))\n      return;\n    const index = sparse[val];\n    const swapped = dense.pop();\n    if (swapped !== val) {\n      dense[index] = swapped;\n      sparse[swapped] = index;\n    }\n  };\n  return {\n    add,\n    remove,\n    has,\n    sparse,\n    dense\n  };\n};\n\n// src/Serialize.js\nvar DESERIALIZE_MODE = {\n  REPLACE: 0,\n  APPEND: 1,\n  MAP: 2\n};\nvar resized = false;\nvar setSerializationResized = (v) => {\n  resized = v;\n};\nvar concat = (a, v) => a.concat(v);\nvar not = (fn) => (v) => !fn(v);\nvar storeFlattened = (c) => c[$storeFlattened];\nvar isFullComponent = storeFlattened;\nvar isProperty = not(isFullComponent);\nvar isModifier = (c) => typeof c === \"function\";\nvar isNotModifier = not(isModifier);\nvar isChangedModifier = (c) => isModifier(c) && c()[1] === \"changed\";\nvar isWorld = (w) => Object.getOwnPropertySymbols(w).includes($componentMap);\nvar fromModifierToComponent = (c) => c()[0];\nvar canonicalize = (target) => {\n  if (isWorld(target))\n    return [[], /* @__PURE__ */ new Map()];\n  const fullComponentProps = target.filter(isNotModifier).filter(isFullComponent).map(storeFlattened).reduce(concat, []);\n  const changedComponentProps = target.filter(isChangedModifier).map(fromModifierToComponent).filter(isFullComponent).map(storeFlattened).reduce(concat, []);\n  const props = target.filter(isNotModifier).filter(isProperty);\n  const changedProps = target.filter(isChangedModifier).map(fromModifierToComponent).filter(isProperty);\n  const componentProps = [...fullComponentProps, ...props, ...changedComponentProps, ...changedProps];\n  const allChangedProps = [...changedComponentProps, ...changedProps].reduce((map, prop) => {\n    const $ = Symbol();\n    createShadow(prop, $);\n    map.set(prop, $);\n    return map;\n  }, /* @__PURE__ */ new Map());\n  return [componentProps, allChangedProps];\n};\nvar defineSerializer = (target, maxBytes = 2e7) => {\n  const worldSerializer = isWorld(target);\n  let [componentProps, changedProps] = canonicalize(target);\n  const buffer = new ArrayBuffer(maxBytes);\n  const view = new DataView(buffer);\n  const entityComponentCache = /* @__PURE__ */ new Map();\n  return (ents) => {\n    if (resized) {\n      [componentProps, changedProps] = canonicalize(target);\n      resized = false;\n    }\n    if (worldSerializer) {\n      componentProps = [];\n      target[$componentMap].forEach((c, component) => {\n        if (component[$storeFlattened])\n          componentProps.push(...component[$storeFlattened]);\n        else\n          componentProps.push(component);\n      });\n    }\n    let world;\n    if (Object.getOwnPropertySymbols(ents).includes($componentMap)) {\n      world = ents;\n      ents = ents[$entityArray];\n    } else {\n      world = eidToWorld.get(ents[0]);\n    }\n    let where = 0;\n    if (!ents.length)\n      return buffer.slice(0, where);\n    const cache = /* @__PURE__ */ new Map();\n    for (let pid = 0; pid < componentProps.length; pid++) {\n      const prop = componentProps[pid];\n      const component = prop[$storeBase]();\n      const $diff = changedProps.get(prop);\n      const shadow = $diff ? prop[$diff] : null;\n      if (!cache.has(component))\n        cache.set(component, /* @__PURE__ */ new Map());\n      view.setUint8(where, pid);\n      where += 1;\n      const countWhere = where;\n      where += 4;\n      let writeCount = 0;\n      for (let i = 0; i < ents.length; i++) {\n        const eid = ents[i];\n        let componentCache = entityComponentCache.get(eid);\n        if (!componentCache)\n          componentCache = entityComponentCache.set(eid, /* @__PURE__ */ new Set()).get(eid);\n        componentCache.add(eid);\n        const newlyAddedComponent = shadow && cache.get(component).get(eid) || !componentCache.has(component) && hasComponent(world, component, eid);\n        cache.get(component).set(eid, newlyAddedComponent);\n        if (newlyAddedComponent) {\n          componentCache.add(component);\n        } else if (!hasComponent(world, component, eid)) {\n          componentCache.delete(component);\n          continue;\n        }\n        const rewindWhere = where;\n        view.setUint32(where, eid);\n        where += 4;\n        if (prop[$tagStore]) {\n          writeCount++;\n          continue;\n        }\n        if (ArrayBuffer.isView(prop[eid])) {\n          const type = prop[eid].constructor.name.replace(\"Array\", \"\");\n          const indexType = prop[eid][$indexType];\n          const indexBytes = prop[eid][$indexBytes];\n          const countWhere2 = where;\n          where += indexBytes;\n          let arrayWriteCount = 0;\n          for (let i2 = 0; i2 < prop[eid].length; i2++) {\n            if (shadow) {\n              const changed = shadow[eid][i2] !== prop[eid][i2];\n              shadow[eid][i2] = prop[eid][i2];\n              if (!changed && !newlyAddedComponent) {\n                continue;\n              }\n            }\n            view[`set${indexType}`](where, i2);\n            where += indexBytes;\n            const value = prop[eid][i2];\n            view[`set${type}`](where, value);\n            where += prop[eid].BYTES_PER_ELEMENT;\n            arrayWriteCount++;\n          }\n          if (arrayWriteCount > 0) {\n            view[`set${indexType}`](countWhere2, arrayWriteCount);\n            writeCount++;\n          } else {\n            where = rewindWhere;\n            continue;\n          }\n        } else {\n          if (shadow) {\n            const changed = shadow[eid] !== prop[eid];\n            shadow[eid] = prop[eid];\n            if (!changed && !newlyAddedComponent) {\n              where = rewindWhere;\n              continue;\n            }\n          }\n          const type = prop.constructor.name.replace(\"Array\", \"\");\n          view[`set${type}`](where, prop[eid]);\n          where += prop.BYTES_PER_ELEMENT;\n          writeCount++;\n        }\n      }\n      if (writeCount > 0) {\n        view.setUint32(countWhere, writeCount);\n      } else {\n        where -= 5;\n      }\n    }\n    return buffer.slice(0, where);\n  };\n};\nvar newEntities = /* @__PURE__ */ new Map();\nvar defineDeserializer = (target) => {\n  const isWorld2 = Object.getOwnPropertySymbols(target).includes($componentMap);\n  let [componentProps] = canonicalize(target);\n  const deserializedEntities = /* @__PURE__ */ new Set();\n  return (world, packet, mode = 0) => {\n    newEntities.clear();\n    if (resized) {\n      [componentProps] = canonicalize(target);\n      resized = false;\n    }\n    if (isWorld2) {\n      componentProps = [];\n      target[$componentMap].forEach((c, component) => {\n        if (component[$storeFlattened])\n          componentProps.push(...component[$storeFlattened]);\n        else\n          componentProps.push(component);\n      });\n    }\n    const localEntities = world[$localEntities];\n    const localEntityLookup = world[$localEntityLookup];\n    const view = new DataView(packet);\n    let where = 0;\n    while (where < packet.byteLength) {\n      const pid = view.getUint8(where);\n      where += 1;\n      const entityCount = view.getUint32(where);\n      where += 4;\n      const prop = componentProps[pid];\n      for (let i = 0; i < entityCount; i++) {\n        let eid = view.getUint32(where);\n        where += 4;\n        if (mode === DESERIALIZE_MODE.MAP) {\n          if (localEntities.has(eid)) {\n            eid = localEntities.get(eid);\n          } else if (newEntities.has(eid)) {\n            eid = newEntities.get(eid);\n          } else {\n            const newEid = addEntity(world);\n            localEntities.set(eid, newEid);\n            localEntityLookup.set(newEid, eid);\n            newEntities.set(eid, newEid);\n            eid = newEid;\n          }\n        }\n        if (mode === DESERIALIZE_MODE.APPEND || mode === DESERIALIZE_MODE.REPLACE && !world[$entitySparseSet].has(eid)) {\n          const newEid = newEntities.get(eid) || addEntity(world);\n          newEntities.set(eid, newEid);\n          eid = newEid;\n        }\n        const component = prop[$storeBase]();\n        if (!hasComponent(world, component, eid)) {\n          addComponent(world, component, eid);\n        }\n        deserializedEntities.add(eid);\n        if (component[$tagStore]) {\n          continue;\n        }\n        if (ArrayBuffer.isView(prop[eid])) {\n          const array = prop[eid];\n          const count = view[`get${array[$indexType]}`](where);\n          where += array[$indexBytes];\n          for (let i2 = 0; i2 < count; i2++) {\n            const index = view[`get${array[$indexType]}`](where);\n            where += array[$indexBytes];\n            const value = view[`get${array.constructor.name.replace(\"Array\", \"\")}`](where);\n            where += array.BYTES_PER_ELEMENT;\n            if (prop[$isEidType]) {\n              let localEid;\n              if (localEntities.has(value)) {\n                localEid = localEntities.get(value);\n              } else if (newEntities.has(value)) {\n                localEid = newEntities.get(value);\n              } else {\n                const newEid = addEntity(world);\n                localEntities.set(value, newEid);\n                localEntityLookup.set(newEid, value);\n                newEntities.set(value, newEid);\n                localEid = newEid;\n              }\n              prop[eid][index] = localEid;\n            } else\n              prop[eid][index] = value;\n          }\n        } else {\n          const value = view[`get${prop.constructor.name.replace(\"Array\", \"\")}`](where);\n          where += prop.BYTES_PER_ELEMENT;\n          if (prop[$isEidType]) {\n            let localEid;\n            if (localEntities.has(value)) {\n              localEid = localEntities.get(value);\n            } else if (newEntities.has(value)) {\n              localEid = newEntities.get(value);\n            } else {\n              const newEid = addEntity(world);\n              localEntities.set(value, newEid);\n              localEntityLookup.set(newEid, value);\n              newEntities.set(value, newEid);\n              localEid = newEid;\n            }\n            prop[eid] = localEid;\n          } else\n            prop[eid] = value;\n        }\n      }\n    }\n    const ents = Array.from(deserializedEntities);\n    deserializedEntities.clear();\n    return ents;\n  };\n};\n\n// src/Entity.js\nvar $entityMasks = Symbol(\"entityMasks\");\nvar $entityComponents = Symbol(\"entityComponents\");\nvar $entitySparseSet = Symbol(\"entitySparseSet\");\nvar $entityArray = Symbol(\"entityArray\");\nvar $entityIndices = Symbol(\"entityIndices\");\nvar $removedEntities = Symbol(\"removedEntities\");\nvar defaultSize = 1e5;\nvar globalEntityCursor = 0;\nvar globalSize = defaultSize;\nvar resizeThreshold = () => globalSize - globalSize / 5;\nvar getGlobalSize = () => globalSize;\nvar removed = [];\nvar defaultRemovedReuseThreshold = 0.01;\nvar removedReuseThreshold = defaultRemovedReuseThreshold;\nvar resetGlobals = () => {\n  globalSize = defaultSize;\n  globalEntityCursor = 0;\n  removedReuseThreshold = defaultRemovedReuseThreshold;\n  removed.length = 0;\n};\nvar setDefaultSize = (newSize) => {\n  const oldSize = globalSize;\n  defaultSize = newSize;\n  resetGlobals();\n  globalSize = newSize;\n  resizeWorlds(newSize);\n  resizeComponents(newSize);\n  setSerializationResized(true);\n  console.info(`\\u{1F47E} bitECS - resizing all data stores from ${oldSize} to ${newSize}`);\n};\nvar setRemovedRecycleThreshold = (newThreshold) => {\n  removedReuseThreshold = newThreshold;\n};\nvar getEntityCursor = () => globalEntityCursor;\nvar eidToWorld = /* @__PURE__ */ new Map();\nvar addEntity = (world) => {\n  if (globalEntityCursor >= resizeThreshold()) {\n    const size = globalSize;\n    const amount = Math.ceil(size / 2 / 4) * 4;\n    setDefaultSize(size + amount);\n  }\n  const eid = removed.length > Math.round(defaultSize * removedReuseThreshold) ? removed.shift() : globalEntityCursor++;\n  world[$entitySparseSet].add(eid);\n  eidToWorld.set(eid, world);\n  world[$notQueries].forEach((q) => {\n    const match = queryCheckEntity(world, q, eid);\n    if (match)\n      queryAddEntity(q, eid);\n  });\n  world[$entityComponents].set(eid, /* @__PURE__ */ new Set());\n  return eid;\n};\nvar removeEntity = (world, eid) => {\n  if (!world[$entitySparseSet].has(eid))\n    return;\n  world[$queries].forEach((q) => {\n    queryRemoveEntity(world, q, eid);\n  });\n  removed.push(eid);\n  world[$entitySparseSet].remove(eid);\n  world[$entityComponents].delete(eid);\n  world[$localEntities].delete(world[$localEntityLookup].get(eid));\n  world[$localEntityLookup].delete(eid);\n  for (let i = 0; i < world[$entityMasks].length; i++)\n    world[$entityMasks][i][eid] = 0;\n};\nvar getEntityComponents = (world, eid) => {\n  if (eid === void 0)\n    throw new Error(\"bitECS - entity is undefined.\");\n  if (!world[$entitySparseSet].has(eid))\n    throw new Error(\"bitECS - entity does not exist in the world.\");\n  return Array.from(world[$entityComponents].get(eid));\n};\nvar entityExists = (world, eid) => world[$entitySparseSet].has(eid);\n\n// src/Query.js\nfunction Not(c) {\n  return () => [c, \"not\"];\n}\nfunction Changed(c) {\n  return () => [c, \"changed\"];\n}\nfunction Any(...comps) {\n  return function QueryAny() {\n    return comps;\n  };\n}\nfunction All(...comps) {\n  return function QueryAll() {\n    return comps;\n  };\n}\nfunction None(...comps) {\n  return function QueryNone() {\n    return comps;\n  };\n}\nvar $queries = Symbol(\"queries\");\nvar $notQueries = Symbol(\"notQueries\");\nvar $queryAny = Symbol(\"queryAny\");\nvar $queryAll = Symbol(\"queryAll\");\nvar $queryNone = Symbol(\"queryNone\");\nvar $queryMap = Symbol(\"queryMap\");\nvar $dirtyQueries = Symbol(\"$dirtyQueries\");\nvar $queryComponents = Symbol(\"queryComponents\");\nvar $enterQuery = Symbol(\"enterQuery\");\nvar $exitQuery = Symbol(\"exitQuery\");\nvar enterQuery = (query) => (world) => {\n  if (!world[$queryMap].has(query))\n    registerQuery(world, query);\n  const q = world[$queryMap].get(query);\n  const entered = q.entered.dense.slice();\n  q.entered = SparseSet();\n  return entered;\n};\nvar exitQuery = (query) => (world) => {\n  if (!world[$queryMap].has(query))\n    registerQuery(world, query);\n  const q = world[$queryMap].get(query);\n  const exited = q.exited.dense.slice();\n  q.exited = SparseSet();\n  return exited;\n};\nvar registerQuery = (world, query) => {\n  const components2 = [];\n  const notComponents = [];\n  const changedComponents = [];\n  query[$queryComponents].forEach((c) => {\n    if (typeof c === \"function\") {\n      const [comp, mod] = c();\n      if (!world[$componentMap].has(comp))\n        registerComponent(world, comp);\n      if (mod === \"not\") {\n        notComponents.push(comp);\n      }\n      if (mod === \"changed\") {\n        changedComponents.push(comp);\n        components2.push(comp);\n      }\n    } else {\n      if (!world[$componentMap].has(c))\n        registerComponent(world, c);\n      components2.push(c);\n    }\n  });\n  const mapComponents = (c) => world[$componentMap].get(c);\n  const allComponents = components2.concat(notComponents).map(mapComponents);\n  const sparseSet = SparseSet();\n  const archetypes = [];\n  const changed = [];\n  const toRemove = SparseSet();\n  const entered = SparseSet();\n  const exited = SparseSet();\n  const generations = allComponents.map((c) => c.generationId).reduce((a, v) => {\n    if (a.includes(v))\n      return a;\n    a.push(v);\n    return a;\n  }, []);\n  const reduceBitflags = (a, c) => {\n    if (!a[c.generationId])\n      a[c.generationId] = 0;\n    a[c.generationId] |= c.bitflag;\n    return a;\n  };\n  const masks = components2.map(mapComponents).reduce(reduceBitflags, {});\n  const notMasks = notComponents.map(mapComponents).reduce(reduceBitflags, {});\n  const hasMasks = allComponents.reduce(reduceBitflags, {});\n  const flatProps = components2.filter((c) => !c[$tagStore]).map((c) => Object.getOwnPropertySymbols(c).includes($storeFlattened) ? c[$storeFlattened] : [c]).reduce((a, v) => a.concat(v), []);\n  const shadows = [];\n  const q = Object.assign(sparseSet, {\n    archetypes,\n    changed,\n    components: components2,\n    notComponents,\n    changedComponents,\n    allComponents,\n    masks,\n    notMasks,\n    hasMasks,\n    generations,\n    flatProps,\n    toRemove,\n    entered,\n    exited,\n    shadows\n  });\n  world[$queryMap].set(query, q);\n  world[$queries].add(q);\n  allComponents.forEach((c) => {\n    c.queries.add(q);\n  });\n  if (notComponents.length)\n    world[$notQueries].add(q);\n  for (let eid = 0; eid < getEntityCursor(); eid++) {\n    if (!world[$entitySparseSet].has(eid))\n      continue;\n    const match = queryCheckEntity(world, q, eid);\n    if (match)\n      queryAddEntity(q, eid);\n  }\n};\nvar generateShadow = (q, pid) => {\n  const $ = Symbol();\n  const prop = q.flatProps[pid];\n  createShadow(prop, $);\n  q.shadows[pid] = prop[$];\n  return prop[$];\n};\nvar diff = (q, clearDiff) => {\n  if (clearDiff)\n    q.changed = [];\n  const { flatProps, shadows } = q;\n  for (let i = 0; i < q.dense.length; i++) {\n    const eid = q.dense[i];\n    let dirty = false;\n    for (let pid = 0; pid < flatProps.length; pid++) {\n      const prop = flatProps[pid];\n      const shadow = shadows[pid] || generateShadow(q, pid);\n      if (ArrayBuffer.isView(prop[eid])) {\n        for (let i2 = 0; i2 < prop[eid].length; i2++) {\n          if (prop[eid][i2] !== shadow[eid][i2]) {\n            dirty = true;\n            break;\n          }\n        }\n        shadow[eid].set(prop[eid]);\n      } else {\n        if (prop[eid] !== shadow[eid]) {\n          dirty = true;\n          shadow[eid] = prop[eid];\n        }\n      }\n    }\n    if (dirty)\n      q.changed.push(eid);\n  }\n  return q.changed;\n};\nvar flatten = (a, v) => a.concat(v);\nvar aggregateComponentsFor = (mod) => (x) => x.filter((f) => f.name === mod().constructor.name).reduce(flatten);\nvar getAnyComponents = aggregateComponentsFor(Any);\nvar getAllComponents = aggregateComponentsFor(All);\nvar getNoneComponents = aggregateComponentsFor(None);\nvar defineQuery = (...args) => {\n  let components2;\n  let any, all, none;\n  if (Array.isArray(args[0])) {\n    components2 = args[0];\n  } else {\n  }\n  if (components2 === void 0 || components2[$componentMap] !== void 0) {\n    return (world) => world ? world[$entityArray] : components2[$entityArray];\n  }\n  const query = function(world, clearDiff = true) {\n    if (!world[$queryMap].has(query))\n      registerQuery(world, query);\n    const q = world[$queryMap].get(query);\n    commitRemovals(world);\n    if (q.changedComponents.length)\n      return diff(q, clearDiff);\n    return q.dense;\n  };\n  query[$queryComponents] = components2;\n  query[$queryAny] = any;\n  query[$queryAll] = all;\n  query[$queryNone] = none;\n  return query;\n};\nvar queryCheckEntity = (world, q, eid) => {\n  const { masks, notMasks, generations } = q;\n  let or = 0;\n  for (let i = 0; i < generations.length; i++) {\n    const generationId = generations[i];\n    const qMask = masks[generationId];\n    const qNotMask = notMasks[generationId];\n    const eMask = world[$entityMasks][generationId][eid];\n    if (qNotMask && (eMask & qNotMask) !== 0) {\n      return false;\n    }\n    if (qMask && (eMask & qMask) !== qMask) {\n      return false;\n    }\n  }\n  return true;\n};\nvar queryAddEntity = (q, eid) => {\n  q.toRemove.remove(eid);\n  q.entered.add(eid);\n  q.add(eid);\n};\nvar queryCommitRemovals = (q) => {\n  for (let i = q.toRemove.dense.length - 1; i >= 0; i--) {\n    const eid = q.toRemove.dense[i];\n    q.toRemove.remove(eid);\n    q.remove(eid);\n  }\n};\nvar commitRemovals = (world) => {\n  if (!world[$dirtyQueries].size)\n    return;\n  world[$dirtyQueries].forEach(queryCommitRemovals);\n  world[$dirtyQueries].clear();\n};\nvar queryRemoveEntity = (world, q, eid) => {\n  if (!q.has(eid) || q.toRemove.has(eid))\n    return;\n  q.toRemove.add(eid);\n  world[$dirtyQueries].add(q);\n  q.exited.add(eid);\n};\nvar resetChangedQuery = (world, query) => {\n  const q = world[$queryMap].get(query);\n  q.changed = [];\n};\nvar removeQuery = (world, query) => {\n  const q = world[$queryMap].get(query);\n  world[$queries].delete(q);\n  world[$queryMap].delete(query);\n};\n\n// src/Component.js\nvar $componentMap = Symbol(\"componentMap\");\nvar components = [];\nvar resizeComponents = (size) => {\n  components.forEach((component) => resizeStore(component, size));\n};\nvar defineComponent = (schema, size) => {\n  const component = createStore(schema, size || getGlobalSize());\n  if (schema && Object.keys(schema).length)\n    components.push(component);\n  return component;\n};\nvar incrementBitflag = (world) => {\n  world[$bitflag] *= 2;\n  if (world[$bitflag] >= 2 ** 31) {\n    world[$bitflag] = 1;\n    world[$entityMasks].push(new Uint32Array(world[$size]));\n  }\n};\nvar registerComponent = (world, component) => {\n  if (!component)\n    throw new Error(`bitECS - Cannot register null or undefined component`);\n  const queries = /* @__PURE__ */ new Set();\n  const notQueries = /* @__PURE__ */ new Set();\n  const changedQueries = /* @__PURE__ */ new Set();\n  world[$queries].forEach((q) => {\n    if (q.allComponents.includes(component)) {\n      queries.add(q);\n    }\n  });\n  world[$componentMap].set(component, {\n    generationId: world[$entityMasks].length - 1,\n    bitflag: world[$bitflag],\n    store: component,\n    queries,\n    notQueries,\n    changedQueries\n  });\n  if (component[$storeSize] < getGlobalSize()) {\n    resizeStore(component, getGlobalSize());\n  }\n  incrementBitflag(world);\n};\nvar registerComponents = (world, components2) => {\n  components2.forEach((c) => registerComponent(world, c));\n};\nvar hasComponent = (world, component, eid) => {\n  const registeredComponent = world[$componentMap].get(component);\n  if (!registeredComponent)\n    return false;\n  const { generationId, bitflag } = registeredComponent;\n  const mask = world[$entityMasks][generationId][eid];\n  return (mask & bitflag) === bitflag;\n};\nvar addComponent = (world, component, eid, reset = false) => {\n  if (eid === void 0)\n    throw new Error(\"bitECS - entity is undefined.\");\n  if (!world[$entitySparseSet].has(eid))\n    throw new Error(\"bitECS - entity does not exist in the world.\");\n  if (!world[$componentMap].has(component))\n    registerComponent(world, component);\n  if (hasComponent(world, component, eid))\n    return;\n  const c = world[$componentMap].get(component);\n  const { generationId, bitflag, queries, notQueries } = c;\n  world[$entityMasks][generationId][eid] |= bitflag;\n  queries.forEach((q) => {\n    if (q.toRemove.has(eid))\n      q.toRemove.remove(eid);\n    const match = queryCheckEntity(world, q, eid);\n    if (match)\n      queryAddEntity(q, eid);\n    if (!match)\n      queryRemoveEntity(world, q, eid);\n  });\n  world[$entityComponents].get(eid).add(component);\n  if (reset)\n    resetStoreFor(component, eid);\n};\nvar removeComponent = (world, component, eid, reset = true) => {\n  if (eid === void 0)\n    throw new Error(\"bitECS - entity is undefined.\");\n  if (!world[$entitySparseSet].has(eid))\n    throw new Error(\"bitECS - entity does not exist in the world.\");\n  if (!hasComponent(world, component, eid))\n    return;\n  const c = world[$componentMap].get(component);\n  const { generationId, bitflag, queries } = c;\n  world[$entityMasks][generationId][eid] &= ~bitflag;\n  queries.forEach((q) => {\n    if (q.toRemove.has(eid))\n      q.toRemove.remove(eid);\n    const match = queryCheckEntity(world, q, eid);\n    if (match)\n      queryAddEntity(q, eid);\n    if (!match)\n      queryRemoveEntity(world, q, eid);\n  });\n  world[$entityComponents].get(eid).delete(component);\n  if (reset)\n    resetStoreFor(component, eid);\n};\n\n// src/World.js\nvar $size = Symbol(\"size\");\nvar $resizeThreshold = Symbol(\"resizeThreshold\");\nvar $bitflag = Symbol(\"bitflag\");\nvar $archetypes = Symbol(\"archetypes\");\nvar $localEntities = Symbol(\"localEntities\");\nvar $localEntityLookup = Symbol(\"localEntityLookup\");\nvar worlds = [];\nvar resizeWorlds = (size) => {\n  worlds.forEach((world) => {\n    world[$size] = size;\n    for (let i = 0; i < world[$entityMasks].length; i++) {\n      const masks = world[$entityMasks][i];\n      world[$entityMasks][i] = resize(masks, size);\n    }\n    world[$resizeThreshold] = world[$size] - world[$size] / 5;\n  });\n};\nvar createWorld = (...args) => {\n  const world = typeof args[0] === \"object\" ? args[0] : {};\n  const size = typeof args[0] === \"number\" ? args[0] : typeof args[1] === \"number\" ? args[1] : getGlobalSize();\n  resetWorld(world, size);\n  worlds.push(world);\n  return world;\n};\nvar resetWorld = (world, size = getGlobalSize()) => {\n  world[$size] = size;\n  if (world[$entityArray])\n    world[$entityArray].forEach((eid) => removeEntity(world, eid));\n  world[$entityMasks] = [new Uint32Array(size)];\n  world[$entityComponents] = /* @__PURE__ */ new Map();\n  world[$archetypes] = [];\n  world[$entitySparseSet] = SparseSet();\n  world[$entityArray] = world[$entitySparseSet].dense;\n  world[$bitflag] = 1;\n  world[$componentMap] = /* @__PURE__ */ new Map();\n  world[$queryMap] = /* @__PURE__ */ new Map();\n  world[$queries] = /* @__PURE__ */ new Set();\n  world[$notQueries] = /* @__PURE__ */ new Set();\n  world[$dirtyQueries] = /* @__PURE__ */ new Set();\n  world[$localEntities] = /* @__PURE__ */ new Map();\n  world[$localEntityLookup] = /* @__PURE__ */ new Map();\n  return world;\n};\nvar deleteWorld = (world) => {\n  Object.getOwnPropertySymbols(world).forEach(($) => {\n    delete world[$];\n  });\n  Object.keys(world).forEach((key) => {\n    delete world[key];\n  });\n  worlds.splice(worlds.indexOf(world), 1);\n};\nvar getWorldComponents = (world) => Array.from(world[$componentMap].keys());\nvar getAllEntities = (world) => world[$entitySparseSet].dense.slice(0);\n\n// src/System.js\nvar defineSystem = (update) => (world, ...args) => {\n  update(world, ...args);\n  return world;\n};\n\n// src/index.js\nvar pipe = (...fns) => (input) => {\n  let tmp = input;\n  for (let i = 0; i < fns.length; i++) {\n    const fn = fns[i];\n    tmp = fn(tmp);\n  }\n  return tmp;\n};\nvar Types = TYPES_ENUM;\nexport {\n  Changed,\n  DESERIALIZE_MODE,\n  Not,\n  Types,\n  addComponent,\n  addEntity,\n  commitRemovals,\n  createWorld,\n  defineComponent,\n  defineDeserializer,\n  defineQuery,\n  defineSerializer,\n  defineSystem,\n  deleteWorld,\n  enterQuery,\n  entityExists,\n  exitQuery,\n  getAllEntities,\n  getEntityComponents,\n  getWorldComponents,\n  hasComponent,\n  parentArray,\n  pipe,\n  registerComponent,\n  registerComponents,\n  removeComponent,\n  removeEntity,\n  removeQuery,\n  resetChangedQuery,\n  resetWorld,\n  setDefaultSize,\n  setRemovedRecycleThreshold\n};\n//# sourceMappingURL=index.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"assets/js/\" + chunkId + \"-\" + {\"30\":\"6ac0d1f1f2ab12ac7acb\",\"56\":\"365d70e890628cbdff90\",\"76\":\"966e03a82a6aa54f47c6\",\"116\":\"c51e85062c079aebe19b\",\"160\":\"d76c46253b195558a884\",\"188\":\"9e18e3a4f61c3aae40fb\",\"297\":\"11bd1ad37903b4820d18\",\"441\":\"bcfa805c563117ade7b6\",\"540\":\"ff2f552046d8584b5997\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 425;","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t425: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhubs\"] = self[\"webpackChunkhubs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [495,542,119], function() { return __webpack_require__(99617); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","Object","defineProperty","exports","value","isUnicodeLanguageSubtag","isUnicodeScriptSubtag","isUnicodeRegionSubtag","isStructurallyValidLanguageTag","parseUnicodeLanguageId","parseUnicodeLocaleId","getCanonicalLocales","tslib_1","parser_1","emitter_1","canonicalizer_1","locales","undefined","seen","_i","locales_1","length","locale","canonicalizedTag","emitUnicodeLocaleId","canonicalizeUnicodeLocaleId","indexOf","push","CanonicalizeLocaleList","parser_2","enumerable","get","__exportStar","variantAlias","scriptAlias","territoryAlias","languageAlias","canonicalizeUnicodeLanguageId","aliases_generated_1","likelySubtags_generated_1","canonicalizeKVs","arr","all","result","arr_1","kv","toLowerCase","sort","compareKV","t1","t2","compareExtension","e1","e2","type","mergeVariants","v1","v2","__spreadArray","v2_1","v","unicodeLanguageId","finalLangAst","variants","replacedLang_1","_a","variant","emitUnicodeLanguageId","lang","replacedLangAst","split","SEPARATOR","script","region","replacedLang_2","replacedLang_3","replacedLang","toUpperCase","regionAlias","replacedRegion","regions","likelySubtag","likelySubtags","likelyRegion","slice","i","alias","isUnicodeVariantSubtag","extensions","extension","keywords","attributes","strs","keys","reduce","str","fields","filter","Boolean","join","chunks","extensions_1","ext","apply","concat","ALPHANUM_1_8","ALPHANUM_2_8","ALPHANUM_3_8","KEY_REGEX","TYPE_REGEX","ALPHA_4","OTHER_EXTENSION_TYPE","UNICODE_REGION_SUBTAG_REGEX","UNICODE_VARIANT_SUBTAG_REGEX","UNICODE_LANGUAGE_SUBTAG_REGEX","TKEY_REGEX","test","shift","RangeError","parseUnicodeExtension","keyword","parseKeyword","key","parseTransformedExtension","e","parsePuExtension","exts","parseOtherExtensionValue","tag","__assign","unicodeExtension","transformedExtension","puExtension","otherExtensionMap","parseExtensions","internalSlotMap","WeakMap","x","internalSlots","create","set","Locale","ecma402_abstract_1","intl_getcanonicallocales_1","get_internal_slots_1","__importDefault","RELEVANT_EXTENSION_KEYS","UNICODE_TYPE_REGEX","mergeUnicodeLanguageId","replacement","addLikelySubtags","ast","unicodeLangId","match_1","parts_1","match_2","parts_2","match_3","parts_3","match","Error","parts","opts","this","constructor","TypeError","relevantExtensionKeys","internalSlotsList","default","initializedLocale","toString","options","CoerceOptionsToObject","invariant","language","GetOption","languageId","Intl","applyOptionsToTag","opt","calendar","ca","collation","co","hc","kf","kn","_kn","String","numberingSystem","nu","r","Array","isArray","_b","relevantExtensionKeys_1","entry","_c","keywords_1","optionsValue","applyUnicodeExtensionToTag","hourCycle","caseFirst","numeric","SameValue","prototype","maximize","minimize","maxLocale","removeLikelySubtags","configurable","Symbol","toStringTag","writable","_1","shouldPolyfill","hasIntlGetCanonicalLocalesBug","GetOperands","s","n","ToNumber","isFinite","iv","f","dp","fv","w","t","Math","abs","ft","replace","Number","IntegerDigits","NumberOfFractionDigits","NumberOfFractionDigitsWithoutTrailing","FractionDigits","FractionDigitsWithoutTrailing","InitializePluralRules","intl_localematcher_1","pl","availableLocales","localeData","getDefaultLocale","getInternalSlots","requestedLocales","initializedPluralRules","matcher","localeMatcher","SetNumberFormatDigitOptions","ResolveLocale","ResolvePlural","GetOperands_1","PluralRuleSelect","Type","FormatNumericToString","formattedString","PluralRules","InitializePluralRules_1","ResolvePlural_1","validateInstance","instance","method","_n","fn","resolvedOptions","forEach","field","val","pluralCategories","categories","select","supportedLocalesOf","SupportedLocales","__addLocaleData","data","arguments","data_1","d","add","__defaultLocale","Set","polyfilled","error","ex","ord","v0","t0","n10","n100","supported_locales_1","minimumFractionDigits","supportedLocales","RelativeTimeFormat","InitializeRelativeTimeFormat","format","unit","initializedRelativeTimeFormat","PartitionRelativeTimePattern","ToString","map","el","formatToParts","style","minimizedLocale","getMagnitude","floor","log","LOG10E","repeat","times","setInternalSlot","setMultiInternalSlots","props","k","getInternalSlot","getMultiInternalSlots","slots","isLiteralPart","patternPart","target","name","UNICODE_EXTENSION_SEQUENCE_REGEX","condition","message","Err","RangePatternType","DATE_TIME_PROPS","removalPenalty","additionPenalty","differentNumericTypePenalty","longLessPenalty","longMorePenalty","shortLessPenalty","shortMorePenalty","DATE_TIME_REGEX","expPatternTrimmer","matchSkeletonPattern","len","era","year","month","day","weekday","hour12","hour","minute","second","timeZoneName","skeletonTokenToTable2","c","processDateTimePattern","pattern","literals","pattern12","_","literal","m","parseDateTimeSkeleton","skeleton","rawPattern","rangePatterns","intervalFormatFallback","rangePatterns12","intervalResult","patternParts","pattern_1","pattern12_1","splitRangePattern","source","startRange","endRange","shared","splitFallbackRangePattern","PART_REGEX","splitIndex","exec","index","isNumericType","bestFitFormatMatcherScore","score","DATE_TIME_PROPS_1","prop","optionsProp","formatProp","values","optionsPropIndex","formatPropIndex","delta","max","min","BestFitFormatMatcher","formats","bestScore","bestFormat","formats_1","skeletonFormat","patternFormat","skeletonValue","patternValue","requestedValue","CanonicalizeTimeZoneName","tz","tzData","uppercaseLinks","uppercasedTz","uppercasedZones","z","ianaTimeZone","o","NaN","TimeClip","time","number","isNaN","integer","ToInteger","ToObject","arg","y","is","ArrayCreate","HasOwnProperty","hasOwnProperty","call","MS_PER_DAY","mod","Day","WeekDay","DayFromYear","Date","UTC","TimeFromYear","YearFromTime","getUTCFullYear","DaysInYear","DayWithinYear","InLeapYear","MonthFromTime","dwy","leap","DateFromTime","mft","HOURS_PER_DAY","MINUTES_PER_HOUR","SECONDS_PER_MINUTE","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","HourFromTime","MinFromTime","SecFromTime","OrdinaryHasInstance","C","O","boundTargetFunction","P","isPrototypeOf","msFromTime","BasicFormatMatcher","DateTimeStyleFormat","dateStyle","timeStyle","dataLocaleData","dateFormat","timeFormat","connector","dateTimeFormat","ToLocalTime","timeZone","zoneData","offset","dst","getApplicableZoneData","timeZoneOffset","inDST","relatedYear","yearName","millisecond","pad","offsetToGmtString","gmtFormat","hourFormat","offsetInMs","offsetInMinutes","mins","hours","positivePattern","negativePattern","offsetStr","FormatDateTimePattern","dtf","getDefaultTimeZone","dataLocale","nfOptions","useGrouping","nf","NumberFormat","nf2Options","minimumIntegerDigits","nf3","nf2","fractionalSecondDigits","nf3Options","tm","patternParts_1","p","pow","timeZoneData","pm","am","PartitionPattern","beginIndex","endIndex","nextIndex","substring","PartitionDateTimePattern","implDetails","FormatDateTime","TABLE_2_FIELDS","PartitionDateTimeRangePattern","rangePattern","tm1","tm2","dateFieldsPracticallyEqual","patternContainsLargerDateField","TABLE_2_FIELDS_1","fieldName","rp","ampm","result_2","result_1","_d","_e","rangePatternPart","partResult","_f","partResult_1","FormatDateTimeRange","FormatDateTimeRangeToParts","part","FormatDateTimeToParts","ToDateTimeOptions","required","defaults","needDefaults","_g","fallback","BestAvailableLocale","candidate","has","pos","lastIndexOf","UnicodeExtensionValue","size","searchValue","start","end","done","requestedLocales_1","noExtensionLocale","availableLocale","LookupMatcher","foundLocale","minimizedAvailableLocaleMap","minimizedAvailableLocales","l","maximizedRequestedLocale","minimizedRequestedLocale","BestFitMatcher","supportedExtension","foundLocaleData","keyLocaleData","supportedExtensionAddition","privateIndex","preExtension","postExtension","IsValidTimeZoneName","zoneNames","DefaultNumberOption","GetNumberOption","property","minimum","maximum","resolveHourCycle","hcDefault","InitializeDateTimeFormat","formatMatcher","isTimeRelated","NOT_A_Z_REGEX","IsWellFormedCurrencyCode","currency","CanonicalCodeForDisplayNames","code","GetOptionsObject","SANCTIONED_UNITS","removeUnitNamespace","SIMPLE_UNITS","IsSanctionedSimpleUnitIdentifier","unitIdentifier","IsWellFormedUnitIdentifier","units","numerator","denominator","ComputeExponentForMagnitude","numberFormat","magnitude","notation","compactDisplay","currencyDisplay","thresholdMap","numbers","short","decimal","long","num","thresholds","magnitudeKey","other","ToRawPrecision","minPrecision","maxPrecision","xFinal","int","xToString","xToStringExponentIndex","xToStringMantissa","xToStringExponent","xToStringMantissaWithoutDecimalPoint","decimalPlaceOffset","round","adjustDecimalPlace","cut","roundedNumber","integerDigitsCount","ToRawFixed","minFraction","maxFraction","mantissa","exponent","a","b","intlObject","isNegative","roundingType","minimumSignificantDigits","maximumSignificantDigits","maximumFractionDigits","string","minInteger","ComputeExponent","formatNumberResult","CurrencyDigits","currencyDigitsData","S_UNICODE_REGEX","CARET_S_UNICODE_REGEX","RegExp","S_DOLLAR_UNICODE_REGEX","CLDR_NUMBER_PATTERN","numberResult","nonNameCurrencyPart","numberPattern","sign","defaultNumberingSystem","compactNumberPattern","compactPluralRules","byNumberingSystem","selectPlural","compactPlaralRule","getPatternForSign","getCompactDisplayPattern","byCurrencyDisplay","currencies","symbol","narrow","standard","currencyData","currencySign","percent","decimalNumberPattern","afterCurrency","currencySpacing","afterInsertBetween","beforeCurrency","beforeInsertBetween","numberPatternParts","numberParts","symbols","numberPatternParts_1","paritionNumberIntoParts","minusSign","plusSign","percentSign","unitName","unitPattern","currencyNameData","displayName","unitPatternParts_1","unitDisplay","unitData","simple","numeratorUnit","denominatorUnit","numeratorUnitPattern","perUnitPattern","perUnit","perPattern","compound","per","denominatorPattern","interpolateMatch","digitReplacementTable","digit","fraction","decimalSepIndex","groupSepSymbol","group","groups","patternGroups","primaryGroupingSize","secondaryGroupingSize","integerGroup","pop","exponential","exponentResult","zeroPattern","rules","PartitionNumberPattern","nan","infinity","signDisplay","FormatNumericToParts","SetNumberFormatUnitOptions","mnfdDefault","mxfdDefault","mnid","mnfd","mxfd","mnsd","mxsd","InitializeNumberFormat","numberingSystemNames","cDigits","SingularRelativeTimeUnit","MakePartsList","rtf","resolvedUnit","pluralRules","patterns","tl","po","FormatRelativeTime","FormatRelativeTimeToParts","_super","NUMBERING_SYSTEM_REGEX","subset","LookupSupportedLocales","isMissingLocaleDataError","__extends","_this","AVAILABLE_LOCALES","en","pt","ja","es","ru","fr","ko","de","FALLBACK_LOCALES","jp","defaultLocaleData","DEFAULT_LOCALE","cachedMessages","Map","_locale","_localeData","setLocale","resolvedLocale","navigator","languages","userLanguage","unshift","curLocale","primaryLanguageSubtag","findLocale","window","dispatchEvent","CustomEvent","then","interval","setInterval","APP","store","clearInterval","state","preferences","addEventListener","getLocale","getMessages","configs","configTranslations","messageKey","entries","messages","_match","subkey","acc","isAdmin","document","querySelector","getAttribute","process","BASE_ASSETS_PATH_KEY","startsWith","URL","location","__webpack_public_path__","hasThumbnailServerMetaTag","IS_LOCAL_OR_CUSTOM_CLIENT","AVAILABLE_INTEGRATIONS","APP_CONFIG","theme","colorVars","createElement","innerHTML","head","insertBefore","firstChild","features","feature","featureName","localDevImages","image","imageName","cssUrl","url","images","link","linkName","defaultValue","links","setIsAdmin","_isAdmin","integration","availableIntegrations","translation","translationsConfig","translations","getMessage","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","element","arrayMerge","sourceIsArray","destination","mergeObject","array","prev","next","qs","URLSearchParams","search","qsTruthy","param","qsGet","hackyMobileSafariTestValue","MOBILE_RE","TABLET_RE","isIpadOS","maxTouchPoints","platform","isIOS","isMobileVR","userAgent","_isMobile","vendor","opera","substr","mockUserAgent","isTablet","hasTouchScreen","msMaxTouchPoints","mQ","matchMedia","media","matches","UA","detectTouchScreen","bind","thisArg","getPrototypeOf","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","iterator","isDate","isFile","isBlob","isFileList","isURLSearchParams","obj","allOwnKeys","getOwnPropertyNames","findKey","_key","_global","globalThis","self","global","isContextDefined","context","isTypedArray","TypedArray","Uint8Array","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","defineProperties","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","isBuffer","isFormData","kind","FormData","append","isArrayBufferView","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","assignValue","targetKey","extend","trim","stripBOM","content","charCodeAt","inherits","superConstructor","assign","toFlatObject","sourceObj","destObj","propFilter","merged","endsWith","searchString","position","lastIndex","toArray","forEachEntry","pair","matchAll","regExp","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p1","p2","noop","toFiniteNumber","generateString","alphabet","random","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isThenable","catch","AxiosError","config","request","response","captureStackTrace","utils","toJSON","description","fileName","lineNumber","columnNumber","status","from","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","path","dots","token","predicates","formData","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","JSON","stringify","some","isFlatArray","exposedHelpers","build","encode","charMap","encodeURIComponent","AxiosURLSearchParams","params","_pairs","encoder","_encode","buildURL","serializeFn","serialize","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","id","clear","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","isStandardBrowserEnv","product","isStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","protocols","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","DEFAULT_CONTENT_TYPE","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","parseHeaders","tokens","tokensRE","parseTokens","delete","deleted","deleteHeader","normalize","normalized","char","formatHeader","targets","asStrings","static","first","computed","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","accessor","transformData","fns","isCancel","__CANCEL__","CanceledError","write","expires","domain","secure","cookie","toGMTString","read","decodeURIComponent","remove","now","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","hash","hostname","port","pathname","charAt","requestURL","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","samplesCount","bytes","timestamps","firstSampleTS","tail","chunkLength","startedAt","bytesCount","passed","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","event","XMLHttpRequest","Promise","resolve","reject","requestData","requestHeaders","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","auth","username","password","unescape","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","settle","err","responseText","statusText","open","paramsSerializer","onreadystatechange","readyState","responseURL","setTimeout","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","isURLSameOrigin","cookies","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancel","abort","subscribe","aborted","parseProtocol","send","knownAdapters","http","xhr","throwIfCancellationRequested","throwIfRequested","dispatchRequest","adapters","nameOrAdapter","reason","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","configValue","validators","deprecatedWarnings","validator","version","formatMessage","desc","console","warn","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","configOrUrl","contextHeaders","boolean","function","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","splice","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","VERSION","toFormData","Cancel","promises","spread","callback","isAxiosError","payload","formToJSON","service","pending","removePending","ever","u","userinfo","res","resolverLink","getReticulumFetchUrl","absolute","fetchReticulumAuthenticated","retUrl","authorization","body","fetch","text","fetchReticulumAuthenticatedWithToken","names","chooseRandom","fetchRandomDefaultAvatarId","defaultAvatars","defaultAvatar","avatar","freeze","PERMISSIONS_STATUS_CHANGED","MIC_SHARE_STARTED","MIC_SHARE_ENDED","VIDEO_SHARE_STARTED","VIDEO_SHARE_ENDED","DEVICE_CHANGE","GRANTED","DENIED","PROMPT","MICROPHONE","SPEAKERS","CAMERA","SCREEN","NO_DEVICE_ID","COLLISION_LAYERS","AAModes","LOCAL_STORE_KEY","STORE_STATE_CACHE_KEY","OAUTH_FLOW_CREDENTIALS_KEY","Validator","defaultMaterialQuality","MATERIAL_QUALITY_OPTIONS","AFRAME","device","isMobile","qsMobileDefault","qsDefault","isFirefoxReality","SCHEMA","definitions","profile","additionalProperties","properties","avatarId","personalAvatarId","credentials","email","memberid","sellerid","storeid","activity","hasFoundFreeze","hasChangedName","hasAcceptedProfile","lastEnteredAt","hasPinned","hasRotated","hasRecentered","hasScaled","hasHoveredInWorldHud","hasOpenedShare","entryCount","settings","lastUsedMicDeviceId","micMuted","shouldPromptForRefresh","preferredMic","preferredSpeakers","preferredCamera","muteMicOnEntry","disableLeftRightPanning","audioNormalization","invertTouchscreenCameraMove","enableOnScreenJoystickLeft","detectMobile","enableOnScreenJoystickRight","enableGyro","animateWaypointTransitions","showFPSCounter","allowMultipleHubsInstances","disableIdleDetection","fastRoomSwitching","lazyLoadSceneMedia","preferMobileObjectInfoPanel","maxResolutionWidth","maxResolutionHeight","globalVoiceVolume","globalMediaVolume","globalSFXVolume","snapRotationDegrees","materialQualitySetting","enableDynamicShadows","disableSoundEffects","disableMovement","disableBackwardsMovement","disableStrafing","disableTeleporter","disableAutoPixelRatio","movementSpeedModifier","disableEchoCancellation","disableNoiseSuppression","disableAutoGainControl","showRtcDebugPanel","showAudioDebugPanel","enableAudioClipping","audioClippingThreshold","audioPanningQuality","cursorSize","nametagVisibility","nametagVisibilityDistance","avatarVoiceLevels","enablePostEffects","enableBloom","aaMode","MSAA_4X","confirmedDiscordRooms","items","confirmedBroadcastedRooms","uploadPromotionTokens","fileId","promotionToken","creatorAssignmentTokens","hubId","creatorAssignmentToken","embedTokens","embedToken","onLoadActions","action","args","$ref","Store","EventTarget","super","_signOutOnExpiredAuthToken","jwtDecode","exp","update","classroomid","initProfile","_shouldResetAvatarOnInit","resetToRandomDefaultAvatar","_preferences","localStorage","getItem","setItem","oauthFlowCredentials","Cookies","maybeDispatchThemeChanged","previous","current","detail","credentialsAccountId","sub","resetConfirmedBroadcastedRooms","clearStoredArray","resetTipActivityFlags","bumpEntryCount","currentEntryCount","enqueueOnLoadAction","executeOnLoadActions","sceneEl","emit","clearOnLoadActions","destinationArray","sourceArray","newState","mergeOpts","finalState","valid","errors","validate","argument","getEmbedTokenForHub","hub","embedTokenEntry","find","hub_id","clearUserInfo","updateClassRoomID","DEFAULT_ACTION_COLOR","DEFAULT_ACTION_COLOR_LIGHT","DEFAULT_COLORS","STORYBOOK_APP_CONFIG","themes","getDarkModeQuery","registerDarkModeQuery","changeListener","darkModeQuery","addListener","removeListener","tryGetTheme","themeId","darkModeDefault","getThemeColor","variables","updateTextButtonColors","actionColor","actionHoverColor","onThemeChanged","_darkModeQuery","removeDarkModeListener","eventObj","once","NODE","classList","isDebug","logFilter","debug","WrappedIntlProvider","React","updateLocale","setState","componentDidMount","componentWillUnmount","render","children","propTypes","PropTypes","detectIOS","urls","cubeMapPosX","cubeMapNegX","cubeMapPosY","cubeMapNegY","cubeMapPosZ","cubeMapNegZ","texture","THREE","CubeTextureLoader","load","RGBAFormat","loadPartially","fileLoader","currentRequestHeader","requestHeader","Range","GLBRangeRequests","binChunkOffset","loader","onLoad","onProgress","onError","assetUrl","resourcePath","LoaderUtils","loadContent","register","jsonContent","reader","getReader","contentLength","parseInt","Response","ReadableStream","controller","readData","close","byteLength","ProgressEvent","enqueue","arrayBuffer","loadArrayBufferFromResponse","FileLoader","setResponseType","BINARY_HEADER_LENGTH","view","DataView","getUint32","firstChunkLength","extensionsUsed","loadBufferView","bufferViewIndex","json","bufferViewDef","bufferViews","bufferIndex","bufferDef","buffers","uri","byteOffset","LOADING_MODES","replaceLevelObject","lod","object","levelNum","level","levels","oldObject","GLTFLodExtension","_hasLODMaterial","meshIndex","meshDef","meshes","primitives","primitiveDef","material","materialDef","materials","_hasLODMaterialOrSkinInNodes","nodeIndex","nodeDef","nodes","nodeIndices","ids","mesh","skin","_calculateDistance","lowestLevel","def","coverages","extras","screenCoverages","loadScreenCoverages","calculateDistance","_addProgressiveLoadingLevel","isNodeLOD","resourceIndex","lowestMesh","states","currentOnBeforeRender","onBeforeRender","clonedLowestMesh","parent","createNodeMesh","loadMesh","onLoadMesh","clonedMesh","onUpdate","addLevel","materialIndex","extensionDef","meshIndices","clonedMeshDef","LOD","loadingMode","fill","firstLoadLevel","any","Object3D","MeshBVHNode","getLongestEdgeIndex","bounds","splitDimIdx","splitDist","dist","FLOAT32_EPSILON","xyzFields","boxTemp","Box3","getBounds","triangleBounds","count","centroidTarget","minx","Infinity","miny","minz","maxx","maxy","maxz","cminx","cminy","cminz","cmaxx","cmaxy","cmaxz","includeCentroid","cx","hx","lx","rx","cy","hy","ly","ry","cz","hz","lz","rz","getCentroidBounds","SeparatingAxisBounds","setFromPointsField","points","setFromPoints","axis","dot","isSeparated","setFromBox","Vector3","box","boxMin","boxMax","closestPointLineToLine","dir1","dir2","v02","l1","l2","v10","v32","subVectors","d0232","d3210","d3232","d0210","denom","d2","closestPointsSegmentToSegment","paramResult","Vector2","temp1","temp2","target1","target2","at","closestPointToPoint","closestPoint","closestPoint2","distanceToSquared","copy","sphereIntersectTriangle","closestPointTemp","projectedPointTemp","planeTemp","Plane","lineTemp","Line3","sphere","triangle","radius","center","distanceTo","plane","getPlane","distanceToPoint","pp","projectPoint","containsPoint","SeparatingAxisTriangle","Triangle","isSeparatingAxisTriangle","satAxes","satBounds","Sphere","needsUpdate","intersectsSphere","axis0","sab0","getNormal","axis1","sab1","axis2","sab2","axis3","sab3","closestPointToSegment","point1","point2","edge","segment","distSq","closestDistanceSq","nexti","sqrt","intersectsTriangle","saTri2","arr1","arr2","cachedSatBounds","cachedSatBounds2","cachedAxis","satBounds1","satAxes1","sb","sa","satBounds2","satAxes2","sa1","i2","sa2","crossVectors","point","distanceToTriangle","cornerFields","line1","line2","getMidpoint","otherVec","thisVec","f11","f12","f21","f22","OrientedBox","isOrientedBox","matrix","Matrix4","invMatrix","alignedSatBounds","setTriangle","tri","ta","tb","tc","i3","getX","getY","getZ","applyMatrix4","minVec","pi","invert","intersectsBox","aabbBounds","saTri","pointsArr","triSatBounds","triSatAxes","clamp","distanceToBox","segments1","segments2","threshold","getCenter","threshold2","i1","nextIndex2","index2","f1","f2","f3","vA","vB","vC","uvA","uvB","uvC","intersectionPoint","intersectionPointWorld","intersectTri","geo","raycaster","ray","intersections","triOffset","intersection","uv","fromBufferAttribute","pA","pB","pC","side","BackSide","intersectTriangle","DoubleSide","matrixWorld","distance","origin","near","far","checkIntersection","face","normal","faceIndex","checkBufferGeometryIntersection","intersectTris","intersectClosestTri","boundingBox","boxIntersection","intersectRay","node","boundingData","intersectBox","raycast","intersects","continueGeneration","geometry","left","right","raycastFirst","splitAxis","xyzAxis","leftToRight","direction","c1","c2","c1Result","c2Result","shapecast","_triangle","_cachedBox1","_cachedBox2","iterateOverTriangles","intersectsTriangleFunc","contained","depth","intersectsBoundsFunc","nodeScoreFunc","cachedBox1","cachedBox2","getLeftOffset","getRightEndOffset","score1","score2","box1","box2","temp","c1Intersection","c1StopTraversal","c2Intersection","c2StopTraversal","intersectsGeometry","triangle2","cachedMesh","Mesh","invertedMat","obb","obb2","geometryToBvh","cachedObb","computeBoundingBox","thisGeometry","thisIndex","thisPos","boundsTree","raycastBuffer","stride4Offset","stride2Offset","float32Array","_float32Array","uint16Array","_uint16Array","uint32Array","_uint32Array","intersectRayBuffer","raycastFirstBuffer","shapecastBuffer","getLeftOffsetBuffer","getRightEndOffsetBuffer","arrayToBoxBuffer","intersectsGeometryBuffer","bufferStack","_prevBuffer","setBuffer","Float32Array","Uint16Array","Uint32Array","clearBuffer","SKIP_GENERATION","tri2","bvh","copyIndexBuffer","finishTree","countNodes","populateBuffer","isLeaf","nextUnusedPointer","roots","_roots","rootData","_isPacked","root","nodeCount","indexAttribute","getIndex","setIndex","newIndex","BufferAttribute","isBufferGeometry","isInterleavedBufferAttribute","strategy","maxDepth","maxLeafTris","verbose","lazyGeneration","packData","splitNode","centroidBoundingData","reachedMaxDepth","nodeBoundingData","sahPlanes","avg","getAverage","TRAVERSAL_COST","INTERSECTION_COST","bb","dim","filteredLists","planes","getCost","sal","nl","sar","nr","bestCost","o1","o2","bmin","bmax","pinfo","ldim","rdim","ldimo1","rdimo1","ldimo2","rdimo2","cost","getOptimalSplit","splitOffset","axisOffset","partition","indexArray","lstart","lcount","cacheCentroidBoundingData","rstart","rcount","vertexCount","ensureIndex","verts","triCount","tri3","tri6","ai","bi","ci","halfExtents","el2","computeTriangleBounds","computeSAHPlanes","ranges","rangeBoundaries","sortedBoundaries","getRootIndexRanges","range","bx","boxToArray","rootBox","union","buildTree","traverse","rootIndex","_traverseBuffer","BYTES_PER_NODE","_traverseNode","isPacked","closestResult","geomToMesh","orderNodesFunc","boxToMesh","closestPointToGeometry","geom","minThreshold","maxThreshold","tempTarget1","tempTarget2","closestDistance","sphere1","sphere2","distanceToGeometry","LineBasicMaterial","color","transparent","opacity","Box3Helper","Ray","tmpInverseMatrix","origMeshRaycastFunc","HAS_IMAGE_BITMAP","createImageBitmap","HubsTextureLoader","TextureLoader","manager","width","height","conversionRatio","newWidth","newHeight","canvas","getContext","drawImage","UnsignedByteType","resizeIfNeeded","_loadImageBitmapTexture","loadAsync","Texture","ImageBitmapLoader","setCrossOrigin","crossOrigin","setPath","bitmap","Cache","flipY","mapMaterials","object3D","HubsMeshBasicMaterial","MeshBasicMaterial","Material","emissive","emissiveIntensity","emissiveMap","lightMap","lightMapIntensity","PI","aoMap","aoMapIntensity","alphaMap","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","onBeforeCompile","shader","uniforms","_emissive","_emissiveIntensity","_emissiveMap","fragmentShader","Color","HubsMeshPhongMaterial","MeshPhongMaterial","vertexShader","normalMapType","normalMap","normalScale","bumpMap","bumpScale","displacementMap","displacementScale","displacementBias","reflectivity","refractionRatio","nonCorsProxyDomains","proxiedUrlFor","parsedUrl","getCustomGLTFParserURLResolver","gltfUrl","basisJsUrl","basisWasmUrl","dracoWrapperJsUrl","dracoWasmUrl","corsProxyPrefix","originalUrlParts","Layers","disposeMaterial","mtrl","dispose","specularMap","envMap","metalnessMap","roughnessMap","eid","removeEntity","world","disposeNode","Quaternion","identity","parallelTraverse","cloneObject3D","preserveUUIDs","cloneLookup","cloneUUIDLookup","sourceNode","clonedNode","userData","gltfExtensions","MOZ_hubs_components","uuid","animations","animationClip","sourceAnimationClip","clonedTracks","tracks","keyframeTrack","sourceKeyframeTrack","nodeName","objectName","objectIndex","propertyName","propertyIndex","PropertyBinding","parseTrackName","clonedUUID","clonedKeyframeTrack","cloneKeyframeTrack","AnimationClip","duration","cloneAnimationClip","isMesh","isDirectionalLight","isSpotLight","isSkinnedMesh","sourceBones","bones","sourceBone","bindMatrix","inRotationMat4","inForward","outForward","outSide","worldUp","inMat4Copy","firstHitOnly","gltfCache","src","gltf","scene","gltfCacheKey","retain","cacheItem","release","inflightGltfs","extractZipFile","worker","nextItemId","outstanding","onmessage","msg","transfer","postMessage","promisifyWorker","defaultInflator","componentName","componentData","components","multiple","cloneGltf","getHubsComponents","hubsComponents","HUBS_components","legacyComponents","getHubsComponentsFromMaterial","GLTFModelPlus","registerComponent","componentKey","inflator","inflateEntities","indexToEntityMap","templates","isRoot","modelToWorldScale","childEntities","child","entityComponents","materialComponents","className","rotation","order","setFromQuaternion","quaternion","scale","multiplyScalar","matrixNeedsUpdate","matrixAutoUpdate","decompose","setObject3D","MathUtils","generateUUID","morphTargetInfluences","gltfIndex","inflatedEntity","isFirstInflation","objectInflations","objectInflation","resolveNodeRefs","propName","__mhc_link_type","attachTemplate","templateRoot","targetEls","querySelectorAll","cloneNode","appendChild","getHubsComponentsExtension","convertStandardMaterialsIfNeeded","materialQuality","convertStandardMaterial","quality","isMeshStandardMaterial","fromMeshStandardMaterial","ktxLoader","dracoLoader","GLTFHubsPlugin","jsonPreprocessor","textureLoader","beforeRoot","oldHeightfieldNode","heightfield","light","decay","runMigration","afterRoot","DefaultMatrixAutoUpdate","animation","track","parsedPath","scenes","findNode","GLTFHubsComponentsExtension","deps","resolveComponents","gltfRootType","idx","associations","getDependency","loadedDep","textures","MOZ_texture_rgbe","encoding","sRGBEncoding","GLTFHubsLightMapExtension","loadMaterial","results","intensity","isMeshBasicMaterial","GLTFHubsTextureBasisExtension","basisLoader","loadTexture","textureIndex","textureDef","BasisTextureLoader","detectSupport","renderer","loadTextureImage","GLTFMozTextureRGBE","minFilter","NearestMipmapNearestFilter","NearestMipmapLinearFilter","NearestFilter","LinearMipmapNearestFilter","LinearMipmapLinearFilter","LinearFilter","loadGLTF","fileMap","includes","useRangeRequests","loadingManager","LoadingManager","setURLModifier","gltfLoader","GLTFLoader","RGBELoader","setDataType","HalfFloatType","lowestMeshLevel","KTX2Loader","DRACOLoader","setKTX2Loader","setDRACOLoader","disposables","mozHubsComponents","propValue","isTexture","isGeometry","disposable","isMaterial","finally","revokeObjectURL","useCache","resolveAsset","assetEl","getElementById","inflate","init","loadTemplates","play","applySrc","templateEl","importNode","firstElementChild","lastSrc","inflatedEl","disposeLastInflatedEl","loadModel","model","initMixer","hasBufferGeometry","hasBoundsTree","MeshBVH","object3DToSet","visible","inflateComponents","rewires","parentNode","removeChild","removeAttribute","AVATAR_TYPES","SKINNABLE","resp","avatars","getAvatarType","fetchSkinnableAvatar","avatar_id","gltf_url","MAT_NAME","ensureAvatarMaterial","materialForMesh","primitive","parentId","parent_avatar_listing_id","files","srcUrl","createObjectURL","ctx","putImageData","toDataURL","img","disposeImageBitmap","imageBitmap","HTMLImageElement","TEXTURE_PROPS","base_map","emissive_map","normal_map","orm_map","ALL_MAPS","createRenderer","alpha","useDevicePixelRatio","antialias","premultipliedAlpha","preserveDrawingBuffer","powerPreference","WebGLRenderer","forceWebVR","outputEncoding","physicallyCorrectLights","setPixelRatio","devicePixelRatio","ORBIT_ANGLE","Euler","DEG2RAD","fitBoxInFrustum","camera","margin","halfYExtents","halfVertFOV","degToRad","fov","tan","applyEuler","lookAt","getThemeBackground","AvatarPreview","Component","Scene","PerspectiveCamera","clientWidth","clientHeight","controls","OrbitControls","screenSpacePanning","enableKeys","DirectionalLight","HemisphereLight","loadId","avatarGltfUrl","loadCurrentAvatarGltfUrl","clock","Clock","snapshotCanvas","snapshotCamera","snapshotRenderer","setClearAlpha","previewRenderer","setClearColor","setAnimationLoop","dt","getDelta","mixer","removeThemeChangedListener","resize","mounted","parentElement","offsetWidth","offsetHeight","setSize","aspect","updateProjectionMatrix","setAvatar","resetCamera","loading","setFromObject","domElement","imageBitmaps","componentDidUpdate","oldProps","applyMaps","loadPreviewAvatar","previewMesh","pred","idleAnimation","AnimationMixer","clipAction","enabled","setLoop","LoopRepeat","idleAnimationAction","frustumCulled","removeOnUpdate","getImage","originalMaps","dependencies","createDefaultEnvironmentMap","applyMapToPreview","revertMap","bm","snapshot","stop","toBlob","blob","newLoadId","onGltfLoaded","newProps","mapName","applyMap","File","classNames","warningIconUrl","srcSet","warningIcon2xUrl","defaultMessage","linebreak","ref","injectIntl","forwardRef","useThemeFromStore","setThemeId","useState","useEffect","onStoreChanged","nextThemeId","darkMode","setDarkMode","useCallback","useDarkMode","styleTag","useTheme","ThemeProvider","BUILD_VERSION","lastTouchAtMs","ev","preventDefault","getTime","isDoubleTouch","disableiOSZoom","AvatarPage","storeUpdated","forceUpdate","refetchAvatar","fetchAvatar","handleCopyAvatar","copyState","remixAvatar","copyMessage","styles","selectedAvatarId","isSelected","onSubmit","attributions","creator","allow_remixing","onClick","title","icon","faClone","disabled","alt","intl","ReactDOM","cachedSetTimeout","cachedClearTimeout","module","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","nextTick","browser","argv","versions","on","off","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","nodeType","freeGlobal","g","punycode","maxInt","base","tMax","skew","damp","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","fromCharCode","mapDomain","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","flag","adapt","numPoints","firstTime","decode","input","out","basic","j","oldi","baseMinusT","codePoint","inputLength","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","sep","eq","regexp","maxKeys","kstr","vstr","stringifyPrimitive","ks","util","Url","slashes","query","urlParse","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","queryIndex","splitter","uSplit","rest","simplePath","proto","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","ae","esc","escape","qm","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","isAbsolute","workerConstructor","workerOptions","globalScope","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","webkitURL","objectURL","webpackAsyncContext","req","__webpack_require__","TYPES_ENUM","i8","ui8","ui8c","i16","ui16","i32","ui32","f32","f64","TYPES_NAMES","TYPES","Int8Array","Uint8ClampedArray","Int16Array","Int32Array","Float64Array","roundToMultiple4","ceil","$storeRef","$storeSize","$storeMaps","$storeFlattened","$storeBase","$storeType","$storeArrayElementCounts","$storeSubarrays","$subarrayCursors","$subarray","$parentArray","$tagStore","$indexType","$indexBytes","$isEidType","stores","newBuffer","BYTES_PER_ELEMENT","newTa","createShadow","shadowStore","subarray","resizeRecursive","metadata","storeSize","cursors","indexType","arrayElementCount","start2","end2","resizeSubarray","resizeStore","resetStoreFor","parentArray","isArrayType","SparseSet","dense","sparse","comparator","swapped","DESERIALIZE_MODE","REPLACE","APPEND","MAP","resized","not","storeFlattened","isFullComponent","isProperty","isModifier","isNotModifier","isChangedModifier","isWorld","getOwnPropertySymbols","$componentMap","fromModifierToComponent","canonicalize","fullComponentProps","changedComponentProps","changedProps","$","defineSerializer","maxBytes","worldSerializer","componentProps","entityComponentCache","ents","component","$entityArray","eidToWorld","where","pid","$diff","shadow","setUint8","countWhere","writeCount","componentCache","newlyAddedComponent","hasComponent","rewindWhere","setUint32","indexBytes","countWhere2","arrayWriteCount","changed","newEntities","defineDeserializer","isWorld2","deserializedEntities","packet","mode","localEntities","$localEntities","localEntityLookup","$localEntityLookup","getUint8","entityCount","newEid","addEntity","$entitySparseSet","addComponent","localEid","$entityMasks","$entityComponents","defaultSize","globalEntityCursor","globalSize","getGlobalSize","removed","removedReuseThreshold","setDefaultSize","newSize","oldSize","resizeWorlds","resizeComponents","info","setRemovedRecycleThreshold","newThreshold","amount","$notQueries","queryCheckEntity","queryAddEntity","$queries","queryRemoveEntity","getEntityComponents","entityExists","Not","Changed","$queryAny","$queryAll","$queryNone","$queryMap","$dirtyQueries","$queryComponents","enterQuery","registerQuery","entered","exitQuery","exited","components2","notComponents","changedComponents","comp","mapComponents","allComponents","sparseSet","toRemove","generations","generationId","reduceBitflags","bitflag","masks","notMasks","hasMasks","flatProps","archetypes","shadows","queries","generateShadow","flatten","aggregateComponentsFor","defineQuery","comps","clearDiff","commitRemovals","dirty","diff","none","qMask","qNotMask","eMask","queryCommitRemovals","resetChangedQuery","removeQuery","defineComponent","$store","arrayElementCounts","collectArrayElementCounts","recursiveTransform","totalBytes","createTypeStore","createArrayStore","createStore","notQueries","changedQueries","$bitflag","$size","incrementBitflag","registerComponents","registeredComponent","reset","removeComponent","$resizeThreshold","$archetypes","worlds","createWorld","resetWorld","deleteWorld","getWorldComponents","getAllEntities","defineSystem","tmp","Types","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","chunkIds","priority","notFulfilled","every","getter","__esModule","__proto__","ns","definition","chunkId","miniCssF","Function","needAttach","scripts","getElementsByTagName","charset","nc","onScriptComplete","onload","doneFns","nmd","paths","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}